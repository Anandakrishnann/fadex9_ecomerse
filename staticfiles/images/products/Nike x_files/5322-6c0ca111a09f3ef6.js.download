"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5322],{85236:function(e,i,t){var n=t(52903),l=t(2784),o=t(77146),r=t(50651),a=t(340),d=t(21640),u=t(61100),s=t(16590);let v=(0,l.forwardRef)((e,i)=>{let{src:t,width:v=u.TH,height:c=u.lG,htmlHeight:m,htmlWidth:f,isPriority:p=!1,preloadImage:k=!1,extraImageParams:g={},is360:Z=!1,isVideoThumbnail:h=!1,isVideoImage:S=!1,...b}=e,F=(0,o.Z)(),I=null==t?void 0:t.includes("Placeholder"),L=u.yk.some(e=>null==t?void 0:t.includes(e)),P=I||!L||!t,{fallbackSrc:E,fallbackSrcSet:w}=(0,l.useMemo)(()=>{let{imageSrc:e,imageSrcSet:i}=(0,s.Z)({src:u.oI,dpr:2,width:v,height:c,preferredImageFormat:F});return{fallbackSrc:e,fallbackSrcSet:i}},[c,F,v]),_=(0,l.useMemo)(()=>{if(P)return{};let{imageSrc:e,imageSrcSet:i}=(0,s.Z)({src:t,extraImageParams:g,width:v,height:c,preferredImageFormat:F});return{srcSet:i,src:e}},[P,t,g,v,c,F]);if(P)return(0,n.tZ)(a.Ee,{referrerPolicy:"origin",htmlWidth:f,htmlHeight:m,srcSet:w,src:E,...b});if(h||S){let e=S?c:78,i=S?v:78,l=`${t}${t.includes("time")?"&":"?"}height=${e}&width=${i}`;return(0,n.tZ)(a.Ee,{referrerPolicy:"origin",htmlWidth:f,htmlHeight:m,src:l,...b})}return(0,n.BX)(l.Fragment,{children:[k&&(null==_?void 0:_.srcSet)&&(null==_?void 0:_.src)&&(0,n.tZ)(r.Z,{srcSet:_.srcSet,src:_.src}),(0,n.tZ)(a.Ee,{ref:i,referrerPolicy:"origin",htmlWidth:f,htmlHeight:m,ignoreFallback:(null==_?void 0:_.src)||d.s||Z,fallbackSrc:E,fetchpriority:p?"high":void 0,..._,...b})]})});i.Z=v},61100:function(e,i,t){t.d(i,{TH:function(){return o},lG:function(){return r},oI:function(){return n},yk:function(){return l}});let n="https://stockx-assets.imgix.net/media/Product-Placeholder-Default-20210415.jpg?fit=fill&bg=FFFFFF&auto=format,compress&q=90&dpr=2&trim=color",l=[".net/",".io/",".com/"],o=576,r=384},16590:function(e,i,t){var n=t(340);i.Z=e=>{let{src:i,preferredImageFormat:t,width:l,height:o,extraImageParams:r={}}=e,{client:a,path:d}=(0,n.jH)(i),u=d.split("?"),{q:s,...v}=Object.fromEntries(new URLSearchParams(u[1]??"").entries()),c=null==a?void 0:a.buildURL(u[0],{...v,...r,w:l,h:o,fm:t,q:60,auto:"compress"}),m={...v,...r,w:l,h:o,auto:"compress",fm:t};return{imageSrc:c,imageSrcSet:null==a?void 0:a.buildSrcSet(u[0],m,{variableQualities:{1:57,2:60,3:41},devicePixelRatios:[1,2,3]})}}},91804:function(e,i,t){let n=(0,t(38906).Z)(()=>Promise.all([t.e(9037),t.e(5527),t.e(8448),t.e(3955),t.e(7201),t.e(5712),t.e(6511),t.e(6478)]).then(t.bind(t,86533)));i.Z=n},2590:function(e,i,t){let n=(0,t(38906).Z)(()=>t.e(6830).then(t.bind(t,86118)));i.Z=n},87760:function(e,i,t){let n=(0,t(38906).Z)(()=>Promise.all([t.e(9037),t.e(5527),t.e(8448),t.e(3955),t.e(7201),t.e(5712),t.e(6511),t.e(3642)]).then(t.bind(t,54086)));i.Z=n},10622:function(e,i,t){var n=t(95713),l=t(3710),o=t(47703);i.Z=e=>{let i=(0,o.Z)(),{mutatefn:t,data:r,error:a,loading:d}=(0,n.Z)(l.Z,{onSuccess(t){if(null==e?void 0:e.id){var n,l;let o=null==t?void 0:null===(l=t.updateListItems)||void 0===l?void 0:null===(n=l.items)||void 0===n?void 0:n.reduce((e,i)=>{var t;return(null==i?void 0:null===(t=i.item)||void 0===t?void 0:t.id)&&(e[i.item.id]=!!i.item.favorite),e},{});i({[null==e?void 0:e.id]:!0,...o})}}});return{data:r,error:a,loading:d,favoriteProduct:t}}},81165:function(e,i,t){var n=t(2784),l=t(72242),o=t(22916),r=t(1925),a=t(23906),d=t(847),u=t(91720),s=t(53361),v=t(67176),c=t(13112),m=t(10622),f=t(96727),p=t(47703);i.Z=e=>{let{product:i,onOpen:t,favoritedProduct:k,onClose:g,onPDPAddToListToggle:Z,showAddToListInToast:h=!1}=e,{t:S}=(0,l.$G)(),b=(0,r.Z)(),F=(0,a.Z)(),{isOpen:I,onOpen:L,onClose:P}=(0,d.q)(),E=(0,u.pmc)(),w=(0,p.Z)(),[_,U]=(0,n.useState)(!1),N=s.Z.PRODUCT_FAVORITED,{updateFavoriteProduct:O,loading:y,data:D,error:C}=(0,f.Z)(),{favoriteProduct:R,loading:T,data:A,error:j}=(0,m.Z)(i);(0,n.useEffect)(()=>{var e;A&&(null==A?void 0:null===(e=A.updateListItems)||void 0===e?void 0:e.status)!==o.vn.FAILURE&&!T&&(null==g||g(),E({message:S("favorite_confirmation_message"),duration:6e3,isCloseable:!0,action:{text:h?S("pdp_add_to_portfolio_or_favorite_header"):S("favorite_confirmation_link"),handleClick:()=>{h?(E.closeAll(),null==Z||Z()):F.push(b("/favorites/all-favorites"))}}}))},[A,T]),(0,n.useEffect)(()=>{var e,t,n;if(D&&(null==D?void 0:null===(e=D.updateListItems)||void 0===e?void 0:e.status)!==o.vn.FAILURE&&!y&&(null==i?void 0:i.id)){let e=null==D?void 0:null===(n=D.updateListItems)||void 0===n?void 0:null===(t=n.items)||void 0===t?void 0:t.reduce((e,i)=>{var t;return(null==i?void 0:null===(t=i.item)||void 0===t?void 0:t.id)&&(e[i.item.id]=!!i.item.favorite),e},{});w({[null==i?void 0:i.id]:!1,...e}),null==g||g(),E({message:S("unfavorite_confirmation_message",{productTitle:null==i?void 0:i.title}),duration:6e3,isCloseable:!0,action:{text:S("unfavorite_confirmation_link"),handleClick:()=>x()}})}},[D,y]),(0,n.useEffect)(()=>{var e,i;(j||C||(null==A?void 0:null===(e=A.updateListItems)||void 0===e?void 0:e.status)===o.vn.FAILURE||(null==D?void 0:null===(i=D.updateListItems)||void 0===i?void 0:i.status)===o.vn.FAILURE)&&(null==g||g(),L())},[C,j,A,D]),(0,n.useEffect)(()=>{_&&(j||C?q():(P(),t()),U(!1))},[_]);let x=async()=>{var e,t;await V(),H({segmentEvent:N,singleSizeVariant:null==i?void 0:null===(t=i.variants)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.id})},V=async()=>{var e,t;await R({input:{action:"ADD",items:[{productId:null==i?void 0:i.id,variantId:null==i?void 0:null===(t=i.variants)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.id}]}})},$=async()=>{var e,t;await O({input:{action:"DELETE",items:[{productId:null==i?void 0:i.id,variantId:null==i?void 0:null===(t=i.variants)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.id}]}})},H=e=>{let{segmentEvent:t,singleSizeVariant:n}=e;(0,v.Z)(t,{vertical:null==i?void 0:i.productCategory,screenName:c.Z.PRODUCT,productUUID:null==i?void 0:i.id,skuUUID:n||null,productName:null==i?void 0:i.title})},q=async()=>{var e,t,n,l;k?(await $(),H({segmentEvent:s.Z.PRODUCT_UNFOLLOWED,singleSizeVariant:null==i?void 0:null===(t=i.variants)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.id})):(await V(),H({segmentEvent:N,singleSizeVariant:null==i?void 0:null===(l=i.variants)||void 0===l?void 0:null===(n=l[0])||void 0===n?void 0:n.id}))};return{handleFavoriteUpdate:q,favoriteLoading:T,unfavoriteLoading:y,setRetry:U,modalErrorIsOpen:I,modalErrorOnClose:P,modalErrorOnOpen:L}}},49769:function(e,i,t){let n=(0,t(12294).Ue)(e=>({favoritedProductsList:{},setFavoritedProductsList:i=>e(e=>({favoritedProductsList:{...e.favoritedProductsList,...i}}))}));i.Z=n},8241:function(e,i,t){t.d(i,{Z:function(){return o}});var n=t(49769),l=()=>(0,n.Z)(e=>e.favoritedProductsList),o=(e,i)=>{let t=l();return(null==t?void 0:t[e])??i}},47703:function(e,i,t){var n=t(49769);i.Z=()=>(0,n.Z)(e=>e.setFavoritedProductsList)},96727:function(e,i,t){var n=t(95713),l=t(3710);i.Z=()=>{let{mutatefn:e,data:i,error:t,loading:o}=(0,n.Z)(l.Z);return{data:i,error:t,loading:o,updateFavoriteProduct:e}}},3710:function(e,i){i.Z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateFavoriteProduct"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NamedType",name:{kind:"Name",value:"UpdateListItemsInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateListItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"item"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"favorite"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:220,source:{body:"\n  mutation UpdateFavoriteProduct($input: UpdateListItemsInput) {\n    updateListItems(input: $input) {\n      status\n      items {\n        status\n        item {\n          id\n          favorite\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}}},77146:function(e,i,t){var n,l,o=t(2784),r=t(65262);(n=l||(l={})).jpg="jpg",n.webp="webp",n.avif="avif";let a=e=>{var i;return parseInt((null===(i=e.split("."))||void 0===i?void 0:i[0])??"0",10)},d=(e,i,t)=>"Safari"===e&&i>=16||"Chrome"===e&&i>90&&"iOS"!==t||"Firefox"===e&&i>93&&"iOS"!==t||"Opera"===e&&i>71&&"iOS"!==t,u=(e,i,t,n,l)=>"Firefox"===e&&i>65&&i<93||"Safari"===e&&i>=14&&"desktop"!==l?"webp":"Chrome"===e&&i>33&&"iOS"!==t||("Chrome"===e&&"desktop"!==l&&"iOS"===t&&n>=14||"Safari"===e&&i>=15&&"desktop"===l||"Microsoft Edge"===e&&i>=18?"webp":void 0);i.Z=()=>{let e=(0,r.o)();return(0,o.useMemo)(()=>{if(!e)return"jpg";let i=e.browser.name,t=a(e.browser.version??""),n=e.os.name,l=a(e.os.version??""),o=e.platform.type;return i&&n&&o?d(i,t,n)?"avif":u(i,t,n,l,o)?"webp":"jpg":"webp"},[e])}}}]);