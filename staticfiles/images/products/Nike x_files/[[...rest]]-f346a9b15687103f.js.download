(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1532,7619,6101,1516,3178],{98316:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var i=n(52903);n(2784);var l=n(77533),a=n(43297),r=n(32368),o=n(72242),d=n(64243),s=n(85299),u=n(16556),c=n(75190),m=n(19065),v=e=>{let{idStatus:t}=e,{t:n}=(0,o.$G)();switch(t){case"PENDING":return(0,i.tZ)(m.Z,{alignSelf:"flex-start"});case"SUCCESS":return(0,i.BX)(u.Vp,{alignSelf:"flex-start",bg:"success-background",children:[(0,i.tZ)(c.A,{as:d.Z,color:"success"}),(0,i.tZ)(u.Sn,{children:n("tax_registration_label_status_success")})]});case"DECLINED":return(0,i.BX)(u.Vp,{alignSelf:"flex-start",bg:"error-background",children:[(0,i.tZ)(c.A,{as:s.z,color:"error"}),(0,i.tZ)(u.Sn,{children:n("tax_registration_label_status_declined")})]})}},p=n(50224),h=n(46459);let g=e=>{switch(e){case"RFC":return{label:"regulatory_rfc_label",placeholder:"regulatory_rfc_empty_label"};case"VAT":return{label:"regulatory_vat_label",placeholder:"regulatory_vat_empty_label"};default:return{label:"regulatory_label_generic",placeholder:"regulatory_empty_label_generic"}}},y=e=>{let{idValue:t,idStatus:n,idType:r,variant:d}=e,{t:s}=(0,o.$G)();return"settings"===d?(0,i.tZ)(l.x,{children:(0,i.BX)(a.K,{as:"span",flexDirection:"row",children:[(0,i.BX)("span",{"data-testid":"settings-regulatory-label",children:[s(g(r).label),":"]}),(0,i.tZ)("span",{children:t})]})}):n===p.Z.Declined?(0,i.tZ)(l.x,{color:"red.500",children:s("tax_registration_declined_id",{idType:r,idValue:t})}):(0,i.tZ)(l.x,{children:`${r} ${t}`})},k=e=>{let{idType:t}=e,{t:n}=(0,o.$G)(),{placeholder:a}=g(t);return(0,i.tZ)(l.x,{children:n(a)})};var Z=e=>{let{registrationType:t,variant:n=""}=e,{isLoading:l,data:o}=(0,h.Z)({registrationType:t});return(0,i.tZ)(r.l,{isLoaded:!l,height:"16px",width:"100px",children:(0,i.BX)(a.K,{children:["settings"===n&&o&&(0,i.tZ)(v,{idStatus:o.idStatus}),(null==o?void 0:o.idValue)?(0,i.tZ)(y,{...o,variant:n}):(0,i.tZ)(k,{idType:t})]})})}},10579:function(e,t,n){"use strict";var i=n(52903);n(2784);var l=n(47443),a=n(72242),r=n(63980),o=n(61120),d=n(46459),s=n(50224);let u=e=>{var t,n,i;let l=null==e?void 0:null===(i=e.viewer)||void 0===i?void 0:null===(n=i.compliance)||void 0===n?void 0:null===(t=n.regulatoryIds)||void 0===t?void 0:t[0];switch(null==l?void 0:l.idStatus){case s.Z.Accepted:return{variant:"success",text:"tax_registration_status_banner_success"};case s.Z.Pending:return{variant:"warning",text:"tax_registration_status_banner_pending"};case s.Z.Declined:return{variant:"error",text:"tax_registration_status_banner_declined"}}};t.Z=()=>{let{t:e}=(0,a.$G)(),{data:t}=(0,r.Z)(),{hasUpdated:n}=(0,o.Z)(),{data:s}=(0,d.Z)({registrationType:null==t?void 0:t.registrationType},{select:u,enabled:n});if(s&&n)return(0,i.tZ)(l.b,{variant:s.variant,children:e(s.text)})}},19065:function(e,t,n){"use strict";var i=n(52903);n(2784);var l=n(67813),a=n(16556),r=n(75190),o=n(72242);t.Z=e=>{let{t}=(0,o.$G)();return(0,i.BX)(a.Vp,{...e,children:[(0,i.tZ)(r.A,{as:l.W,animated:!0}),(0,i.tZ)(a.Sn,{children:t("tax_registration_label_status_pending")})]})}},2081:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var i=n(52903);n(2784);var l=n(43297),a=n(74409),r=n(77533),o=n(62614),d=n(10681),s=n(63980),u=n(46459),c=n(61120),m=n(11204),v=n(91720),p=n(55199),h=n(97217),g=n(50250),y=n(32981),k=n(73751),Z=n(54843),f=n(92139),b=n(61329);let C={Wrapper:v.u_l,Content:p.h,Body:h.f,Footer:g.m},S={Wrapper:y.d,Content:k.s,Body:h.f,Footer:g.m},_=e=>{let{children:t,isOpen:n,onClose:l,size:a="lg"}=e,{Wrapper:r,Content:o}=(0,Z.r)({base:S,lg:C})??C;return(0,i.BX)(r,{placement:"bottom",size:a,isOpen:n,onClose:l,isCentered:!0,children:[(0,i.tZ)(f.Z,{}),(0,i.BX)(o,{children:[(0,i.tZ)(b.o,{}),t]})]})},x=e=>{let{children:t,...n}=e,{Body:a}=(0,Z.r)({base:S,lg:C})??C;return(0,i.tZ)(a,{as:l.K,spacing:2,marginTop:3,...n,children:t})},N=e=>{let{children:t,...n}=e,{Footer:a}=(0,Z.r)({base:S,lg:C})??C;return(0,i.tZ)(a,{as:l.K,alignItems:"stretch",flexDirection:{base:"column",lg:"row"},justifyContent:"space-between",fontSize:{base:"xl",lg:"md"},...n,children:t})};var w=n(41147),E=n(72242),T=e=>{let{context:t=m.T.Sell}=e,{t:n}=(0,E.$G)(),[v,p]=(0,w.Z)("tax_registration_prompt_dismissed",!1),{data:h}=(0,s.Z)(m.T.Sell),{data:g}=(0,u.Z)({registrationType:null==h?void 0:h.registrationType}),{update:y,isLoading:k}=(0,c.Z)(),Z=()=>p(!0);if((t!==m.T.Sell||(null==h?void 0:h.sellerRegistrationEnabled))&&(t!==m.T.Buy||(null==h?void 0:h.buyerRegistrationEnabled))&&(null==g||!g.idValue)&&!v)return(0,i.BX)(_,{isOpen:!v,onClose:Z,children:[(0,i.tZ)(x,{"data-testid":"tax-registration-prompt",children:(0,i.BX)(l.K,{children:[(0,i.tZ)(a.X,{variant:"bold",children:n("tax_registration_prompt_header")}),(0,i.tZ)(r.x,{children:n(t===m.T.Buy?"tax_registration_prompt_message_buy":"tax_registration_prompt_message_sell")}),(0,i.BX)(l.K,{direction:"row",bg:"background-tertiary",p:3,align:"center",children:[(0,i.tZ)(d.O,{}),(0,i.tZ)(r.x,{variant:"bold",children:n("tax_registration_prompt_disclaimer")})]})]})}),(0,i.BX)(N,{flexDirection:"row",children:[(0,i.tZ)(o.z,{variant:"secondary",onClick:Z,children:n("tax_registration_prompt_dismiss")}),(0,i.tZ)(o.z,{variant:"primary",isLoading:k,onClick:()=>y({context:t,registrationType:null==h?void 0:h.registrationType},{onSuccess:Z}),children:n("tax_registration_prompt_cta")})]})]})}},75371:function(e,t,n){"use strict";var i=n(52903),l=n(2784),a=n(62614),r=n(11204),o=n(85959),d=n(72242),s=n(50224),u=n(61120),c=n(46459),m=n(19065);t.Z=e=>{let{registrationType:t,context:n,hidden:v,children:p,displayStatus:h,...g}=e,{t:y}=(0,d.$G)(),[k,Z]=(0,l.useState)(!1),{update:f,isLoading:b,setUpdating:C}=(0,u.Z)(),{refetch:S,data:_}=(0,c.Z)({registrationType:t}),x=(null==_?void 0:_.idStatus)===s.Z.Pending;return t?k?(0,i.tZ)(a.z,{onClick:()=>{S(),C(),Z(!1)},leftIcon:(0,i.tZ)(o.O,{}),...g,variant:"secondary",children:y("Refresh")}):h&&(null==_?void 0:_.idStatus)===s.Z.Pending?(0,i.tZ)(m.Z,{}):n===r.T.Buy?(0,i.tZ)(a.z,{variant:"link-underline",color:"brand-primary",fontSize:"xs",textTransform:"uppercase",height:"auto",padding:"0","data-testid":"tax-id-btn",onClick:()=>f({context:n,registrationType:t}),children:p}):(0,i.tZ)(a.z,{variant:"secondary",isLoading:b,hidden:v||x,...g,onClick:()=>f({context:n,registrationType:t},{onSuccess:Z}),children:p}):void 0}},50224:function(e,t){"use strict";var n,i;(i=n||(n={})).Accepted="SUCCESS",i.Declined="DECLINED",i.Pending="PENDING",t.Z=n},63980:function(e,t,n){"use strict";var i=n(2969),l=n(11204),a=n(53946);let r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetCountryTaxStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filter"}},type:{kind:"NamedType",name:{kind:"Name",value:"CountriesFilter"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allCountries"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"Variable",name:{kind:"Name",value:"filter"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"iso2"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"taxRegistrationDetails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"registrationType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sellerRegistrationEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buyerRegistrationEnabled"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:263,source:{body:"\n  query GetCountryTaxStatus($filter: CountriesFilter) {\n    allCountries(filter: $filter) {\n      iso2\n      displayName\n      taxRegistrationDetails {\n        registrationType\n        sellerRegistrationEnabled\n        buyerRegistrationEnabled\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},o=e=>{switch(e){case l.T.Sell:return e=>{var t,n,i,l;return null==e?void 0:null===(l=e.allCountries)||void 0===l?void 0:null===(i=l[0])||void 0===i?void 0:null===(n=i.taxRegistrationDetails)||void 0===n?void 0:null===(t=n.filter(e=>!!(null==e?void 0:e.sellerRegistrationEnabled)))||void 0===t?void 0:t[0]};case l.T.Buy:return e=>{var t,n,i,l;return null==e?void 0:null===(l=e.allCountries)||void 0===l?void 0:null===(i=l[0])||void 0===i?void 0:null===(n=i.taxRegistrationDetails)||void 0===n?void 0:null===(t=n.filter(e=>!!(null==e?void 0:e.buyerRegistrationEnabled)))||void 0===t?void 0:t[0]};default:return e=>{var t,n,i;return null==e?void 0:null===(i=e.allCountries)||void 0===i?void 0:null===(n=i[0])||void 0===n?void 0:null===(t=n.taxRegistrationDetails)||void 0===t?void 0:t[0]}}};t.Z=e=>{var t,n;let l=(0,a.Z)(),d=null==l?void 0:null===(n=l.Shipping)||void 0===n?void 0:null===(t=n.Address)||void 0===t?void 0:t.countryCodeAlpha2;return(0,i.Z)(r,{variables:{filter:{iso2:{is:d}}},enabled:!!d,select:o(e)})}},61120:function(e,t,n){"use strict";var i=n(95713),l=n(53946),a=n(75337),r=n.n(a),o=n(12294);let d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateTaxRegistration"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"registrationInput"}},type:{kind:"NamedType",name:{kind:"Name",value:"TaxRegistrationInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateTaxRegistration"},arguments:[{kind:"Argument",name:{kind:"Name",value:"registrationInput"},value:{kind:"Variable",name:{kind:"Name",value:"registrationInput"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"inquiryLink"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:173,source:{body:"\n  mutation UpdateTaxRegistration($registrationInput: TaxRegistrationInput) {\n    updateTaxRegistration(registrationInput: $registrationInput) {\n      inquiryLink\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},s=(0,o.Ue)(e=>({isUpdating:!1,hasUpdated:!1,setUpdating:()=>e({isUpdating:!0,hasUpdated:!0}),reset:()=>e({isUpdating:!1})}));t.Z=()=>{let{isUpdating:e,setUpdating:t,reset:n,hasUpdated:a}=s(e=>e),o=(0,l.Z)(),{mutate:u,...c}=(0,i.Z)(d,{onSuccess:e=>{var t;let n=null==e?void 0:null===(t=e.updateTaxRegistration)||void 0===t?void 0:t.inquiryLink;n&&window.open(n,"_blank")}});return{update:function(e){var t,n;let{registrationType:i="",context:l}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u({registrationInput:{registrationType:i,country:null==o?void 0:null===(n=o.Shipping)||void 0===n?void 0:null===(t=n.Address)||void 0===t?void 0:t.countryCodeAlpha2,context:r()(l)}},a)},...c,isUpdating:e,setUpdating:t,hasUpdated:a,reset:n}}},46459:function(e,t,n){"use strict";var i=n(2969),l=n(53946);let a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TaxRegistration"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"registrationType"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"countryCode"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"compliance"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"regulatoryIds"},arguments:[{kind:"Argument",name:{kind:"Name",value:"idType"},value:{kind:"Variable",name:{kind:"Name",value:"registrationType"}}},{kind:"Argument",name:{kind:"Name",value:"countryCode"},value:{kind:"Variable",name:{kind:"Name",value:"countryCode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idValue"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idType"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:268,source:{body:"\n  query TaxRegistration($registrationType: String, $countryCode: String) {\n    viewer {\n      compliance {\n        regulatoryIds(idType: $registrationType, countryCode: $countryCode) {\n          idStatus\n          idValue\n          idType\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},r=e=>{var t,n,i;return null==e?void 0:null===(i=e.viewer)||void 0===i?void 0:null===(n=i.compliance)||void 0===n?void 0:null===(t=n.regulatoryIds)||void 0===t?void 0:t[0]};t.Z=function(e){var t,n;let{registrationType:o}=e,{enabled:d=!0,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=(0,l.Z)();return(0,i.Z)(a,{variables:{registrationType:o,countryCode:null==u?void 0:null===(n=u.Shipping)||void 0===n?void 0:null===(t=n.Address)||void 0===t?void 0:t.countryCodeAlpha2},select:r,refetchInterval:e=>(null==e?void 0:e.idStatus)==="PENDING"&&3e3,enabled:!!o&&d,refetchOnWindowFocus:!0,...s})}},59867:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(53992),l=n(2969),a=n(53753),r=n(28455),o=n(22916),d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetViewerAccount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"version"}},type:{kind:"NamedType",name:{kind:"Name",value:"MarketViewerContextAlgorithmVersion"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"account"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isIntraZone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"marketViewerContext"},arguments:[{kind:"Argument",name:{kind:"Name",value:"version"},value:{kind:"Variable",name:{kind:"Name",value:"version"}}}],directives:[]}]}}]}}]}}],loc:{start:0,end:189,source:{body:"\n  query GetViewerAccount($version: MarketViewerContextAlgorithmVersion) {\n    viewer {\n      account {\n        isIntraZone\n        marketViewerContext(version: $version)\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};let s=e=>{var t;return null==e?void 0:null===(t=e.viewer)||void 0===t?void 0:t.account};var u=()=>{let e=(0,r.Z)(),t="true"===(0,a.Z)(i.Z.ab_k3z78_web);return(0,l.Z)(d,{variables:{version:t?o.ev.V2:o.ev.V1},enabled:e,select:s})}},52784:function(e,t,n){"use strict";var i=n(52903);n(2784);var l=n(28535),a=n(77533);t.Z=e=>{let{error:t}=e;return t?(0,i.tZ)(l.xu,{backgroundColor:"error-background",borderColor:"error",borderWidth:"2px",borderStyle:"solid",children:(0,i.tZ)(a.x,{padding:4,children:t})}):null}},53592:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var i=n(52903),l=n(2784),a=n(45430),r=n(47965),o=n(77533),d=n(28535),s=n(62614),u=n(72242),c=n(13112),m=n(53361),v=n(82236),p=n(55885),h=n(82713);let g=(0,p.m)(o.x,{baseStyle:{lineHeight:"1rem",color:"text-secondary",whiteSpace:"pre-line"}}),y=(0,p.m)(o.x,{baseStyle:{lineHeight:"1.1rem",color:"text-primary",whiteSpace:"pre-line"}}),k=(0,p.m)("div",{baseStyle:{display:"flex",flexDirection:"row",justifyContent:"flex-start",flexWrap:"wrap",width:"100%"}}),Z=(0,p.m)("div",{baseStyle:{height:{base:"auto",md:"140px"},overflow:"auto",width:{base:"100%",md:"calc(50% - 8px)"},backgroundColor:"background-secondary",borderColor:"brand-secondary",borderWidth:"1px",borderStyle:"solid",p:"10px",m:"4px"}}),f=(0,p.m)(h.X,{baseStyle:{float:"right",ml:"4px"}}),b=(0,p.m)(h.X,{baseStyle:{float:"right",ml:"4px",input:{_checked:{pointerEvents:"none"}}}});var C=e=>{let{addressText:t,isSelected:n,onClick:l,showEmptyCheckbox:a=!1}=e;return(0,i.BX)(Z,{onClick:l,"data-testid":"SuggestedDynamicAddress",children:[n?(0,i.tZ)(b,{defaultChecked:!0,isChecked:!0}):a&&(0,i.tZ)(f,{}),(0,i.tZ)(y,{fontSize:"md",children:t})]})},S=n(32981),_=n(92139),x=n(73751),N=n(54326),w=n(61329),E=n(97217),T=n(50250),I=n(91720),A=n(55199);let B=e=>{let{isOpen:t,onClose:n,children:a}=e;return"base"===(0,r.EN)()?(0,i.BX)(S.d,{isOpen:t,onClose:()=>n(),closeOnOverlayClick:!1,placement:"bottom",children:[(0,i.tZ)(_.Z,{}),(0,i.BX)(x.s,{maxH:"80%",children:[(0,i.tZ)(N.x,{children:l.Children.map(a,e=>"Header"===e.type.displayName&&l.cloneElement(e))}),(0,i.tZ)(w.o,{}),(0,i.tZ)(E.f,{children:l.Children.map(a,e=>"Body"===e.type.displayName&&l.cloneElement(e))}),(0,i.tZ)(T.m,{justifyContent:"center",flexDirection:"column",children:l.Children.map(a,e=>"Footer"===e.type.displayName&&l.cloneElement(e))})]})]}):(0,i.BX)(I.u_l,{isOpen:t,onClose:()=>n(),closeOnOverlayClick:!1,isCentered:!0,scrollBehavior:"inside",children:[(0,i.tZ)(_.Z,{}),(0,i.BX)(A.h,{children:[(0,i.tZ)(N.x,{children:l.Children.map(a,e=>"Header"===e.type.displayName&&l.cloneElement(e))}),(0,i.tZ)(w.o,{}),(0,i.tZ)(E.f,{children:l.Children.map(a,e=>"Body"===e.type.displayName&&l.cloneElement(e))}),(0,i.tZ)(T.m,{children:l.Children.map(a,e=>"Footer"===e.type.displayName&&l.cloneElement(e))})]})]})};B.Header=e=>{let{children:t}=e;return(0,i.tZ)(i.HY,{children:t})},B.Header.displayName="Header",B.Body=e=>{let{children:t}=e;return(0,i.tZ)(i.HY,{children:t})},B.Body.displayName="Body",B.Footer=e=>{let{children:t}=e;return(0,i.tZ)(i.HY,{children:t})},B.Footer.displayName="Footer";var D=e=>{let{isOpen:t,suggestions:n,submitSuggestedAddress:p,dismissSuggestions:h,enteredAddress:y,isAddressOverrideable:Z=!1,submitOverrideAddress:f=()=>null}=e,b="ENTERED_ADDRESS",S=(null==n?void 0:n.length)>0,{trackSegmentEvent:_,trackSegmentScreen:x}=(0,v.Z)(),N="base"===(0,r.EN)(),w=!!Z,{t:E}=(0,u.$G)(),[T,I]=(0,l.useState)("0");(0,l.useEffect)(()=>{I(S?"0":b)},[S]),(0,a.Z)(()=>{x({pageType:c.Z.SUGGESTED_ADDRESS,type:(null==n?void 0:n.length)>0?"suggested":"override",value:n.length})});let A=T===b,D="";D=E(!S&&w?"suggested_address_modal_submit_entered_button_override_only":A?"suggested_address_modal_submit_entered_button":"suggested_address_modal_submit_button");let P=(0,l.useCallback)(()=>{_({eventName:m.Z.CLOSE_CLICKED,screenName:c.Z.SUGGESTED_ADDRESS,type:S?"suggestion":"override"}),h()},[h,_,null==n?void 0:n.length,S]),F=e=>{T!==e&&(_({eventName:m.Z.SUGGESTED_ADDRESS_ACTION,screenName:c.Z.SUGGESTED_ADDRESS,type:e===b?"override":"suggestion"}),I(e))};return(0,i.BX)(B,{isOpen:t??(S||w),onClose:()=>P(),children:[(0,i.tZ)(B.Header,{children:E(S?"suggested_address_modal_heading":"suggested_address_modal_heading_override")}),(0,i.BX)(B.Body,{children:[(0,i.tZ)(o.x,{fontSize:"sm",textAlign:"left",mb:4,children:E(S&&!A?"suggested_address_modal_subheading":"suggested_address_modal_subheading_override")}),(0,i.tZ)(o.x,{fontSize:"md",fontWeight:"bold",children:E(S?"suggested_address_modal_you_entered":"suggested_address_modal_you_entered_override")}),w?(0,i.tZ)(C,{addressText:y,isSelected:S&&A,showEmptyCheckbox:S,onClick:()=>F(b)}):(0,i.tZ)(g,{fontSize:"sm",children:y}),S&&(0,i.BX)(d.xu,{display:"flex",flexDirection:"row",justifyContent:"flex-start",mt:4,children:[(0,i.tZ)(o.x,{fontSize:"md",fontWeight:"bold",display:"block",children:E("suggested_address_modal_suggested")}),(0,i.tZ)(o.x,{fontSize:"xs",color:"text-disabled",ml:2,children:E("suggested_address_modal_suggested_subtext")})]}),(0,i.tZ)(k,{children:n.map((e,t)=>{var n,l;return(0,i.tZ)(C,{addressText:(null==e?void 0:null===(l=e.formatted)||void 0===l?void 0:null===(n=l.raw)||void 0===n?void 0:n.display)??"",isSelected:T===`${t}`,onClick:()=>F(`${t}`),showEmptyCheckbox:!0},t)})})]}),(0,i.BX)(B.Footer,{children:[(0,i.tZ)(s.z,{variant:"primary",onClick:()=>{if(!S&&w||A){f();return}p(n[T].address,n[T].addressToken)},children:D}),!S&&w&&(0,i.tZ)(s.z,{mt:N?1:3,variant:"link-underline",onClick:()=>P(),children:E("suggested_address_modal_edit_button_override")})]})]})}},95088:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var i=n(2784),l=n(55830),a=n(67176),r=n(53361),o=n(13112),d=n(80791),s=n(37757),u=n(95713),c=n(18766),m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SubmitDynamicAddress"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NamedType",name:{kind:"Name",value:"SaveAddressInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"saveAddress"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shipping"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"formatted"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"raw"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address1"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address2"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"region"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"postalCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"display"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"parsed"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address1"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address2"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"region"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"postalCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"display"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"suggestions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"formatted"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"raw"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address1"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address2"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"region"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"postalCode"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"display"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"parsed"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address1"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address2"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"region"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"postalCode"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"display"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"addressToken"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"genericError"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fieldErrors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"meta"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"input"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"forceOverrideToken"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shipping"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"formatted"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"raw"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"display"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:1891,source:{body:"\n  mutation SubmitDynamicAddress($input: SaveAddressInput) {\n    saveAddress(input: $input) {\n      shipping {\n        address {\n          fields {\n            key\n            value\n          }\n        }\n        formatted {\n          raw {\n            address {\n              firstName\n              lastName\n              address1\n              address2\n              city\n              region\n              country\n              postalCode\n              phone\n            }\n            display\n          }\n          parsed {\n            address {\n              firstName\n              lastName\n              address1\n              address2\n              city\n              region\n              country\n              postalCode\n              phone\n            }\n            display\n          }\n        }\n      }\n      suggestions {\n        address {\n          fields {\n            key\n            value\n          }\n        }\n        formatted {\n          raw {\n            address {\n              firstName\n              lastName\n              address1\n              address2\n              city\n              region\n              country\n              postalCode\n            }\n            display\n          }\n          parsed {\n            address {\n              firstName\n              lastName\n              address1\n              address2\n              city\n              region\n              country\n              postalCode\n            }\n            display\n          }\n        }\n        addressToken\n      }\n      errors {\n        genericError {\n          title\n          description\n        }\n        fieldErrors {\n          key\n          message\n        }\n      }\n      meta {\n        input {\n          forceOverrideToken\n          shipping {\n            formatted {\n              raw {\n                display\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},v=e=>{let{action:t}=e,n=(0,l.NL)(),{refetch:v}=(0,c.Z)(),{mutate:p,...h}=(0,u.Z)(m),g=t===s.t.Buy?"Buy Now":"Place Bid";return{submitDynamicAddress:(0,i.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>null;(0,a.Z)(r.Z.SHIPPING_ADDRESS_CHANGED,{value:JSON.stringify(e),screenName:o.Z.SHIPPING}),p({input:e},{onSettled:e=>{var l,a,r,o,d,s,u,c,m,p;if(null==e?void 0:null===(l=e.saveAddress)||void 0===l?void 0:l.errors){i(null==e?void 0:null===(a=e.saveAddress)||void 0===a?void 0:a.errors,(null===(u=e.saveAddress.meta)||void 0===u?void 0:null===(s=u.input)||void 0===s?void 0:null===(d=s.shipping)||void 0===d?void 0:null===(o=d.formatted)||void 0===o?void 0:null===(r=o.raw)||void 0===r?void 0:r.display)||"",null==e?void 0:null===(c=e.saveAddress)||void 0===c?void 0:c.suggestions,!!(null===(p=e.saveAddress.meta)||void 0===p?void 0:null===(m=p.input)||void 0===m?void 0:m.forceOverrideToken));return}n.invalidateQueries(["GetDynamicShippingAddress"]),v(),t()},onError:e=>{(0,a.Z)(r.Z.CLIENT_SIDE_ERROR,{type:d.Z.NETWORK,screenName:o.Z.SHIPPING,errorMessage:null==e?void 0:e.message})}})},[g,a.Z,p,n]),mutate:p,...h}}},79510:function(e,t,n){"use strict";var i=n(2784),l=n(82876);t.Z=()=>{let e=(0,l.usePathname)();(0,i.useEffect)(()=>{window.RISKX&&window.RISKX.go(e)},[e])}},85236:function(e,t,n){"use strict";var i=n(52903),l=n(2784),a=n(77146),r=n(50651),o=n(340),d=n(21640),s=n(61100),u=n(16590);let c=(0,l.forwardRef)((e,t)=>{let{src:n,width:c=s.TH,height:m=s.lG,htmlHeight:v,htmlWidth:p,isPriority:h=!1,preloadImage:g=!1,extraImageParams:y={},is360:k=!1,isVideoThumbnail:Z=!1,isVideoImage:f=!1,...b}=e,C=(0,a.Z)(),S=null==n?void 0:n.includes("Placeholder"),_=s.yk.some(e=>null==n?void 0:n.includes(e)),x=S||!_||!n,{fallbackSrc:N,fallbackSrcSet:w}=(0,l.useMemo)(()=>{let{imageSrc:e,imageSrcSet:t}=(0,u.Z)({src:s.oI,dpr:2,width:c,height:m,preferredImageFormat:C});return{fallbackSrc:e,fallbackSrcSet:t}},[m,C,c]),E=(0,l.useMemo)(()=>{if(x)return{};let{imageSrc:e,imageSrcSet:t}=(0,u.Z)({src:n,extraImageParams:y,width:c,height:m,preferredImageFormat:C});return{srcSet:t,src:e}},[x,n,y,c,m,C]);if(x)return(0,i.tZ)(o.Ee,{referrerPolicy:"origin",htmlWidth:p,htmlHeight:v,srcSet:w,src:N,...b});if(Z||f){let e=f?m:78,t=f?c:78,l=`${n}${n.includes("time")?"&":"?"}height=${e}&width=${t}`;return(0,i.tZ)(o.Ee,{referrerPolicy:"origin",htmlWidth:p,htmlHeight:v,src:l,...b})}return(0,i.BX)(l.Fragment,{children:[g&&(null==E?void 0:E.srcSet)&&(null==E?void 0:E.src)&&(0,i.tZ)(r.Z,{srcSet:E.srcSet,src:E.src}),(0,i.tZ)(o.Ee,{ref:t,referrerPolicy:"origin",htmlWidth:p,htmlHeight:v,ignoreFallback:(null==E?void 0:E.src)||d.s||k,fallbackSrc:N,fetchpriority:h?"high":void 0,...E,...b})]})});t.Z=c},61100:function(e,t,n){"use strict";n.d(t,{TH:function(){return a},lG:function(){return r},oI:function(){return i},yk:function(){return l}});let i="https://stockx-assets.imgix.net/media/Product-Placeholder-Default-20210415.jpg?fit=fill&bg=FFFFFF&auto=format,compress&q=90&dpr=2&trim=color",l=[".net/",".io/",".com/"],a=576,r=384},634:function(e,t,n){"use strict";var i=n(53946);t.Z=()=>{var e;return(null===(e=(0,i.Z)())||void 0===e?void 0:e.marketName)??null}},60511:function(e,t,n){"use strict";var i=n(52903);n(2784);var l=n(90882),a=n.n(l),r=n(51525),o=n.n(r),d=n(1120),s=n.n(d),u=n(65642),c=n.n(u),m=n(36186),v=n(47593);class p{static insertContentStackTemplates(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=e;return c().interpolate=/{{([\s\S]+?)}}/g,l=s()(l)({product:t,customer:n,portfolioItem:i})}static interpolateContentStack(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e)return e.replace(/\{{(.+?)\}}/g,function(){for(var e=arguments.length,i=Array(e),l=0;l<e;l++)i[l]=arguments[l];let a=i[1].split("."),r="";for(let e=0;e<a.length;e++)if(t[a[e]])r=t[a[e]];else if(r&&(r[a[e]]||0===r[a[e]]))r="localAmount"===a[e]?m.Z.getDollars(r[a[e]],!1,!0,n):"localTotal"===a[e]?m.Z.getDollars(r[a[e]],!1,!1,n):r[a[e]];else{r="";break}return r})}static isRaffle(e){var t;return(null==e?void 0:null===(t=e.meta)||void 0===t?void 0:t.raffle)||(null==e?void 0:e.listingType)==="raffle"}static isRestock(e){var t;return(null==e?void 0:null===(t=e.meta)||void 0===t?void 0:t.restock)||(null==e?void 0:e.listingType)==="restock"}static isCharity(e){var t;return(null==e?void 0:null===(t=e.meta)||void 0===t?void 0:t.charity)||(null==e?void 0:e.listingType)==="charity"}static isDropX(e){return(null==e?void 0:e.listingType)==="dropx"}static getSizeLabel(e,t,n,l){let a={"(GS)":l("U.S. Grade School Sizes"),"(Y)":l("U.S. Youth Sizes"),"(W)":l("U.S. Women's Size"),"(I)":l("U.S. Infant Sizes"),"(PS)":l("U.S. Preschool Sizes")},r=`${n}`;switch(n){case"Us M Men's Size":case"U.S. Men's Size":r=l("U.S. Men's Size");break;case"Grade":r=l("pdp_grade_label");break;default:r=`${n}`}for(let t in r.endsWith(":")&&(r=r.slice(0,-1)),a)(null==e?void 0:e.endsWith(t))&&(r=a[t]);return t?(0,i.tZ)("span",{style:{display:"inline"},children:(0,i.BX)("span",{style:{display:"inline"},children:[r,": ",null==t?void 0:t.toString()]})}):null}static getSimpleProductIdFromDefaultSize(e,t){if(e)for(let n in e.children){let i=e.children[n];if(i.shoeSize===t)return i.id}return""}static graphHasRelationship(e,t){return o()(e,e=>e.attributes.relationship===t)}static filterGraph(e,t){return a()(e,e=>e.attributes.relationship===t)}static getTrait(e,t){if(e.traits&&e.traits.length)for(let i=0,l=e.traits.length;i<l;i++){var n;if(e.traits[i].name&&(null===(n=e.traits[i].name)||void 0===n?void 0:n.toLowerCase())===t)return e.traits[i].value}}static getVerticalFromProduct(e){if(!e)return v.v0.SNEAKERS;let{productCategory:t,primaryCategory:n}=e;return(null==t?void 0:t.toLowerCase())==="collectibles"?n||v.v0.COLLECTIBLES:(null==t?void 0:t.toLowerCase())==="streetwear"?v.v0.APPAREL:t||v.v0.SNEAKERS}static getVerticalUrlFromProduct(e){return this.getVerticalFromProduct(e).replace(" ","-").toLowerCase()}}t.Z=p},16590:function(e,t,n){"use strict";var i=n(340);t.Z=e=>{let{src:t,preferredImageFormat:n,width:l,height:a,extraImageParams:r={}}=e,{client:o,path:d}=(0,i.jH)(t),s=d.split("?"),{q:u,...c}=Object.fromEntries(new URLSearchParams(s[1]??"").entries()),m=null==o?void 0:o.buildURL(s[0],{...c,...r,w:l,h:a,fm:n,q:60,auto:"compress"}),v={...c,...r,w:l,h:a,auto:"compress",fm:n};return{imageSrc:m,imageSrcSet:null==o?void 0:o.buildSrcSet(s[0],v,{variableQualities:{1:57,2:60,3:41},devicePixelRatios:[1,2,3]})}}},36011:function(e,t,n){"use strict";var i=n(2784),l=n(58230);let a=["ask","ask.placed.share","ask.placed.reminder","ask.matched.share","ask.matched.reminder","ask.payment_failed.reminder","ask.authorization_failed.reminder","ask.additional_days_to_ship_alert","ask.how_it_works","ask.how_it_works.penalty","ask.condition_tutorial","bid","bid.placed.share","bid.placed.reminder","bid.matched.share","bid.matched.reminder","bid.payment_failed.reminder","bid.authorization_failed.reminder","bid.additional_days_to_ship_alert","bid.how_it_works","bid.how_it_works.penalty","bid.condition_tutorial","bid.confirm_condition","want","want.placed.share","hold","hold.placed.share","share"],r=e=>{var t;return(null==e?void 0:null===(t=e.entries)||void 0===t?void 0:t[0])??null};t.Z=e=>{let{contentGroup:t,include:n=a,select:o=r}=e,d=(0,i.useMemo)(()=>({"query[content_group]":t,include:n,include_fallback:!0}),[t,n]);return(0,l.Z)("product_page_blurbs",d,{enabled:!!t,select:o})}},16434:function(e,t){"use strict";t.Z=e=>"JPY"===e||"KRW"===e},87105:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var i=n(52903),l=n(2784),a=n(72242),r=n(28535),o=n(20437),d=n(97448),s=n(77533),u=n(38035),c=n(62614),m=n(1925),v=n(48781),p=n(91720),h=e=>{if(!e)return"";let t=e.replace(/[a-zA-Z]/g,"").replace(/[,.-]/g,"");for(let e=0;e<t.length;e++)(e+1)%5==0&&"-"!==t[e]&&(t=`${t.substring(0,e)}-${t.substring(e)}`);return t},g=n(53992),y=n(53753),k=n(98368),Z=n(53946),f=()=>{var e,t;let{t:n}=(0,a.$G)("feature.giftcards"),i=(0,y.Z)(g.Z.ab_gift_cards_v1_web),r=(0,Z.Z)(),{countryCode:o}=(0,k.Z)(),d=null==r?void 0:null===(t=r.Billing)||void 0===t?void 0:null===(e=t.Address)||void 0===e?void 0:e.countryCodeAlpha2,s="US"===(d||o),u=(0,l.useMemo)(()=>s?"":n("GC Eligibility Warning"),[s,d,o]);return{basicEligibility:"true"===i&&s,countryEligibility:s,inEligibilityReason:u}},b=n(95713),C={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LinkGiftCard"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NamedType",name:{kind:"Name",value:"LinkGiftCardInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkGiftCard"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:107,source:{body:"\n  mutation LinkGiftCard($input: LinkGiftCardInput) {\n    linkGiftCard(input: $input) {\n      id\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},S=()=>{let{mutatefn:e,isLoading:t,error:n,isError:i}=(0,b.Z)(C);return{mutate:e,isLoading:t,error:n,isError:i}},_=e=>{let{onAddSuccess:t}=e,{t:n}=(0,a.$G)("feature.giftcards"),[i,r]=(0,l.useState)(""),[o,d]=(0,l.useState)(""),[s,u]=(0,l.useState)(!1),{basicEligibility:c}=f(),{mutate:m,isLoading:v}=S(),g=(0,p.pmc)(),y=()=>{r(""),d(""),u(!1)},k=async()=>{try{await m({input:{cardNumber:i,pin:o}}),y(),g({message:n("GC Redeemed successfully"),duration:2500}),t()}catch(i){var e,l,a;let t=(null==i?void 0:null===(l=i.response)||void 0===l?void 0:null===(e=l.errors)||void 0===e?void 0:e[0])??void 0;u(null==t?void 0:null===(a=t.extensions)||void 0===a?void 0:a.payload),g({message:n("GC Redeem error"),duration:2500})}};return{giftCardNum:i,setGiftCardNum:e=>{r(h(e))},pinNum:o,setPinNum:d,submitAddGiftCard:k,isSubmitDisabled:!c||!((null==i?void 0:i.length)>0&&(null==o?void 0:o.length)>0),error:s,clearForm:y,isSubmitLoading:v}},x=n(33348),N=e=>{let{onGCAddFormToggle:t=()=>{},onGiftCardRedemption:n,onSubmitAddGiftCardClick:l,isCheckout:p=!0}=e,{t:h}=(0,a.$G)(),{t:g}=(0,a.$G)("feature.giftcards"),y=(0,m.Z)(),{giftCardNum:k,setGiftCardNum:Z,pinNum:f,setPinNum:b,submitAddGiftCard:C,isSubmitDisabled:S,error:N,clearForm:w,isSubmitLoading:E}=_({onAddSuccess:()=>{t(),n()}});return(0,i.BX)(r.xu,{maxWidth:"100%",mb:4,children:[(0,i.BX)(o.M,{columns:{base:1,md:2},spacing:4,children:[(0,i.tZ)(r.xu,{children:(0,i.tZ)(d.u,{inputLabel:g("Gift Card Number"),placeholder:g("Gift Card Number"),onChange:e=>{Z(e.target.value)},value:k,maxLength:50,isInvalid:!!N,isRequired:!0})}),(0,i.tZ)(r.xu,{children:(0,i.tZ)(d.u,{inputLabel:g("Pin"),placeholder:g("Pin"),onChange:e=>{b(e.target.value)},value:f,maxLength:50,isInvalid:!!N,isRequired:!0})})]}),N&&(0,i.tZ)(s.x,{fontSize:"sm",color:"error",marginBottom:2,children:g((null==N?void 0:N.message)||"GC Generic Error")}),(0,i.tZ)(s.x,{fontSize:"xs",lineHeight:"5",color:"text-secondary",children:(0,i.tZ)(a.cC,{i18nKey:"GC Redemption description",ns:"feature.giftcards",components:[(0,i.tZ)(v.Z,{href:y(x.L),target:"_blank"},"1")]})}),p?(0,i.BX)(u.k,{justifyContent:"space-between",marginTop:2,children:[(0,i.tZ)(c.z,{"aria-label":"Cancel Gift Card Redemption",size:"lg",variant:"secondary",onClick:()=>{t(),w()},children:h("Cancel")}),(0,i.tZ)(c.z,{"aria-label":"Redeem Gift Card",size:"lg",variant:"primary",onClick:()=>{C(),l&&l()},isDisabled:S,isLoading:E,children:g("Redeem Gift Card")})]}):(0,i.tZ)(c.z,{"aria-label":"Redeem Gift Card",size:"lg",variant:"primary",onClick:()=>{C(),l&&l()},marginTop:2,isDisabled:S,isLoading:E,children:g("Redeem Gift Card")})]})}},33348:function(e,t,n){"use strict";n.d(t,{L:function(){return l},y:function(){return i}});let i="/stockx-gift-card",l="/gift-card-terms"},51516:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(2969),l=n(2784),a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetUserGiftCardHoldings"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"price"}},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"currency"}},type:{kind:"NamedType",name:{kind:"Name",value:"CurrencyCode"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeEligibleAmount"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"holdings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availableTotalAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"localAvailableTotalAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalLocalAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eligibleAmount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"price"},value:{kind:"Variable",name:{kind:"Name",value:"price"}}},{kind:"Argument",name:{kind:"Name",value:"currency"},value:{kind:"Variable",name:{kind:"Name",value:"currency"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeEligibleAmount"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"eligibleAmount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"remainingAmount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"remainingBalance"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"accounts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reference"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"giftCard"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cardNumber"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"greetingMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"event"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"localAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"localCurrency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fxRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recipient"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nickName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"notification"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scheduleAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"notificationType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"creator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uuid"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"linkedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uuid"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availableAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"localAvailableAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"localAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"localCurrency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"transactions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instrumentId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorizationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"transactionId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"holdingId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"txnAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"txnLocalAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"txnFxRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"txnCurrency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availableAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"localAvailableAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referenceId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"notes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"flow"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:1922,source:{body:"\n  query GetUserGiftCardHoldings(\n    $price: Float\n    $currency: CurrencyCode\n    $includeEligibleAmount: Boolean = false\n  ) {\n    viewer {\n      holdings {\n        user\n        availableTotalAmount\n        localAvailableTotalAmount\n        totalAmount\n        totalLocalAmount\n        currency\n        eligibleAmount(price: $price, currency: $currency)\n          @include(if: $includeEligibleAmount) {\n          eligibleAmount {\n            value\n          }\n          remainingAmount {\n            value\n          }\n          remainingBalance {\n            value\n          }\n          message\n        }\n        accounts {\n          id\n          reference\n          giftCard {\n            id\n            cardNumber\n            variant {\n              id\n            }\n            greetingMessage\n            message\n            event\n            amount\n            localAmount\n            localCurrency\n            fxRate\n            expiresAt\n            recipient {\n              name\n              email\n              phone\n              nickName\n            }\n            notification {\n              scheduleAt\n              sentAt\n              notificationType\n            }\n            creator {\n              uuid\n            }\n            linkedUser {\n              uuid\n            }\n          }\n          type\n          availableAmount\n          localAvailableAmount\n          amount\n          localAmount\n          localCurrency\n          createdAt\n          transactions {\n            id\n            instrumentId\n            authorizationId\n            transactionId\n            user\n            holdingId\n            txnAmount\n            txnLocalAmount\n            txnFxRate\n            txnCurrency\n            availableAmount\n            localAvailableAmount\n            currency\n            referenceId\n            notes\n            flow\n            createdAt\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};let r=e=>{var t;return null==e?void 0:null===(t=e.viewer)||void 0===t?void 0:t.holdings};var o=e=>{let{price:t=null,currency:n=null,includeEligibleAmount:o=!1,isEnabled:d=!1,refetchOnMount:s=!1}=e,u=(0,l.useMemo)(()=>t&&n&&t>0?{price:t,currency:n,includeEligibleAmount:o}:{},[t,n,o]);return(0,i.Z)(a,{variables:u,enabled:d,select:r,staleTime:3e5,refetchOnMount:s})}},59879:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var i=n(52903),l=n(2784),a=n(12329),r=n(29084),o=n(83149),d=n(49566),s=n(71083),u=n(54843),c=n(91720),m=n(92139),v=n(55199),p=n(54326),h=n(77533),g=n(61329),y=n(97217),k=n(38035),Z=n(28535),f=n(11082),b=n(74008),C=n(17993),S=n(50250),_=n(62614),x=n(72242),N=n(1426),w=n(46718),E=n(13112);let T=e=>{if(!e)return[];let t={monday:"Mon",tuesday:"Tue",wednesday:"Wed",thursday:"Thu",friday:"Fri",saturday:"Sat",sunday:"Sun"},n=Object.entries(e).filter(e=>{let[t,n]=e;return"warning"!==t&&"object"==typeof n&&"Closed"!==n.open.toLowerCase()&&"Closed"!==n.close.toLowerCase()}).map(e=>{let[n,i]=e;return{day:t[n.toLowerCase()],openingTime:"object"==typeof i?i.open:"",closingTime:"object"==typeof i?i.close:""}}),i=[];for(let{day:e,openingTime:t,closingTime:l}of n){let n=i[i.length-1];n&&n.openingTime===t&&n.closingTime===l?n.days.push(e):i.push({days:[e],openingTime:t,closingTime:l})}return i.map(e=>{let{days:t,openingTime:n,closingTime:i}=e;if("closed"===n||"closed"===i)return;let l=t.length>1?`${t[0]}-${t[t.length-1]}`:t[0];return`${l}: ${n}-${i}`})},I=e=>{if(!e)return"";let[t,n]=e.split(":"),i=new Date;return i.setHours(Number(t)),i.setMinutes(Number(n)),i.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}).toLowerCase()};var A=e=>{var t,n,A,B,D,P,F,L,M,z;let{isModalOpen:R,closeModal:O,isOrderDetails:$=!1,pickUpDetailsOverride:G,trackScreen:X}=e,{t:U}=(0,x.$G)("feature.hubbox"),{step:V}=(0,a.Z)(),{deliveryOption:j}=(0,r.Z)(),H=(0,u.r)({base:!0,md:!1});(0,l.useEffect)(()=>{X&&R&&X({pageType:E.Z.PICKUP_DETAILS})},[R,X]);let W=(0,l.useMemo)(()=>{var e;return(null==j?void 0:null===(e=j.message)||void 0===e?void 0:e.address)?`${j.message.address.street1}`:(null==G?void 0:G.address)?`${G.address.address1}`:""},[j,G]),Y=(0,l.useMemo)(()=>{var e;return(null==j?void 0:null===(e=j.message)||void 0===e?void 0:e.address)?`${j.message.address.city}, ${j.message.address.region} ${j.message.address.postcode}`:(null==G?void 0:G.address)?`${G.address.city}, ${G.address.region} ${G.address.zipCode}`:""},[j,G]),K=(null==G?void 0:G.pickUpFirstName)||(null==j?void 0:null===(t=j.pickupPerson)||void 0===t?void 0:t.firstName),q=(null==G?void 0:G.pickUpLastName)||(null==j?void 0:null===(n=j.pickupPerson)||void 0===n?void 0:n.lastName),Q=(null==G?void 0:G.locationName)||(null==j?void 0:null===(A=j.message)||void 0===A?void 0:A.name),J=(null==G?void 0:G.openingHours)||(null==j?void 0:null===(B=j.message)||void 0===B?void 0:B.openingHours),ee=(null==G?void 0:null===(D=G.address)||void 0===D?void 0:D.latitude)||(null==j?void 0:null===(F=j.message)||void 0===F?void 0:null===(P=F.address)||void 0===P?void 0:P.latitude),et=(null==G?void 0:null===(L=G.address)||void 0===L?void 0:L.longitude)||(null==j?void 0:null===(z=j.message)||void 0===z?void 0:null===(M=z.address)||void 0===M?void 0:M.longitude),en=T(J),ei=$||V===w.j.Success;if(void 0!==en)return(0,i.BX)(c.u_l,{isOpen:R,onClose:O,closeOnOverlayClick:!1,isCentered:!0,trapFocus:!1,size:["full","full","lg"],children:[(0,i.tZ)(m.Z,{}),(0,i.BX)(v.h,{children:[(0,i.BX)(p.x,{children:[(0,i.tZ)(h.x,{children:U("Pick Up Details")}),(0,i.tZ)(g.o,{})]}),(0,i.BX)(y.f,{p:["4","4","8"],children:[(0,i.BX)(k.k,{justifyContent:"space-between",p:["2","2","4"],children:[(0,i.BX)(k.k,{children:[(0,i.tZ)(Z.xu,{mr:"3",children:(0,i.tZ)(o.P,{boxSize:6})}),(0,i.BX)(k.k,{flexDir:"column",children:[(0,i.tZ)(h.x,{fontSize:"md",fontFamily:"SuisseIntl-Medium",children:Q}),(0,i.tZ)(h.x,{fontSize:"xs",children:W}),(0,i.tZ)(h.x,{fontSize:"xs",children:Y})]})]}),ei&&(0,i.tZ)(f.r,{as:N.Z,color:"brand-primary",fontSize:"xs",target:"_blank",textDecoration:"underline",to:`https://www.google.com/maps/dir/?api=1&destination=${ee},${et}`,children:U("DIRECTIONS")})]}),(0,i.tZ)(b.i,{}),H&&(0,i.BX)(i.HY,{children:[(0,i.BX)(k.k,{p:"2",children:[(0,i.tZ)(Z.xu,{mr:"3",children:(0,i.tZ)(d.D,{boxSize:6})}),(0,i.BX)(k.k,{flexDir:"column",children:[(0,i.tZ)(h.x,{fontSize:"md",fontFamily:"SuisseIntl-Medium",children:U("Pickup Person")}),(0,i.tZ)(h.x,{fontSize:"xs",children:`${K} ${q}`})]})]}),(0,i.tZ)(b.i,{}),(0,i.tZ)(k.k,{p:"2",children:(0,i.BX)(k.k,{children:[(0,i.tZ)(Z.xu,{mr:"3",children:(0,i.tZ)(s.y,{boxSize:6})}),(0,i.BX)(k.k,{flexDir:"column",children:[(0,i.tZ)(h.x,{fontSize:"md",fontFamily:"SuisseIntl-Medium",children:U("Open Hours")}),null==en?void 0:en.map((e,t)=>{let[n,l]=(e??"").split(": "),[a,r]=l.split("-");if(null==e||!e.includes("Closed"))return(0,i.tZ)(h.x,{fontSize:"xs",children:`${n}: ${I(a)} - ${I(r)}`},t)})]})]})})]}),!H&&(0,i.BX)(k.k,{justifyContent:"space-between",p:["2","2","4"],children:[(0,i.BX)(k.k,{children:[(0,i.tZ)(Z.xu,{mr:"3",children:(0,i.tZ)(d.D,{boxSize:6})}),(0,i.BX)(k.k,{flexDir:"column",children:[(0,i.tZ)(h.x,{fontSize:"md",fontFamily:"SuisseIntl-Medium",children:U("Pickup Person")}),K&&q&&(0,i.tZ)(h.x,{fontSize:"xs",children:`${K} ${q}`})]})]}),(0,i.tZ)(k.k,{children:(0,i.BX)(k.k,{children:[(0,i.tZ)(Z.xu,{mr:"3",children:(0,i.tZ)(s.y,{boxSize:6})}),(0,i.BX)(k.k,{flexDir:"column",children:[(0,i.tZ)(h.x,{fontSize:"md",fontFamily:"SuisseIntl-Medium",children:U("Open Hours")}),null==en?void 0:en.map((e,t)=>{let[n,l]=(e??"").split(": "),[a,r]=l.split("-");if(null==e||!e.includes("Closed"))return(0,i.tZ)(h.x,{fontSize:"xs",children:`${n}: ${I(a)} - ${I(r)}`},t)})]})]})})]}),(0,i.tZ)(b.i,{}),(0,i.BX)(C.g,{p:["2","2","4"],spacing:"2",children:[(0,i.tZ)(h.x,{children:U("pickup_details_copy_1")}),(0,i.tZ)(h.x,{children:U("pickup_details_copy_2")})]})]}),(0,i.tZ)(S.m,{justifyContent:"flex-end",children:(0,i.tZ)(_.z,{variant:"primary",size:"lg",onClick:()=>O(),"data-testid":"modalRetryBtn",children:U("Close")})})]})]})}},40852:function(e,t,n){"use strict";var i=n(52903);n(2784);let l=(0,n(21112).I)({displayName:"FacebookIcon",viewBox:"0 0 44 44",path:(0,i.BX)("g",{children:[(0,i.tZ)("path",{d:"M44,22C44,9.85,34.15,0,22,0S0,9.85,0,22c0,10.98,8.05,20.08,18.56,21.73v-15.37h-5.59v-6.36h5.59v-4.85c0-5.51,3.28-8.56,8.31-8.56,2.41,0,4.92,.43,4.92,.43v5.41h-2.77c-2.73,0-3.59,1.7-3.59,3.44v4.13h6.1l-.98,6.36h-5.13v15.37c10.52-1.65,18.56-10.75,18.56-21.73Z"}),(0,i.tZ)("path",{d:"M30.56,28.36l.98-6.36h-6.1v-4.13c0-1.74,.85-3.44,3.59-3.44h2.77v-5.41s-2.52-.43-4.92-.43c-5.03,0-8.31,3.05-8.31,8.56v4.85h-5.59v6.36h5.59v15.37c1.12,.18,2.27,.27,3.44,.27s2.32-.09,3.44-.27v-15.37h5.13Z",fill:"transparent"})]})});t.Z=l},63130:function(e,t,n){"use strict";let i=(0,n(21112).I)({displayName:"PinterestIcon",viewBox:"0 0 496 512",d:"M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"});t.Z=i},62052:function(e,t){"use strict";var n,i;(i=n||(n={})).FACEBOOK="#1877f2",i.PINTEREST="#E60023",i.TWITTER="#000000",t.Z=n},77153:function(e,t,n){"use strict";var i=n(52903);n(2784);let l=(0,n(21112).I)({displayName:"TwitterIcon",viewBox:"0 0 1200 1227",path:(0,i.tZ)("g",{children:(0,i.tZ)("path",{d:"M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"})})});t.Z=l},67217:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(2784),l=n(2969),a=n(28455),r=n(54525),o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getDiscountCodes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"currencyCode"}},type:{kind:"NamedType",name:{kind:"Name",value:"CurrencyCode"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discountCodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"currencyCode"},value:{kind:"Variable",name:{kind:"Name",value:"currencyCode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"flat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"verticalDetails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sneakers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"flat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxUses"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"upperLimit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minPrice"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"handbags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"flat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxUses"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"upperLimit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minPrice"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"watches"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"flat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxUses"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"upperLimit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minPrice"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"collectibles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"flat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxUses"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"upperLimit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minPrice"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"streetwear"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"flat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxUses"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"upperLimit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minPrice"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"upperLimit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minPrice"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userContext"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"skus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"products"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"customerUuids"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"customerUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activatesAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxUsesPerUser"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxUses"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"secure"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:1588,source:{body:"\n  query getDiscountCodes($currencyCode: CurrencyCode) {\n    viewer {\n      discountCodes {\n        edges {\n          node {\n            id\n            code\n            updatedAt\n            discount(currencyCode: $currencyCode) {\n              id\n              updatedAt\n              name\n              value\n              flat\n              verticalDetails {\n                sneakers {\n                  value\n                  flat\n                  maxUses\n                  upperLimit\n                  minPrice\n                }\n                handbags {\n                  value\n                  flat\n                  maxUses\n                  upperLimit\n                  minPrice\n                }\n                watches {\n                  value\n                  flat\n                  maxUses\n                  upperLimit\n                  minPrice\n                }\n                collectibles {\n                  value\n                  flat\n                  maxUses\n                  upperLimit\n                  minPrice\n                }\n                streetwear {\n                  value\n                  flat\n                  maxUses\n                  upperLimit\n                  minPrice\n                }\n              }\n              upperLimit\n              minPrice\n              userContext\n              skus\n              products\n              customerUuids\n            }\n            customerUuid\n            activatesAt\n            expiresAt\n            maxUsesPerUser\n            maxUses\n            secure\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},d=function(){let{enabled:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,a.Z)(),{currency:n}=(0,r.Z)(),[d,s]=(0,i.useState)([]),{data:u,loading:c,error:m}=(0,l.Z)(o,{variables:{currencyCode:n},enabled:e&&t,retry:1});return(0,i.useEffect)(()=>{var e,t,n,i,l,a,r,o,d;(null==u?void 0:null===(t=u.viewer)||void 0===t?void 0:null===(e=t.discountCodes)||void 0===e?void 0:e.edges)&&s(null==u?void 0:null===(l=u.viewer)||void 0===l?void 0:null===(i=l.discountCodes)||void 0===i?void 0:null===(n=i.edges)||void 0===n?void 0:n.map(e=>{let{node:t}=e;return t})),m&&"response"in m&&s(null===(d=m.response)||void 0===d?void 0:null===(o=d.data)||void 0===o?void 0:null===(r=o.viewer)||void 0===r?void 0:null===(a=r.discountCodes)||void 0===a?void 0:a.edges.map(e=>{let{node:t}=e;return t}))},[u,m]),{loading:c,error:m,data:d}}},81812:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var i=n(52903),l=n(2784),a=n(72242),r=n(43297),o=n(77533),d=n(81074),s=n(37757),u=n(5740),c=n(14620),m=n(71193),v=n(17354),p=n(54525),h=n(2969),g=n(59867),y=n(634),k={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMarketAdjustedPrice"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"amount"}},type:{kind:"NamedType",name:{kind:"Name",value:"BigInt"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"context"}},type:{kind:"NamedType",name:{kind:"Name",value:"TransactionContext"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"currencyCode"}},type:{kind:"NamedType",name:{kind:"Name",value:"CurrencyCode"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"market"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"marketAdjustedPrice"},arguments:[{kind:"Argument",name:{kind:"Name",value:"amount"},value:{kind:"Variable",name:{kind:"Name",value:"amount"}}},{kind:"Argument",name:{kind:"Name",value:"context"},value:{kind:"Variable",name:{kind:"Name",value:"context"}}},{kind:"Argument",name:{kind:"Name",value:"currencyCode"},value:{kind:"Variable",name:{kind:"Name",value:"currencyCode"}}},{kind:"Argument",name:{kind:"Name",value:"market"},value:{kind:"Variable",name:{kind:"Name",value:"market"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"adjustedAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currencyCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:329,source:{body:"\n  query GetMarketAdjustedPrice(\n    $amount: BigInt\n    $context: TransactionContext\n    $currencyCode: CurrencyCode\n    $market: String\n  ) {\n    marketAdjustedPrice(\n      amount: $amount\n      context: $context\n      currencyCode: $currencyCode\n      market: $market\n    ) {\n      adjustedAmount\n      currencyCode\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};let Z=e=>{switch(e){case s.t.Ask:case s.t.AskUpdate:return"ASK";case s.t.Bid:case s.t.BidUpdate:return"BID"}};var f=e=>{let{amount:t,context:n}=e,{data:i}=(0,g.Z)(),l=(0,y.Z)(),{currency:a}=(0,p.Z)(),r=Z(n);return(0,h.Z)(k,{enabled:!!t&&!!r&&!!(null==i?void 0:i.isIntraZone),variables:{amount:t,market:l,currencyCode:a,context:r},select:e=>null==e?void 0:e.marketAdjustedPrice})};let b={EU:{text:"intra_zone_eu_disclaimer_text_bid",description:"intra_zone_eu_bid_disclaimer_tooltip"},AU:{text:"intra_zone_country_disclaimer_text_bid",description:"intra_zone_au_bid_disclaimer_tooltip"},default:{text:"intra_zone_country_disclaimer_text_bid",description:"intra_zone_bid_disclaimer_tooltip_default"}},C={EU:{text:"intra_zone_eu_disclaimer_text_ask",description:"intra_zone_eu_ask_disclaimer_tooltip"},AU:{text:"intra_zone_country_disclaimer_text_ask",description:"intra_zone_au_ask_disclaimer_tooltip"},default:{text:"intra_zone_country_disclaimer_text_ask",description:"intra_zone_ask_disclaimer_tooltip_default"}},S=(e,t)=>{let n=m.h.includes(t)?"EU":t;switch(e){case s.t.Ask:case s.t.AskUpdate:return C[n]??C.default;case s.t.Bid:case s.t.BidUpdate:return b[n]??b.default;default:return{}}};var _=e=>{let{amount:t,context:n}=e,i=(0,u.Z)(),{data:l={}}=f({amount:t,context:n}),{adjustedAmount:a,currencyCode:r}=l,{url:o="en"}=(0,c.Z)(),d=new Intl.DisplayNames([o],{type:"region"}),s=(0,v.Z)();return a?{adjustedAmount:a,...S(n,i),values:{amount:s({number:Number(a),forcedCurrency:r??void 0}),...!m.h.includes(i)&&{country:d.of(i)}}}:{}};let x=e=>{switch(e){case s.t.Ask:case s.t.AskUpdate:return"Intra-Zone Current Ask";case s.t.Bid:case s.t.BidUpdate:return"Intra-Zone Current Bid";default:return""}};var N=e=>{let{amount:t,context:n,screenName:s,track:c}=e,{t:m}=(0,a.$G)(),v=(0,u.Z)(),{adjustedAmount:p,text:h,values:g,description:y}=_({amount:t,context:n});return((0,l.useEffect)(()=>{p&&c&&c({eventName:"Banner Viewed",countryCode:v,type:x(n),value:p,screenName:s})},[null==g?void 0:g.amount]),h)?(0,i.BX)(r.K,{direction:"row",bg:"background-primary",padding:4,width:"100%",children:[(0,i.tZ)(o.x,{children:(0,i.tZ)(a.cC,{i18nKey:h,values:g,components:[(0,i.tZ)("b",{})]})}),y&&(0,i.tZ)(d.Z,{children:(0,i.tZ)(o.x,{color:"inherit",children:m(y)})})]}):null}},11584:function(e,t,n){"use strict";var i=n(2784),l=n(98368);t.Z=()=>{let{languageCode:e,selectedRegion:t,urlPrefix:n}=(0,l.Z)();return(0,i.useMemo)(()=>{let i={"/zh-cn/":"zh_CN","/es-es/":"es","/es-mx/":"es","/es-us/":"es","/zh-tw/":"zh_TW","/ja-jp/":"ja"};return"en"===e&&"GB"===t||"/en-gb/"===n?"en_GB":"en"===e?"en_US":n in i?i[n]:e},[e,t,n])}},11335:function(e,t,n){"use strict";n.d(t,{L7:function(){return l},cG:function(){return a},p$:function(){return i}});let i=e=>t=>{let n=t.split("/");return n[1]===e&&(n=[n[0],...n.slice(2)]),n},l=e=>e.join("/"),a=e=>{let t;let n={"/privacy":{"/it-it":"/policy","/de-de":"/datenschutz","/fr-fr":"/informations-personnelles","/":"privacy","/zh-cn":"/privacy","/ja-jp":"/privacy","/ko-kr":"/privacy","/es-es":"/privacy","/es-mx":"/privacy","/es-us":"/privacy","/en-gb":"/privacy","/zh-tw":"/privacy",possibles:["/privacy","/policy","/datenschutz","/informations-personnelles"]},"/terms":{"/it-it":"/termini","/de-de":"/agb","/fr-fr":"/conditions-de-vente","/":"terms","/zh-cn":"/terms","/ja-jp":"/terms","/ko-kr":"/terms","/es-es":"/terms","/es-mx":"/terms","/es-us":"/terms","/en-gb":"/terms","/zh-tw":"/terms",possibles:["/terms","/termini","/agb","/conditions-de-vente"]}},i="/",l=e.split(/(?=\/)/g);for(let e in l.length>1?[i,t]=l:[t]=l,n)if(n[e].possibles.includes(t)){if(n[e][i])return`${i}${n[e][i]}`;return`${i}/${n[e]["/"]}`}return e}},89964:function(e,t,n){"use strict";var i=n(52903);n(2784);var l=n(25588),a=n(28535),r=n(43297),o=n(66991),d=n(91720),s=n(32151),u=n(84261);t.Z=e=>{let{sizeConversions:t,gender:n,productCategory:c,trackSelection:m,backgroundColor:v,noXMargins:p}=e,{getRootProps:h}=(0,l.a)({name:"Size Conversion Option"}),g=h(),{sizeLocale:y,setSizeLocale:k}=(0,s.Z)({productGender:n,productCategory:c,availableConversions:t}),Z=(0,u.Z)({sizeConversions:t,gender:n});if(!Z)return null;let f=e=>{setTimeout(()=>{k(e)}),m&&m()};return!t||t.length<=1?null:(0,i.tZ)(a.xu,{children:(0,i.tZ)(r.K,{direction:"row",alignItems:"center",marginLeft:p?0:[0,4],marginTop:["0","0.5rem","0.25rem"],marginBottom:"0.5rem","data-testid":"size-conversions-container",...g,children:Z.map(e=>{if(!(null==e?void 0:e.name)||!(null==e?void 0:e.type))return;let t=e.type.toUpperCase(),l=e.name;"women"===n&&"US"===e.name&&(l="US W");let a=y===t;return(0,i.tZ)(o.z,{backgroundColor:a?"brand-secondary":v,onClick:()=>f(t),active:a,"data-testid":"size-conversion-chip",marginX:p?0:void 0,children:(0,i.tZ)(d.o2e,{fontSize:["xs","sm"],children:l})},l)})})})}},9480:function(e,t,n){"use strict";var i=n(52903);n(2784);var l=n(72242),a=n(68099),r=n(63488),o=n(847),d=n(66991),s=n(91720),u=n(77533),c=n(74008),m=n(75190),v=n(32981),p=n(92139),h=n(73751),g=n(61329),y=n(54326),k=n(38035),Z=n(97217),f=n(17993),b=n(62453),C=n(32151),S=n(84261);t.Z=e=>{let{sizeConversions:t,gender:n,productCategory:_,trackSelection:x}=e,{t:N}=(0,l.$G)(),{onClose:w,onOpen:E,isOpen:T}=(0,o.q)(),{sizeLocale:I,setSizeLocale:A}=(0,C.Z)({productGender:n,productCategory:_,availableConversions:t}),B=(0,S.Z)({sizeConversions:t,gender:n});if(!B)return null;let D=e=>{A(e),w(),x&&x()};return(0,i.BX)(i.HY,{children:[(0,i.BX)(d.z,{backgroundColor:"brand-secondary",color:"text-inverse",onClick:E,children:[(0,i.tZ)(s.o2e,{children:(0,i.BX)(u.x,{color:"inherit",children:[N("checkout_size_select_dropdown",{size:I})," ",(0,i.tZ)(c.i,{position:"relative",top:"1px",h:"3",mx:1,orientation:"vertical",display:"inline-block"})]})}),(0,i.tZ)(m.b,{as:a.J,boxSize:"2"})]}),(0,i.BX)(v.d,{isOpen:T,onClose:w,placement:"bottom",children:[(0,i.tZ)(p.Z,{onClick:w}),(0,i.BX)(h.s,{children:[(0,i.tZ)(g.o,{size:"lg"}),(0,i.tZ)(y.x,{children:(0,i.tZ)(k.k,{justifyContent:"center",fontSize:"md",children:N("checkout_mobile_size_selector_drawer_header")})}),(0,i.tZ)(Z.f,{children:(0,i.tZ)(f.g,{divider:(0,i.tZ)(b.c,{borderColor:"gray.200"}),align:"flex-start",spacing:3,children:B.map(e=>{if(!(null==e?void 0:e.name)||!(null==e?void 0:e.type))return;let t=e.type.toUpperCase(),l=e.name;"women"===n&&"US"===e.name&&(l="US W");let a=I===t;return(0,i.BX)(k.k,{justifyContent:"space-between",width:"100%",color:a?"success":void 0,cursor:"pointer",onClick:()=>D(t),children:[(0,i.tZ)(u.x,{children:l}),a&&(0,i.tZ)(r.M,{})]})})})})]})]})]})}},26852:function(e,t,n){"use strict";var i=n(2784),l=n(32151);t.Z=e=>{let{sizeChart:t=null,productCategory:n=null}=e,{sizeLocale:a}=(0,l.Z)(),r=(null==t?void 0:t.displayOptions)&&1===t.displayOptions.length&&t.displayOptions[0],o=!!(r&&r.type&&r.type.toUpperCase().includes("US")),d=r?r.size:null;return(0,i.useMemo)(()=>{var e;if(!(null==t?void 0:t.baseSize)||!(null==t?void 0:t.displayOptions)||!a&&!o)return null;let n=a&&(null==t?void 0:null===(e=t.displayOptions)||void 0===e?void 0:e.find(e=>{var t;return(null==e?void 0:null===(t=e.type)||void 0===t?void 0:t.toUpperCase())===a.toUpperCase()})),i=(null==n?void 0:n.size)??null;return(!i&&o&&(i=d),i)?i:null},[null==t?void 0:t.baseSize,null==t?void 0:t.displayOptions,a,o,n,d])}},52247:function(e,t,n){"use strict";var i=n(2784),l=n(72242),a=n(14620),r=n(47965),o=n(32151);t.Z=()=>{let{t:e}=(0,l.$G)(),t=(0,r.EN)(),{sizeLocale:n}=(0,o.Z)(),{isVerbose:d,locale:s}=(0,a.Z)(),u=!!s&&s.includes("es-"),c="base"===t||"md"===t?d:d&&!u;return(0,i.useCallback)(t=>{var i;let{sizeChart:l,shorterFormat:a=c??!1}=t,r=(null==l?void 0:l.displayOptions)&&1===l.displayOptions.length&&l.displayOptions[0],o=!!(r&&r.type&&r.type.toUpperCase().includes("US")),d=(null==l?void 0:l.displayOptions)&&l.displayOptions.length>=1&&(null===(i=l.displayOptions[0])||void 0===i?void 0:i.size);if(!(null==l?void 0:l.baseSize)||!(null==l?void 0:l.baseType)||!d||!n&&!o)return null;let{baseType:s,baseSize:u,displayOptions:m}=l,v="US"===n||"US W"===n||"US M"===n||o,p=n&&(null==m?void 0:m.find(e=>{var t;return(null==e?void 0:null===(t=e.type)||void 0===t?void 0:t.toUpperCase())===n.toUpperCase()})),h=p?p.size:null;if(!h&&o&&(h=d??null),!h)return null;if("US M"===s.toUpperCase()&&v){let t=a?d:d.replace("US M",e("US Men's"));if("US W"===n){let n=h.replace("US W",`${a?"W":e("Women's")}`);h=`${t} / ${e("Fits")} ${n}`}else h=t}if("US W"===s.toUpperCase()&&v){let t=a?d:d.replace("US W",e("US Women's"));if("US M"===n){let n=h.replace("US M",`${a?"M":e("Men's")}`);h=`${t} / ${e("Fits")} ${n}`}else h=t}return u.endsWith("Y")&&!a&&v?h.replace("Y",` ${e("Youth")}`):u.endsWith("C")&&!a&&v?h.replace("C",` ${e("Child")}`):u.endsWith("K")&&!a&&v?h.replace("K",` ${e("Kids")}`):h},[c,n,e])}},84261:function(e,t,n){"use strict";var i=n(2784);t.Z=e=>{let{sizeConversions:t,gender:n}=e;return(0,i.useMemo)(()=>{var e,i,l,a,r;if(!t||t.length<=1)return null;if((null===(i=t[0].type)||void 0===i?void 0:null===(e=i.toUpperCase())||void 0===e?void 0:e.includes("US"))&&(null===(r=t[1])||void 0===r?void 0:null===(a=r.type)||void 0===a?void 0:null===(l=a.toUpperCase())||void 0===l?void 0:l.includes("US")))return t;let o=t.find(e=>e.name===("women"===n?"US M":"US W"));if(o){let e=t.findIndex(e=>e===o);t.splice(e,1),t.splice(1,0,o)}return t},[t,n])}},32151:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var i=n(2784),l=n(29650),a=n(59107),r=n(71193),o=n(21640),d=n(12294),s=n(47832),u=n(44247),c=n(28359);let m=(0,d.Ue)()((0,s.mW)((0,u.n)((0,s.tJ)(e=>({adultSneakerLocale:null,setAdultSneakerLocale:t=>{e(()=>({adultSneakerLocale:t}))},sizeLocale:null,setSizeLocale:t=>{e(()=>({sizeLocale:t}))}}),{name:"stockx-size-locale-user-settings",skipHydration:!1,merge:(e,t)=>{if(!e){var n,i,l,a;let e=(null===(i=localStorage)||void 0===i?void 0:null===(n=i.getItem("stockx_selected_size_locale"))||void 0===n?void 0:n.replace(/"/g,""))??null,r=(null===(a=localStorage)||void 0===a?void 0:null===(l=a.getItem("selected_adult_sneaker_locale"))||void 0===l?void 0:l.replace(/"/g,""))??null;return{...t,sizeLocale:e,adultSneakerLocale:r}}return{...t,adultSneakerLocale:(null==e?void 0:e.adultSneakerLocale)??null,sizeLocale:(null==e?void 0:e.sizeLocale)??null}}})),{enabled:!!window.__REDUX_DEVTOOLS_EXTENSION__&&"production"!==c.default.ENVIRONMENT,name:"StockXSizeLocaleUserSettings"}));var v=()=>m(e=>[e.adultSneakerLocale,e.setAdultSneakerLocale]),p=()=>m(e=>[e.sizeLocale,e.setSizeLocale]),h=function(){let{productGender:e=null,productCategory:t=null,availableConversions:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[d,s]=p(),[u,c]=v(),m=(0,i.useMemo)(()=>{let i="sneakers"===t,l="men"===e||"women"===e||"unisex"===e,a=!!n&&n.length>1;return i&&l&&a},[n,t,e]),h=(0,i.useCallback)(e=>{!o.s&&(s(e),m&&c(e))},[m,c,s]),g=(0,a.Z)(),{userInEU:y}=(0,l.Z)(),k=(0,i.useCallback)(e=>!!n&&!!n.find(t=>{var n;return(null==t?void 0:null===(n=t.type)||void 0===n?void 0:n.toUpperCase())===e}),[n]);return{sizeLocale:(0,i.useMemo)(()=>{var i,l,a;let o;if(n&&(null===(i=n[0])||void 0===i?void 0:i.type)&&(o=null===(a=n[0])||void 0===a?void 0:null===(l=a.type)||void 0===l?void 0:l.toUpperCase()),m&&u&&u!==d&&k(u)&&h(u),d&&n&&!k(d)){if(m&&u&&k(u))return h(u),u;if(o&&n&&n.length>=1)return h(o),o}if(!d){if((y||r.h.includes(g))&&k("EU"))return h("EU"),"EU";if("GB"===g&&k("UK"))return h("UK"),"UK";if("KR"===g&&k("KR"))return h("KR"),"KR";if("JP"===g&&k("CM"))return h("CM"),"CM";if("women"===e&&"sneakers"===t&&k("US W"))return h("US W"),"US W";if("men"===e&&"sneakers"===t&&k("US M"))return h("US M"),"US M";if(o)return h(o),o}return d},[n,u,e,t,k,d,h,m,y,g]),setSizeLocale:h}}},9348:function(e,t,n){"use strict";n.d(t,{n:function(){return r}});var i=n(74600),l=n.n(i);let a={men:"Men's",women:"Women's",unisex:"Unisex",child:"Grade School",infant:"Infant",preschool:"Preschool",toddler:"Toddler"},r=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!e||n&&["trading cards","collectibles","electronics"].includes(e)?"":["trading cards","collectibles","electronics"].includes(e)||"accessories"===e&&["child","infant","preschool","toddler"].includes(t)||"apparel"===e&&"unisex"===t?l()(e):"apparel"===e&&["child","infant","preschool","toddler"].includes(t)?`Kids ${l()(e)}`:`${a[t]} ${l()(e)}`}},29890:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var i=n(52903);n(2784);var l=n(11082),a=n(55885),r=n(28535),o=n(77533);let d=(0,a.m)(e=>{let{width:t,opacity:n,backgroundColor:l,children:a,...o}=e;return(0,i.tZ)(r.xu,{maxW:"half"===t?{md:"533px"}:{md:"100%"},_after:{content:'""',top:"0",left:"0",bottom:"0",right:"0",position:"absolute",zIndex:"-1",opacity:{opacity:n},backgroundColor:{backgroundColor:l}},...o,children:a})},{baseStyle:{position:"relative",left:{md:"50%"},transform:{md:"translateX(-50%)"},py:"2",px:"4",fontSize:"sm",borderRadius:"sm"}}),s=(0,a.m)(e=>{let{color:t,children:n,...l}=e;return(0,i.tZ)(o.x,{color:t,...l,children:n})},{baseStyle:{m:"0",textAlign:"center"}});var u=e=>{let{color:t,backgroundColor:n,link:a,opacity:r,padding:o,marginY:u="3",text:c,width:m}=e;return(null==a?void 0:a.href)?(0,i.tZ)(l.r,{href:null==a?void 0:a.href,_hover:{cursor:"pointer"},children:(0,i.tZ)(d,{backgroundColor:n,opacity:r,padding:o,width:m,marginY:u,children:(0,i.tZ)(s,{color:t,children:c})})}):(0,i.tZ)(d,{backgroundColor:n,opacity:r,padding:o,width:m,marginY:u,children:(0,i.tZ)(s,{color:t,children:c})})},c=n(60858),m=e=>{let{padding:t,position:n,width:l,marginY:a}=e,{data:r}=(0,c.Z)({position:n});return r&&r.show?(0,i.tZ)(u,{backgroundColor:r.banner_color,color:r.text_color,opacity:r.opacity,padding:t,marginY:a,text:r.banner_text,link:r.link,width:l}):null}},97619:function(e,t,n){"use strict";n.d(t,{Z:function(){return et}});var i=n(52903),l=n(2784),a=n(55671),r=n(21640),o=n(40969),d=n(33957),s=n(92690),u=n(65759);let c=(0,n(44107).q)(e=>{let{graphQLErrors:t,networkError:n}=e;t&&t.forEach(e=>{console.log(e);let{message:t,locations:n,path:i}=e;console.log(`[GraphQL error]: Message: ${t}, Location: ${n}, Path: ${i}`)}),n&&console.log(`[Network error]: ${n}`)});var m=n(64266),v=n(93442),p=n(88863),h=n(25187);let g=()=>(null===v.Z||void 0===v.Z?void 0:v.Z.getCookie("stockx_selected_region"))||(null===v.Z||void 0===v.Z?void 0:v.Z.getCookie("stockx_ip_region")),y=(0,m.v)((e,t)=>{let{disableAuth:n,headers:i}=t,l=v.Z.getCookie("token"),a=v.Z.getCookie("nonce"),r=v.Z.getCookie("language_code")||"en",{url:o}=p.a2[r],[d,s]=o.split("-"),c=`${d}-${s.toUpperCase()}`,m=v.Z.getCookie("stockx_device_id"),y=(0,h.Z)(),k=g();return{headers:{...i,Accept:"application/json","App-Platform":u.Z.APP_HUMAN_NAME,"App-Version":u.Z.APP_HUMAN_VERSION,...!n&&!!l&&{authorization:`Bearer ${l}`},...!!m&&{"x-stockx-device-id":m},...!!y&&{"x-stockx-session-id":y},...!!a&&{"x-nonce-authorization":a},"accept-language":c,...k?{"selected-country":k}:{}}}}),k=(0,n(90878).L)({uri:"/api/p/e",credentials:"same-origin",fetch}),Z=new o.f({link:d.i.from([c,y,k]),cache:new s.h({typePolicies:{Query:{fields:{viewer:{merge(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return{...e,...t}}}}},Product:{keyFields:!1,merge:!0,fields:{variants:{read(e,t){let{readField:n}=t;return e&&e.filter(e=>!n("hidden",e))}}}},Variant:{keyFields:!1},Market:{merge:!0},BidAskData:{merge:!0},Media:{merge:!0}}}),name:u.Z.APP_HUMAN_NAME,version:u.Z.APP_HUMAN_VERSION});var f=e=>{let{children:t,isEnabled:n}=e;return r.s||!n?(0,i.tZ)(l.Fragment,{children:t}):(0,i.tZ)(a.e,{client:Z,children:t})},b=n(94623),C=n(28535),S=n(90596),_=n(88260),x=n(17724),N=n(26399),w=n(70178),E=n(65785),T=n(3022),I=n(77768),A=n(43437);let B=e=>w.Z.build(e);var D=()=>{let e=(0,N.Z)(),{pathname:t}=(0,x.Z)(),n=(0,T.Z)()===I.G.Browse,l=t.includes("/search"),a=t;return"/"===t.substr(-1)&&(a=t.substr(0,t.length-1)),(0,i.BX)(E.Z,{children:[!n&&!l&&!(0,A.Z)(t)&&(0,i.tZ)("link",{rel:"canonical",href:`${e}${a}`},"canonical"),n||l?null:B(t).map(t=>{let{hreflang:n,path:l}=t,a=l?`/${l}`:"";return(0,i.tZ)("link",{rel:"alternate",hrefLang:n,href:`${e}${a}`},n)})]})},P=n(70998),F=n(11335),L=n(93433),M=n.n(L);let z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n="meta_title_default",i="Buy and sell the hottest sneakers including Adidas Yeezy and Retro Jordans, Supreme streetwear, trading cards, collectibles, designer handbags and luxury watches.";return[{name:"title",value:n},{name:"description",value:i},{name:"keywords",value:"stockx, stock x, buy, sell, sneakers, adidas yeezy, retro jordans, streetwear, supreme trading cards, designer handbags, luxury watches"},{name:"og:image",value:t||"https://stockx-assets.imgix.net/default-social-media-share.jpg"},{name:"og:title",value:n},{name:"og:description",value:i},{name:"twitter:card",value:"summary_large_image"},{name:"twitter:title",value:n},{name:"twitter:description",value:i},{name:"twitter:image",value:t||"https://stockx-assets.imgix.net/default-social-media-share.jpg"},{name:"twitter:site",value:"@StockX"},{name:"twitter:app:country",value:"US"},{name:"twitter:app:name:iphone",value:"StockX - Buy & Sell Authentic Sneakers, Streetwear, Handbags, and Watches"},{name:"twitter:app:id:iphone",value:"881599819"},{name:"twitter:app:name:ipad",value:"StockX - Buy & Sell Authentic Sneakers, Streetwear, Handbags, and Watches"},{name:"twitter:app:id:ipad",value:"881599819"},{name:"twitter:app:name:googleplay",value:"StockX - Buy & Sell Sneakers, Streetwear, Handbags, and Watches"},{name:"twitter:app:id:googleplay",value:"com.stockx.stockx"},{name:"fb:app_id",value:"665739203554918"},{name:"og:url",value:`https://stockx.com${e}`},{name:"al:ios:url",value:`stockx://${M()(e,"/")}`},{name:"al:ios:app_store_id",value:"881599819"},{name:"al:ios:app_name",value:"StockX"},{name:"al:android:url",value:`https://stockx.com${e}`},{name:"al:android:app_name",value:"StockX"},{name:"al:android:package",value:"com.stockx.stockx"},{name:"al:web:url",value:`https://stockx.com${e}`},{name:"al:web:should_fallback",value:"true"},{name:"robots",value:(0,A.Z)(e)?"noindex,nofollow,noarchive":"index, follow"}]};var R=n(58230);let O={include_fallback:!0};var $=()=>(0,R.Z)("social_photo",O,{select:e=>{var t,n,i;return(null==e?void 0:null===(i=e.entries)||void 0===i?void 0:null===(n=i[0])||void 0===n?void 0:null===(t=n.image)||void 0===t?void 0:t.url)??null}}),G=()=>{let e=(0,P.Z)(),{data:t}=$();return(0,l.useMemo)(()=>z((0,F.cG)(e),t),[e,t])},X=()=>{let e=G();return(0,i.BX)(l.Fragment,{children:[(0,i.tZ)(D,{}),(0,i.tZ)(_.Z,{tags:e})]})},U=n(73016),V=e=>{let{pathname:t}=(0,x.Z)();(0,l.useEffect)(()=>{U.v.startView(e.tracking.dataDogViewName)},[t])},j=n(84040),H=n(48896),W=e=>{let t=(0,H.L8)(e=>e.updatePageConfig);(0,j.Z)(()=>{t(e)},[e,t])},Y=e=>{(0,l.useMemo)(()=>{r.s||(window.__STOCKX_PAGE_CONFIG__=e)},[e])},K=n(47004),q=n(89005);let Q="stockx_session_id";var J=()=>{let{pathname:e}=(0,x.Z)(),[t,n]=(0,K.Z)([Q]);(0,l.useMemo)(()=>{r.s||n(Q,(null==t?void 0:t[Q])??(0,q.ZP)(),{path:"/",secure:!0,sameSite:"lax",maxAge:1800,domain:`.${window.location.hostname}`})},[e])};let ee=()=>(0,i.tZ)(C.xu,{p:4,"data-testid":"loader",children:(0,i.tZ)(S.Q,{})});var et=(e,t)=>n=>{W(t),Y(t),V(t),J();let l=t.disableServerSidePageRendering??!1;return(0,i.BX)(i.HY,{children:[(0,i.tZ)(X,{}),l&&(0,i.tZ)(b.Z,{fallback:(0,i.tZ)(ee,{}),children:(0,i.tZ)(f,{isEnabled:!!t.enableApolloProvider,children:(0,i.tZ)(e,{...n})})}),!l&&(0,i.tZ)(e,{...n})]})}},21902:function(e,t,n){"use strict";var i=n(52903),l=n(2784),a=n(45847),r=n.n(a),o=n(48573);t.Z=e=>{let{action:t,customer:n}=e,a=(0,o.Z)();return(0,l.useEffect)(()=>{var e;let i={config:{}};void 0===(null===(e=window)||void 0===e?void 0:e.QSI)&&(i.config={event:t,userId:(null==n?void 0:n.id)||null,userLang:(null==n?void 0:n.language)||null,externalReference:(null==n?void 0:n.uuid)||null},window.QSI=i||{})},[]),(0,i.tZ)(r(),{id:"buy-sell-qualtrics",src:"https://znaxgwkrtalftyxnu-stockxcustomerres.siteintercept.qualtrics.com/SIE/?Q_ZID=ZN_aXgWkRTALFtyXnU",onLoad:()=>{var e,t,n,i,l,a,r,o,d;null===(n=window)||void 0===n||null===(t=n.QSI)||void 0===t||null===(e=t.API)||void 0===e||e.unload(),null===(a=window)||void 0===a||null===(l=a.QSI)||void 0===l||null===(i=l.API)||void 0===i||i.load(),null===(d=window)||void 0===d||null===(o=d.QSI)||void 0===o||null===(r=o.API)||void 0===r||r.run()},nonce:a})}},26399:function(e,t,n){"use strict";var i=n(2784),l=n(4349);t.Z=()=>(0,i.useContext)(l.Z)},73841:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var i,l,a,r,o,d,s=n(52903),u=n(2784),c=n(50019),m=n(28535),v=n(53361),p=n(15569),h=n(82469),g=n(53753),y=n(28359),k=n(53992),Z=n(23814);(i=r||(r={})).thirdparty_popup="3P popup",i.thirdparty_embedded="3P embedded",i.firstparty="1P",(l=o||(o={})).SUCCESS="SUCCESS",l.REVIEW="REVIEW",(a=d||(d={})).reviewBid="reviewBid",a.reviewBuy="reviewBuy";let f={reviewBid:"stagingReviewBid",reviewBuy:"stagingReviewBuy","buy.success":"staging.buy.success","bid.success":"staging.bid.success","sell.success":"staging.sell.success","ask.success":"staging.ask.success"};var b=n(67176);let C=e=>{let{event:t,...n}=e;(0,b.Z)(t,{...n})},S=e=>d[e]?o.REVIEW:o.SUCCESS;var _=e=>{let{identifier:t,overrideAttributes:n}=e,i="production"!==y.default.ENVIRONMENT,l=(0,Z.Z)(),a=S(t),r=(0,g.Z)(k.Z.ab_n87do_web),d=(0,g.Z)(k.Z.ab_y8s2m_web),s={[o.REVIEW]:"variant_2"!==r,[o.SUCCESS]:"variant1"!==d}[a],c={[o.REVIEW]:`${k.Z.ab_n87do_web}.${r}`,[o.SUCCESS]:`${k.Z.ab_y8s2m_web}.${d}`}[a],m=i?f[t]:t,v=(0,u.useMemo)(()=>({ldFlag:c,...l,...n,...a!==o.REVIEW?{lastname:void 0}:{},...a!==o.SUCCESS?{emailtype:void 0}:{}}),[c,l,n,a]);return(0,u.useMemo)(()=>({isRoktAdsEnabled:s,adType:a,ldFlag:c,identifier:m,attributes:v}),[s,a,c,m,v])},x=e=>{let{identifier:t,screenName:n,divId:i,attributes:l={},segmentProps:a={},listeners:o={}}=e,[d]=(0,h.Z)(),{colorMode:g}=(0,c.If)(),{isRoktAdsEnabled:y,ldFlag:k,attributes:Z,identifier:f}=_({identifier:t,overrideAttributes:l});return((0,u.useEffect)(()=>{let e;if(y&&d)return(async()=>{try{var t;let i={...Z,darkMode:"dark"===g},l=d.selectPlacements({attributes:i,identifier:f});e=await l;let s=await (null==e?void 0:null===(t=e.context)||void 0===t?void 0:t.pageVariantName),u=((null==s?void 0:s.toLowerCase().includes("overlay"))?r.thirdparty_popup:r.thirdparty_embedded)||"";e.on("POSITIVE_ENGAGEMENT").subscribe(()=>{var e;null==o||null===(e=o.POSITIVE_ENGAGEMENT)||void 0===e||e.call(o),C({...a,type:u,adVariant:s,event:v.Z.ROKT_AD_ENGAGMENT,label:"Yes",screenName:n,ldFlag:k})}),e.on("PLACEMENT_CLOSED").subscribe(()=>{var e;null==o||null===(e=o.PLACEMENT_CLOSED)||void 0===e||e.call(o),C({...a,type:u,adVariant:s,event:v.Z.CLOSE_CLICKED,screenName:n,ldFlag:k})}),e.on("PLACEMENT_INTERACTIVE").subscribe(()=>{var e;null==o||null===(e=o.PLACEMENT_INTERACTIVE)||void 0===e||e.call(o),C({...a,type:u,adVariant:s,event:v.Z.ROKT_AD_IMPRESSION,screenName:n,ldFlag:k})}),e.on("PLACEMENT_READY").subscribe(()=>{var e;return null==o?void 0:null===(e=o.PLACEMENT_READY)||void 0===e?void 0:e.call(o)})}catch{}})(),()=>{if(e)try{e.close()}catch(e){}}},[d,f,y,k,n,g]),y&&d)?(0,s.tZ)(p.Z,{children:(0,s.tZ)(m.xu,{id:i||"rokt-placeholder","data-testid":"RoktPlaceholder",lineHeight:0})}):null}},30778:function(e,t,n){"use strict";var i=n(52903);n(2784);var l=n(53753),a=n(53992),r=n(28455);t.Z=()=>{let e=(0,r.Z)(),t=(0,l.Z)(a.Z.ab_n87do_web),n=(0,l.Z)(a.Z.ab_y8s2m_web);return e&&("variant_2"!==t||"variant1"!==n)?(0,i.tZ)("iframe",{"aria-hidden":"true",src:"https://apps.rokt.com/wsdk/preload/index.html",sandbox:"allow-scripts allow-same-origin",style:{display:"none",border:0,width:"100%"},title:"ads"}):null}},84853:function(e,t,n){"use strict";var i=n(2784),l=n(53992),a=n(53753),r=n(28455),o=n(82469),d=n(23814);t.Z=()=>{let[e]=(0,o.Z)(),t=(0,d.Z)(),n=(0,r.Z)(),s=(0,a.Z)(l.Z.ab_n87do_web),u=(0,a.Z)(l.Z.ab_y8s2m_web),c=n&&("variant_2"!==s||"variant1"!==u);return{fireRoktAction:(0,i.useCallback)(n=>{let{conversionType:i,...l}=n;c&&e&&e.selectPlacements({attributes:{...t,...l,conversionType:i}})},[e,t]),isRoktLauncherReady:!!e}}},23814:function(e,t,n){"use strict";var i=n(2784),l=n(53946),a=n(98368),r=n(93442);t.Z=()=>{let e=(0,l.Z)(),{countryCode:t}=(0,a.Z)(),{email:n="",firstName:o="",lastName:d="",Billing:s={Address:{postalCode:""}},language:u="",sha256Email:c,uuid:m}=e||{},{Address:v}=s,{postalCode:p=""}=v,h=n.endsWith("@stockx.com")?"internal":"external",g=r.Z.getCookie("ajs_anonymous_id");return(0,i.useMemo)(()=>({emailsha256:c,firstname:o,lastname:d,zipcode:p,language:u.substring(0,2),country:t,emailtype:h,anon_id:g||"",user_uuid:m||""}),[c,o,p,u,t,h,m])}},70998:function(e,t,n){"use strict";var i=n(2784),l=n(17724),a=n(91915);t.Z=()=>{let{pathname:e}=(0,l.Z)();return(0,i.useMemo)(()=>(0,a.Z)(e),[e])}},91915:function(e,t,n){"use strict";let i=new RegExp([...Object.values(n(88863).a2).filter(e=>e.active).filter(e=>"en"!==e.value).map(e=>e.regExp)].join("|"));t.Z=e=>e.replace(i,"")},65785:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(52903);n(2784);var l=n(97729),a=n.n(l),r=e=>{let{children:t}=e;return(0,i.tZ)(a(),{children:t})}},88260:function(e,t,n){"use strict";var i=n(52903),l=n(2784),a=n(72242),r=n(65785);t.Z=l.memo(e=>{let{tags:t}=e,{t:n}=(0,a.$G)(),l=t&&t.find(e=>(null==e?void 0:e.name)==="title"),o=["title","description","keywords","robots"];return(0,i.BX)(r.Z,{children:[(null==l?void 0:l.value)&&(0,i.tZ)("title",{children:n(l.value)}),t&&t.map(e=>(null==e?void 0:e.name)&&o.includes(null==e?void 0:e.name)?(0,i.tZ)("meta",{name:null==e?void 0:e.name,content:(null==e?void 0:e.value)?n(null==e?void 0:e.value):void 0},null==e?void 0:e.name):(0,i.tZ)("meta",{property:(null==e?void 0:e.name)||void 0,content:(null==e?void 0:e.value)?n(null==e?void 0:e.value):void 0},null==e?void 0:e.name))]})})},70178:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var i=n(84636),l=n.n(i),a=n(93433),r=n.n(a),o=n(5648),d=n.n(o),s=n(11335),u=n(88863),c=e=>{if(!e)return"en";let t=Object.keys(u.a2).map(e=>u.a2[e]),n=e.split("/"),i=t.find(e=>e.url===n[1]);return i?i.value:"en"},m=()=>Object.keys(u.a2).map(e=>u.a2[e]).filter(e=>e.active&&!e.experiment);function v(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e&&"/"===e[0]?e:`/${e}`;return t?d()((0,s.cG)(n),"/"):r()((0,s.cG)(n),"/")}class p{static #e=this.sortRoutesForPage=(e,t)=>{let n=l()(e,"value");return[...n.filter(e=>e.value===t),...n.filter(e=>e.value!==t)]};static #t=this.addXDefault=e=>{let[t]=e.filter(e=>"en"===e.value);return[{...t,hreflang:"x-default"},...e]};static #n=this.nonPrefixedRoute=e=>"en"===c(e)?e:e.substring(6,e.length);static #i=this.dynamicLangTags=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=c(e),i=p.nonPrefixedRoute(e),l=m(),a=p.sortRoutesForPage(l,n).map(e=>{let{url:n,value:l}=e;return{value:l,hreflang:n,path:"en"===e.value?`${v(i.substring(1))}${t}`:`${v(`${n}${i.substring(0,i.length)}`,!0)}${t}`}});return p.addXDefault(a)};static #l=this.build=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return p.dynamicLangTags(e,t)}}},43437:function(e,t){"use strict";let n=["/api/","/buy/","/sell/","/search","/profile","/buying","/selling","/following","/settings","/account/wallet"];t.Z=e=>n.some(t=>e.includes(t))},19475:function(e,t,n){"use strict";var i=n(2784),l=n(82462);t.Z=()=>{let{setData:e}=(0,l.Z)();return(0,i.useCallback)(t=>{e&&e({...t})},[e])}},37500:function(e,t,n){"use strict";var i=n(52903);n(2784);var l=n(47965),a=n(91720),r=n(92139),o=n(55199);t.Z=e=>{let{adyen3DSModalOpen:t,adyen3DSModal:n}=e,d="base"===(0,l.EN)()?"255px":"395px";return(0,i.BX)(a.u_l,{isOpen:t,onClose:()=>null,closeOnOverlayClick:!1,isCentered:!0,scrollBehavior:"inside",trapFocus:!1,children:[(0,i.tZ)(r.Z,{}),(0,i.tZ)(o.h,{minHeight:"405px",minWidth:d,maxHeight:"405px",maxWidth:d,ref:n,alignItems:"center",justifyContent:"center"})]})}},50818:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(52903);n(2784);var l=n(50019),a=n(77533),r=n(11082),o=n(1426);let d=(0,n(21112).I)({displayName:"PayPalIcon",viewBox:"0 0 256 302",path:(0,i.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"256px",height:"302px",viewBox:"0 0 256 302",version:"1.1",preserveAspectRatio:"xMidYMid",children:(0,i.BX)("g",{children:[(0,i.tZ)("path",{d:"M217.168476,23.5070146 C203.234077,7.62479651 178.045612,0.815753338 145.823355,0.815753338 L52.3030619,0.815753338 C45.7104431,0.815753338 40.1083819,5.6103852 39.0762042,12.1114399 L0.136468302,259.076601 C-0.637664968,263.946149 3.13311322,268.357876 8.06925331,268.357876 L65.804612,268.357876 L80.3050438,176.385849 L79.8555471,179.265958 C80.8877248,172.764903 86.4481659,167.970272 93.0324607,167.970272 L120.46841,167.970272 C174.366398,167.970272 216.569147,146.078116 228.897012,82.7490197 C229.263268,80.8761167 229.579581,79.0531577 229.854273,77.2718188 C228.297683,76.4477414 228.297683,76.4477414 229.854273,77.2718188 C233.525163,53.8646924 229.829301,37.9325302 217.168476,23.5070146",fill:"#27346A"}),(0,i.tZ)("path",{d:"M102.396976,68.8395929 C103.936919,68.1070797 105.651665,67.699203 107.449652,67.699203 L180.767565,67.699203 C189.449511,67.699203 197.548776,68.265236 204.948824,69.4555699 C207.071448,69.7968545 209.127479,70.1880831 211.125242,70.6375799 C213.123006,71.0787526 215.062501,71.5781934 216.943728,72.1275783 C217.884341,72.4022708 218.808307,72.6852872 219.715624,72.9849517 C223.353218,74.2002577 226.741092,75.61534 229.854273,77.2718188 C233.525163,53.8563683 229.829301,37.9325302 217.168476,23.5070146 C203.225753,7.62479651 178.045612,0.815753338 145.823355,0.815753338 L52.2947379,0.815753338 C45.7104431,0.815753338 40.1083819,5.6103852 39.0762042,12.1114399 L0.136468302,259.068277 C-0.637664968,263.946149 3.13311322,268.349552 8.0609293,268.349552 L65.804612,268.349552 L95.8875974,77.5798073 C96.5035744,73.6675208 99.0174265,70.4627756 102.396976,68.8395929 Z",fill:"#27346A"}),(0,i.tZ)("path",{d:"M228.897012,82.7490197 C216.569147,146.069792 174.366398,167.970272 120.46841,167.970272 L93.0241367,167.970272 C86.4398419,167.970272 80.8794007,172.764903 79.8555471,179.265958 L61.8174095,293.621258 C61.1431644,297.883153 64.4394738,301.745495 68.7513129,301.745495 L117.421821,301.745495 C123.182038,301.745495 128.084882,297.550192 128.983876,291.864891 L129.458344,289.384335 L138.631407,231.249423 L139.222412,228.036354 C140.121406,222.351053 145.02425,218.15575 150.784467,218.15575 L158.067979,218.15575 C205.215193,218.15575 242.132193,199.002194 252.920115,143.605884 C257.423406,120.456802 255.092683,101.128442 243.181019,87.5519756 C239.568397,83.4399129 235.081754,80.0437153 229.854273,77.2718188 C229.571257,79.0614817 229.263268,80.8761167 228.897012,82.7490197 L228.897012,82.7490197 Z",fill:"#2790C3"}),(0,i.tZ)("path",{d:"M216.952052,72.1275783 C215.070825,71.5781934 213.13133,71.0787526 211.133566,70.6375799 C209.135803,70.1964071 207.071448,69.8051785 204.957148,69.4638939 C197.548776,68.265236 189.457835,67.699203 180.767565,67.699203 L107.457976,67.699203 C105.651665,67.699203 103.936919,68.1070797 102.4053,68.8479169 C99.0174265,70.4710996 96.5118984,73.6675208 95.8959214,77.5881313 L80.3133678,176.385849 L79.8638711,179.265958 C80.8877248,172.764903 86.4481659,167.970272 93.0324607,167.970272 L120.476734,167.970272 C174.374722,167.970272 216.577471,146.078116 228.905336,82.7490197 C229.271592,80.8761167 229.579581,79.0614817 229.862597,77.2718188 C226.741092,75.623664 223.361542,74.2002577 219.723948,72.9932757 C218.816631,72.6936112 217.892665,72.4022708 216.952052,72.1275783",fill:"#1F264F"})]})})});var s=e=>{let{message:t,clickUrl:n,clickHandler:s,disclaimer:u,linkStyle:c}=e,m=(0,l.ff)("#0070BA","#B9EFFC");return(0,i.BX)(i.HY,{children:[(0,i.tZ)(d,{height:"16px",mr:1}),(0,i.tZ)(a.x,{mr:1,children:t}),(0,i.tZ)(r.r,{as:o.Z,to:n,color:m,textDecor:"none",target:"_blank",onClick:s,textDecoration:c,_hover:{textDecoration:"none"},children:u})]})}},52585:function(e,t,n){"use strict";var i=n(2784),l=n(23903),a=n(12826),r=n(25658),o=n(36186),d=n(47965),s=n(33788);let u={currencyCode:"USD",locale:"en-US"},c={currencyCode:u.currencyCode,providerName:"ADYEN",countryCode:"US",instrumentKey:"cashapp"};t.Z=e=>{let{pricing:t,isCashAppEnabled:n,isPricingFetching:m,setCashAppDetails:v}=e,{mutatefn:p}=(0,s.Z)(),h="base"===(0,d.EN)(),g=(0,i.useRef)({isInitializing:!1,instance:null}),[y,k]=(0,i.useState)(!1),[Z,f]=(0,i.useState)(null),[b,C]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=async()=>{try{g.current={...g.current,isInitializing:!0};let{createPaymentClientProviderToken:{paymentClientProviderToken:e,providerEnv:n,instrumentConfig:i}={paymentClientProviderToken:null,providerEnv:"test",instrumentConfig:null}}=await p({PaymentProviderTokenInput:c})??{createPaymentClientProviderToken:{paymentClientProviderToken:null,providerEnv:"test",instrumentConfig:null}},l=JSON.parse(i),a=h?null==t?void 0:t.total:o.Z.getMinorUnits(null==t?void 0:t.total),d=await (0,r.Z)({environment:n||"test",locale:u.locale,amount:{value:a,currency:u.currencyCode},clientKey:e,paymentMethodsResponse:{paymentMethods:[l]},onError:e=>{f(e.message)},onSubmit:e=>{if(v){var t;v(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.paymentMethod)}},showPayButton:!0}),s=await d.create("cashapp").mount("#cashapp-container");g.current={instance:s,isInitializing:!1}}catch{f("Error initializing CashApp")}};!m&&n&&(null==t?void 0:t.total)&&!g.current.instance&&!g.current.isInitializing&&e()},[m,t,n,h]),(0,l.Z)(()=>{g.current.instance&&(g.current.instance.cashAppService.pay.restart(),g.current.instance=null)}),(0,a.Z)(()=>{var e,t;(null===(t=g.current.instance)||void 0===t?void 0:null===(e=t.cashAppService)||void 0===e?void 0:e.pay)&&k(!0)},500),{cashAppInstance:g.current.instance,isCashAppLoaded:y,cashAppError:Z,isCashAppDrawerOpen:b,setIsCashAppDrawerOpen:C,setCashAppError:f}}},81705:function(e,t,n){"use strict";var i=n(2784),l=n(23546);t.Z=()=>{let e=l.Z.use.expirationChanged(),t=l.Z.use.expiration();return(0,i.useMemo)(()=>({setExpiration:e,expiration:t}),[t,e])}},33788:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(95713);let l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createPaymentClientProviderToken"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"PaymentProviderTokenInput"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PaymentProviderTokenInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPaymentClientProviderToken"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"PaymentProviderTokenInput"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paymentClientProviderToken"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AdyenProviderClientToken"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"regionUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"providerEnv"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instrumentConfig"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:339,source:{body:"\n  mutation createPaymentClientProviderToken(\n    $PaymentProviderTokenInput: PaymentProviderTokenInput!\n  ) {\n    createPaymentClientProviderToken(input: $PaymentProviderTokenInput) {\n      paymentClientProviderToken\n      ... on AdyenProviderClientToken {\n        regionUrl\n        providerEnv\n        instrumentConfig\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var a=()=>{let{mutatefn:e}=(0,i.Z)(l);return{mutatefn:e}}},45514:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(2784),l=n(2969),a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPayPalPayLaterMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"currencyCode"}},type:{kind:"NamedType",name:{kind:"Name",value:"CurrencyCode"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"value"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Float"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paypalPresentmentMessages"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"amount"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"currencyCode"},value:{kind:"Variable",name:{kind:"Name",value:"currencyCode"}}},{kind:"ObjectField",name:{kind:"Name",value:"value"},value:{kind:"Variable",name:{kind:"Name",value:"value"}}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clickUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"impressionUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disclaimer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:310,source:{body:"\n  query GetPayPalPayLaterMessage($currencyCode: CurrencyCode, $value: Float!) {\n    paypalPresentmentMessages(\n      input: { amount: { currencyCode: $currencyCode, value: $value } }\n    ) {\n      clickUrl\n      impressionUrl\n      messages {\n        disclaimer\n        message\n        type\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},r=e=>{let{shouldFetch:t,amount:n,currency:r}=e,{data:o,isLoading:d,isError:s}=(0,l.Z)(a,{enabled:!!n&&t,variables:{currencyCode:r,value:n}}),{messages:u,clickUrl:c,impressionUrl:m}=(null==o?void 0:o.paypalPresentmentMessages)||{},{message:v,disclaimer:p}=(0,i.useMemo)(()=>{var e;return null==u?void 0:null===(e=u.filter(e=>(null==e?void 0:e.type)==="default"))||void 0===e?void 0:e[0]},[u])||{};return{message:v,disclaimer:p,clickUrl:c,impressionUrl:m,isLoading:d,isError:s}}},58967:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(95713);let l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createThreeDSAuthentication"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"CreateThreeDSAuthenticationInput"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateThreeDSAuthenticationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createThreeDSAuthentication"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"CreateThreeDSAuthenticationInput"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"threeDSAuthStatus"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:230,source:{body:"\n  mutation createThreeDSAuthentication(\n    $CreateThreeDSAuthenticationInput: CreateThreeDSAuthenticationInput!\n  ) {\n    createThreeDSAuthentication(input: $CreateThreeDSAuthenticationInput) {\n      threeDSAuthStatus\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var a=()=>{let{mutatefn:e}=(0,i.Z)(l);return{mutatefn:e}}},47453:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(2969),l=n(28455),a=n(53753),r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetSellerRewardsLevel"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"seller"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"profile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentLevel"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:130,source:{body:"\n  query GetSellerRewardsLevel {\n    viewer {\n      seller {\n        profile {\n          currentLevel\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},o=()=>{let e=(0,l.Z)(),t=(0,a.Z)("web_seller_bonus_expansion"),{data:n}=(0,i.Z)(r,{enabled:e,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1,select:e=>{var t,n,i;return null==e?void 0:null===(i=e.viewer)||void 0===i?void 0:null===(n=i.seller)||void 0===n?void 0:null===(t=n.profile)||void 0===t?void 0:t.currentLevel}});return{isPowerSeller:!!n&&n>=(t?3:4),currentLevel:n||1}}},42703:function(e,t,n){"use strict";var i=n(93442),l=n(3197);let a=async e=>{let{chainId:t,notes:n="",onSuccess:a,onError:r,onSettled:o}=e,d=i.Z.getCookie("token");try{await l.Z.delete(`/api/portfolio/${t}`,{chain_id:t,notes:n},{headers:{Authorization:`Bearer ${d}`}}),a()}catch(e){r(e)}finally{o(t)}};t.Z=a},3652:function(e,t){"use strict";t.Z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"EuVat"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"taxes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"euVAT"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isExpired"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:121,source:{body:"\n  query EuVat {\n    viewer {\n      taxes {\n        euVAT {\n          id\n          isExpired\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}}},5806:function(e,t,n){"use strict";n.d(t,{AV:function(){return d},GD:function(){return r},k2:function(){return o}});var i=n(67176),l=n(53361),a=n(13112);let r=(e,t,n,r)=>{var o;(0,i.Z)(l.Z.CHK_OPTIMIZED_PLACE_ORDER_CTA_WITH_CANCEL_CLICKED,{vertical:null==e?void 0:e.contentGroup,productUUID:null==e?void 0:e.uuid,productName:null==e?void 0:e.title,skuUUID:(null==e?void 0:null===(o=e.market)||void 0===o?void 0:o.skuUuid)||"",flow:t,amount:n,screenName:a.Z.REVIEW,userUUID:r})},o=(e,t,n,r)=>{var o;(0,i.Z)(l.Z.CHK_OPTIMIZED_PLACE_BID_CTA_WITH_CANCEL_CLICKED,{vertical:null==e?void 0:e.contentGroup,productUUID:null==e?void 0:e.uuid,productName:null==e?void 0:e.title,skuUUID:(null==e?void 0:null===(o=e.market)||void 0===o?void 0:o.skuUuid)||"",flow:t,amount:n,screenName:a.Z.REVIEW,userUUID:r})},d=function(e,t,n){var r;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.Z.AMOUNT_ENTRY,d=arguments.length>4?arguments[4]:void 0;(0,i.Z)(l.Z.EXPIRATION_CHANGED,{flow:e,screenName:o,vertical:null==t?void 0:t.contentGroup,productUUID:null==t?void 0:t.uuid,skuUUID:(null==t?void 0:null===(r=t.market)||void 0===r?void 0:r.skuUuid)||"",label:n,paymentMethodStatus:d})}},94623:function(e,t,n){"use strict";var i=n(52903),l=n(2784);t.Z=e=>{let{children:t,fallback:n=null}=e,[a,r]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{r(!0)},[]),!a&&n)?(0,i.tZ)(l.Fragment,{children:n}):a?(0,i.tZ)(l.Fragment,{children:t}):null}},50651:function(e,t,n){"use strict";var i=n(52903);n(2784);var l=n(65785),a=n(65262);t.Z=e=>{var t;let{src:n,srcSet:r}=e,o=(0,a.o)();return(null==o?void 0:null===(t=o.browser)||void 0===t?void 0:t.name)==="Safari"?null:(0,i.tZ)(l.Z,{children:(0,i.tZ)("link",{rel:"preload",as:"image",fetchpriority:"high",imageSrcSet:r,href:n,"data-testid":"preload-image"})})}},81074:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var i=n(52903),l=n(2784),a=n(54843),r=n(847),o=n(32981),d=n(92139),s=n(73751),u=n(61329),c=n(97217),m=n(79574),v=n(28535);let p=(0,l.forwardRef)((e,t)=>{let{color:n,onClick:l,...a}=e;return(0,i.tZ)(v.xu,{display:"inline-flex",role:"button",ref:t,children:(0,i.tZ)(m.s,{...a,color:n,boxSize:(null==a?void 0:a.boxSize)||"5",onClick:l})})});var h=e=>{let{color:t,children:n,...l}=e,{isOpen:a,onOpen:m,onClose:v}=(0,r.q)();return(0,i.BX)(i.HY,{children:[(0,i.tZ)(p,{color:t,...l,onClick:m}),(0,i.BX)(o.d,{isOpen:a,placement:"bottom",onClose:v,closeOnOverlayClick:!0,closeOnEsc:!0,children:[(0,i.tZ)(d.Z,{}),(0,i.BX)(s.s,{py:8,children:[(0,i.tZ)(u.o,{}),(0,i.tZ)(c.f,{children:n})]})]})]})},g=n(84102),y=e=>{let{onOpen:t,children:n,color:l,placement:a="bottom",...r}=e;return(0,i.tZ)(g.B,{placement:a,label:n,popoverContentProps:{sx:{"& > *":{color:"inherit"}}},children:(0,i.tZ)(p,{color:l,...r})})},k=()=>(0,a.r)({base:h,lg:y})??y,Z=e=>{let{onOpen:t,children:n,color:l,placement:a,...r}=e,o=k();return(0,i.tZ)(o,{onOpen:t,color:l,placement:a,...r,children:n})}},77146:function(e,t,n){"use strict";var i,l,a=n(2784),r=n(65262);(i=l||(l={})).jpg="jpg",i.webp="webp",i.avif="avif";let o=e=>{var t;return parseInt((null===(t=e.split("."))||void 0===t?void 0:t[0])??"0",10)},d=(e,t,n)=>"Safari"===e&&t>=16||"Chrome"===e&&t>90&&"iOS"!==n||"Firefox"===e&&t>93&&"iOS"!==n||"Opera"===e&&t>71&&"iOS"!==n,s=(e,t,n,i,l)=>"Firefox"===e&&t>65&&t<93||"Safari"===e&&t>=14&&"desktop"!==l?"webp":"Chrome"===e&&t>33&&"iOS"!==n||("Chrome"===e&&"desktop"!==l&&"iOS"===n&&i>=14||"Safari"===e&&t>=15&&"desktop"===l||"Microsoft Edge"===e&&t>=18?"webp":void 0);t.Z=()=>{let e=(0,r.o)();return(0,a.useMemo)(()=>{if(!e)return"jpg";let t=e.browser.name,n=o(e.browser.version??""),i=e.os.name,l=o(e.os.version??""),a=e.platform.type;return t&&i&&a?d(t,n,i)?"avif":s(t,n,i,l,a)?"webp":"jpg":"webp"},[e])}},93822:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(2969),l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FetchMFAEnrollment"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mfa"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mfaEnrollment"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:95,source:{body:"\n  query FetchMFAEnrollment {\n    viewer {\n      mfa {\n        mfaEnrollment\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},a=n(28455),r=function(){let{enabled:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enabled:!0},t=(0,a.Z)(),{data:n,loading:r}=(0,i.Z)(l,{enabled:t&&e,select:e=>{var t,n;return{userIsMFAEnrolled:!!(null==e?void 0:null===(n=e.viewer)||void 0===n?void 0:null===(t=n.mfa)||void 0===t?void 0:t.mfaEnrollment)}}});return{userIsMFAEnrolled:(null==n?void 0:n.userIsMFAEnrolled)||!1,isMFAEnrollmentLoading:r}}},77612:function(e,t,n){"use strict";n.d(t,{$X:function(){return o},sM:function(){return r},vC:function(){return d}});var i=n(55885),l=n(38035),a=n(16556);let r=(0,i.m)("span",{baseStyle:{color:"text-primary",fontSize:"sm",fontWeight:"semibold",ml:"2"}}),o=(0,i.m)(l.k,{baseStyle:{alignItems:"center",cursor:"pointer",flex:"1",justifyContent:"space-between"}}),d=(0,i.m)(a.Vp,{baseStyle:{background:"decorative-purple-subdued",justifyContent:"center",marginLeft:2,width:"fit-content"},label:"label_new"})},83541:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var i=n(52903),l=n(2784),a=n(72242),r=n(51345),o=n(42218),d=n(14511),s=n(847),u=n(47965),c=n(38035),m=n(42822),v=n(74008),p=n(28535),h=n(32981),g=n(92139),y=n(73751),k=n(61329),Z=n(97217),f=n(98200),b=n(34071),C=n(39429),S=n(46164),_=n(48394),x=n(12329),N=n(29650),w=n(98342),E=n(5740),T=n(91456),I=e=>{let{shippingAddress:t}=(0,w.Z)(),n=null==t?void 0:t.countryCodeAlpha2,i=(0,T.Z)();return(0,E.Z)()===e||n===e||i===e},A=n(46718),B=()=>{let{step:e}=(0,x.Z)(),{userInEU:t}=(0,N.Z)(),n=I("DE"),i=I("CH"),a=I("GB"),r=(0,l.useMemo)(()=>(n||t||i||a)&&e!==A.j.Success,[e,i,n,t,a]);return(0,l.useMemo)(()=>r,[r])},D=n(39783),P=n(62929),F=n(77533),L=e=>{let{valueProp:t}=e,{t:n}=(0,a.$G)();return(0,i.BX)(c.k,{alignItems:"center",children:[(0,i.tZ)(P.J,{color:"brand-primary",h:"5",w:"5",mr:2,as:t.icon}),(0,i.tZ)(F.x,{color:"brand-primary",my:"1",children:n(t.title)})]})},M=n(11082),z=n(14620),R=e=>{let{valueProp:t}=e,{t:n}=(0,a.$G)(),{urlPrefix:l}=(0,z.Z)();return t?(0,i.tZ)(i.HY,{children:"chk_stockx_eu_returns_v1_heading"===t.title?(0,i.tZ)(F.x,{fontSize:{base:"sm",md:"xs"},children:(0,i.tZ)(a.cC,{i18nKey:"chk_stockx_eu_returns_v1_subtext",components:[(0,i.tZ)(M.r,{textDecor:"underline",color:{base:"brand-primary",md:"text-inverse"},isExternal:!0,href:`https://stockx.com/help${l}articles/What-does-the-right-to-withdrawal-mean-for-eu-uk-customers`},"return")]})}):(0,i.tZ)(F.x,{fontSize:{base:"sm",md:"xs"},color:"inherit",children:n(t.body)})}):null},O=e=>{let{bgColor:t}=e,{t:n}=(0,a.$G)(),x=(0,l.useRef)(null),N=B(),{isOpen:w,onOpen:E,onClose:T}=(0,s.q)(),[I,A]=(0,l.useState)(),P="base"===(0,u.EN)(),F=(0,l.useMemo)(()=>N?[{icon:r.L,title:"chk_stockx_verified_v1_heading",body:"chk_stockx_verified_v1_subtext"},{icon:o.Z,title:"chk_stockx_promise_v1_heading",body:"chk_stockx_promise_v2_subtext"},{icon:d.O,title:"chk_stockx_eu_returns_v1_heading",body:"chk_stockx_eu_returns_v1_subtext"}]:[{icon:r.L,title:"chk_stockx_verified_v1_heading",body:"chk_stockx_verified_v1_subtext"},{icon:o.Z,title:"chk_stockx_promise_v1_heading",body:"chk_stockx_promise_v2_subtext"}],[N]),M=e=>{A(e),E()};return(0,i.tZ)(D.Z,{bgColor:t,children:(0,i.tZ)(c.k,{ref:x,justifyContent:"space-evenly",alignItems:"center",flexWrap:"wrap",children:F.map((e,t)=>{var a;return(0,i.BX)(l.Fragment,{children:[1===t&&(0,i.tZ)(m.M,{h:"5",mx:2,children:(0,i.tZ)(v.i,{orientation:"vertical"})}),P?(0,i.BX)(i.HY,{children:[(0,i.tZ)(p.xu,{onClick:()=>M(e),children:(0,i.tZ)(L,{valueProp:e})}),(0,i.BX)(h.d,{isOpen:w,onClose:T,size:"md",placement:"bottom",closeOnOverlayClick:!0,children:[(0,i.tZ)(g.Z,{onClick:T}),(0,i.BX)(y.s,{children:[(0,i.tZ)(k.o,{}),(0,i.tZ)(Z.f,{px:4,py:12,children:(0,i.tZ)(R,{valueProp:I})})]})]})]}):(0,i.BX)(i.HY,{children:[2===t&&(null==x?void 0:null===(a=x.current)||void 0===a?void 0:a.offsetHeight)&&x.current.offsetHeight<60&&(0,i.tZ)(m.M,{h:"5",mx:2,children:(0,i.tZ)(v.i,{orientation:"vertical"})}),(0,i.BX)(f.J,{trigger:"hover",children:[(0,i.tZ)(b.x,{children:(0,i.tZ)(p.xu,{tabIndex:0,children:(0,i.tZ)(L,{valueProp:e})})}),(0,i.BX)(C.y,{bg:"brand-secondary",color:"text-inverse",children:[(0,i.tZ)(S.Q,{bg:"brand-secondary"}),(0,i.tZ)(_.b,{id:n(null==e?void 0:e.body),children:(0,i.tZ)(R,{valueProp:e})})]})]})]})]},t)})})})}},51174:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return sg},default:function(){return sh}});var i,l,a,r,o=n(52903),d=n(2784),s=n(97619),u=n(17319),c=n(28165),m=n(23903),v=n(64157),p=n(55830),h=n(90596),g=n(71730),y=n(23906),k=n(17724),Z=n(70287),f=n(1925),b=n(66310),C=n(53946),S=()=>{var e;return 802===parseInt((null===(e=(0,C.Z)())||void 0===e?void 0:e.id)||"",10)},_=n(28455),x=n(93822),N=n(93442),w=n(21640),E=n(19475),T=n(79510),I=n(12606),A=n(53753),B=n(53992),D=n(35196),P=()=>{let e=(0,_.Z)(),t=(0,D.getCookie)("nonce");return"true"===(0,A.Z)(B.Z.feature_guest_checkout)&&!!t&&!e},F=n(67432),L=n(36011),M=e=>{let{contentGroup:t}=e;return(0,L.Z)({contentGroup:t,select:e=>{var t,n,i;return(null==e?void 0:null===(i=e.entries)||void 0===i?void 0:null===(n=i[0])||void 0===n?void 0:null===(t=n.bid)||void 0===t?void 0:t[0])??{}}})},z=n(58953),R=n(81455),O=n(11204),$=n(6445),G=n(27335),X=n(76809),U=n(93672),V=n(77476),j=n(72242),H=n(38035),W=n(340),Y=n(11584),K=e=>{let{clickHandler:t}=e,{t:n}=(0,j.$G)(),i=(0,Y.Z)();return(0,o.tZ)(V.Z,{title:n("international_seller_pane_title"),message:n("international_seller_pane_message"),buttonText:n("international_seller_pane_button_text"),support:!0,btnClass:"btn-danger",clickHandler:t,helpLanguage:i,children:(0,o.tZ)(H.k,{justifyContent:"center",my:"3","data-component":"sellers-image",children:(0,o.tZ)(W.Ee,{w:"80%",h:"80%",alt:n("globe"),src:U.Z.getUrl("/svg/icons/img_globe.svg")})})})},q=n(12563),Q=n(74409),J=n(77533),ee=n(62614),et=n(13839),en=n(10993),ei=e=>{let{context:t}=e,{t:n}=(0,j.$G)(),i=(0,f.Z)(),l=(0,y.Z)(),{product:a}=(0,F.Z)(),r=t===O.T.Buy?et.Z:en.Z;return(0,o.BX)(H.k,{justifyContent:"center",alignItems:"center",flexDirection:"column",children:[(0,o.tZ)(W.Ee,{alt:"security badge","data-testid":"nft-restriction-img",src:U.Z.getUrl("/svg/security/frame.svg")}),(0,o.tZ)(Q.X,{marginTop:"14",fontSize:"2xl-static",children:n("nft_country_restriction_header")}),(0,o.tZ)(J.x,{marginTop:"4",children:n("nft_country_restriction_body")}),(0,o.tZ)(r,{children:(0,o.tZ)(ee.z,{variant:"secondary",size:"lg",onClick:()=>l.push(i(`/${null==a?void 0:a.urlKey}`)),children:n("Close")})})]})},el=n(12418),ea=n(76831);let er={recEmail:"",setRecEmail:()=>{},confRecEmail:"",setConfRecEmail:()=>{},recName:"",setRecName:()=>{},fromName:"",setFromName:()=>{},message:"",setMessage:()=>{},scheduledTime:"",setScheduledTime:()=>{},submitBuyGiftCard:()=>{},isInvalidRecEmail:!1,isInvalidConfRecEmail:!1,isInvalidScheduledTime:!1,isGCSubmitDisabled:!1,isSubmitGiftCardPurchaseLoading:!1,gCPurchaseOrderId:""},eo=(0,d.createContext)({giftCardBuyForm:er});var ed=n(72579),es=n.n(ed),eu=n(54073),ec=n.n(eu),em=n(54525),ev=()=>{var e,t;let{t:n}=(0,j.$G)("feature.giftcards"),i=(0,A.Z)(B.Z.ab_gift_cards_v1_web),l=(0,C.Z)(),{currency:a}=(0,em.Z)(),r=(0,_.Z)(),o=null==l?void 0:null===(t=l.Billing)||void 0===t?void 0:null===(e=t.Address)||void 0===e?void 0:e.countryCodeAlpha2,s=!o||"US"===o,u=(0,d.useMemo)(()=>s?"":o?n("GC Purchase Eligiblity Country Error"):"",[s,o]);return{basicEligibility:"true"===i&&(!r||s),countryEligibility:s,currencyEligibility:"USD"===a,inEligibilityReason:u}},ep=n(95713),eh={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PurchaseGiftCard"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PurchaseGiftCardInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"purchaseGiftCard"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:120,source:{body:"\n  mutation PurchaseGiftCard($input: PurchaseGiftCardInput!) {\n    purchaseGiftCard(input: $input) {\n      id\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},eg=()=>{let{mutatefn:e,isLoading:t,error:n,data:i}=(0,ep.Z)(eh);return{mutate:e,isLoading:t,error:n,data:i}},ey=n(2969),ek={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ValidateGiftCardPurchase"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"skuUuid"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productUuid"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"amount"}},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"currencyCode"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"giftCard"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"validatePurchase"},arguments:[{kind:"Argument",name:{kind:"Name",value:"skuUuid"},value:{kind:"Variable",name:{kind:"Name",value:"skuUuid"}}},{kind:"Argument",name:{kind:"Name",value:"productUuid"},value:{kind:"Variable",name:{kind:"Name",value:"productUuid"}}},{kind:"Argument",name:{kind:"Name",value:"amount"},value:{kind:"Variable",name:{kind:"Name",value:"amount"}}},{kind:"Argument",name:{kind:"Name",value:"currencyCode"},value:{kind:"Variable",name:{kind:"Name",value:"currencyCode"}}}],directives:[]}]}}]}}],loc:{start:0,end:309,source:{body:"\n  query ValidateGiftCardPurchase(\n    $skuUuid: String\n    $productUuid: String\n    $amount: Float\n    $currencyCode: String\n  ) {\n    giftCard {\n      validatePurchase(\n        skuUuid: $skuUuid\n        productUuid: $productUuid\n        amount: $amount\n        currencyCode: $currencyCode\n      )\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},eZ=e=>{let{skuUuid:t,productUuid:n,amount:i,currencyCode:l,isEnabled:a=!1}=e;return(0,ey.Z)(ek,{variables:{skuUuid:t,productUuid:n,amount:i,currencyCode:l},enabled:a})},ef=n(11460),eb=n(99678),eC=n(84490),eS=n(70933),e_=n(69303),ex=n(89450),eN=n(23546),ew=n(46718),eE=n(64110),eT=n(12329),eI=n(32853),eA=n(22916);let eB=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,eD=(0,ef.Z)(),eP=(0,ef.Z)((0,eb.zI)((0,eC.Z)(""),6));var eF=()=>{let e=eN.Z.use.buyGiftCardState(),t=eN.Z.use.buyGiftCardStateChanged(),{recEmail:n,confRecEmail:i,recName:l,fromName:a,message:r,scheduledTime:o}=e,{setRecEmail:s,setConfRecEmail:u,setRecName:c,setFromName:m,setMessage:v,setScheduledTime:p}=t,{t:h}=(0,j.$G)(),{query:g}=(0,k.Z)(),{basicEligibility:y,inEligibilityReason:Z,currencyEligibility:f}=ev(),b=(0,_.Z)(),{product:C,selectedVariant:S}=(0,F.Z)(),{amount:x}=(0,eE.Z)(),{setStep:N}=(0,eT.Z)(),{setCheckoutBanner:w,clearCheckoutBanner:E}=(0,ex.Z)(),{currency:T}=(0,em.Z)(),{setCurrency:I}=(0,eI.Z)(),{mutate:A,isLoading:B}=eg(),[D,P]=(0,d.useState)(""),[L,M]=(0,d.useState)(!1),[z,R]=(0,d.useState)(!1),[O,$]=(0,d.useState)(!1),G=!!(b&&(null==C?void 0:C.uuid)&&(null==S?void 0:S.id)&&y),{isLoading:X,error:U}=eZ({skuUuid:null==S?void 0:S.id,productUuid:null==C?void 0:C.uuid,amount:Number(null==g?void 0:g.initialAmount)||0,currencyCode:eA.NE.USD,isEnabled:G}),V=(0,d.useMemo)(()=>{if(U){var e,t,n;let i=(null===(t=U.response)||void 0===t?void 0:null===(e=t.errors)||void 0===e?void 0:e[0])??void 0;return(null==i?void 0:null===(n=i.extensions)||void 0===n?void 0:n.payload)??{message:""}}},[U]),H=!y||L||z||!a||O||X,W=(0,d.useCallback)(e=>t=>{e(es()(t,"target.value")||"")},[]),Y=(0,d.useCallback)(e=>{I(e)},[I]),K=async e=>{var t,i,d,s;let{moneySessionId:u,checkoutTraceId:c,deviceData:m}=e;try{let e={productUuid:null==C?void 0:C.uuid,skuUuid:null==S?void 0:S.id,paymentSessionId:u,initialPricing:{currencyCode:"USD",amount:x},options:{senderName:a,message:r,deliverAt:new Date(o.substring(0,10))>new Date(eD)?`${o}T17:00:00.000Z`:void 0},recipient:{name:l,email:n},meta:{deviceData:m},apiVersion:2},i=await A({input:e},{context:{headers:{"x-checkout-trace-id":c}}});P((null==i?void 0:null===(t=i.purchaseGiftCard)||void 0===t?void 0:t.id)??""),E(),N(ew.j.Success)}catch(n){let e=null==n?void 0:null===(d=n.response)||void 0===d?void 0:null===(i=d.errors)||void 0===i?void 0:i[0],t=null==e?void 0:null===(s=e.extensions)||void 0===s?void 0:s.payload;w({bannerHtml:(null==t?void 0:t.message)||h("Something went wrong. Please try again later."),bannerVariant:"error",bannerStep:ew.j.BidEntry}),N(ew.j.BidEntry)}},q=(0,d.useCallback)(ec()(e=>e(),1e3),[]);return(0,d.useEffect)(()=>{q(()=>{M(!!(n&&!eB.test(n))),R(!!(i&&i!==n))})},[n]),(0,d.useEffect)(()=>{q(()=>{R(!!(i&&i!==n))})},[i]),(0,d.useEffect)(()=>{q(()=>{$(!(0,eS.Z)(o)||!(0,e_.WG)(new Date(o.substring(0,10)),new Date(eD),new Date(eP)))})},[o]),(0,d.useEffect)(()=>{f||Y(eA.NE.USD)},[f,T]),(0,d.useEffect)(()=>{!y&&Z&&w({bannerText:Z,bannerVariant:"error",bannerStep:ew.j.BidEntry})},[y,Z]),(0,d.useMemo)(()=>({giftCardBuyForm:{recEmail:n,setRecEmail:W(s),confRecEmail:i,setConfRecEmail:W(u),recName:l,setRecName:W(c),fromName:a,setFromName:W(m),message:r,setMessage:W(v),scheduledTime:o,setScheduledTime:W(p),submitBuyGiftCard:K,isInvalidRecEmail:L,isInvalidConfRecEmail:z,isInvalidScheduledTime:O,isGCSubmitDisabled:H,isSubmitGiftCardPurchaseLoading:B,gCPurchaseOrderId:D},isLoading:!f,error:V}),[i,a,W,z,L,O,H,r,n,l,o,B,D,V])},eL=n(21112);let eM=(0,eL.I)({displayName:"GiftCardCurrencyUpdateBlockIcon",viewBox:"0 0 138 97",path:(0,o.BX)("svg",{width:"138",height:"97",viewBox:"0 0 138 97",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.BX)("g",{clipPath:"url(#clip0_8153_15537)",children:[(0,o.tZ)("path",{d:"M137.5 97H0.5V22.3545H137.5V97ZM4.2401 93.2742H133.76V26.0802H4.2401V93.2742Z",fill:"#231F20"}),(0,o.tZ)("path",{d:"M135.63 48.1557C122.371 48.1557 111.6 37.4069 111.6 24.2178H115.34C115.34 35.3578 124.447 44.43 135.63 44.43V48.1557Z",fill:"#231F20"}),(0,o.tZ)("path",{d:"M115.322 95.1372H111.582C111.582 81.9294 122.372 71.1992 135.612 71.1992V74.925C124.411 74.925 115.322 83.9972 115.322 95.1372Z",fill:"#231F20"}),(0,o.tZ)("path",{d:"M26.3993 95.1372H22.6592C22.6592 83.9786 13.5521 74.925 2.36914 74.925V71.1992C15.6278 71.1992 26.3993 81.948 26.3993 95.1372Z",fill:"#231F20"}),(0,o.tZ)("path",{d:"M2.36914 48.1557V44.43C13.5708 44.43 22.6592 35.3578 22.6592 24.2178H26.3993C26.3993 37.4256 15.6091 48.1557 2.36914 48.1557Z",fill:"#231F20"}),(0,o.tZ)("path",{d:"M124.409 11.1777H13.5898V14.9035H124.409V11.1777Z",fill:"#231F20"}),(0,o.tZ)("path",{d:"M113.189 0H24.8105V3.72575H113.189V0Z",fill:"#231F20"}),(0,o.tZ)("path",{d:"M69 83C81.9787 83 92.5 72.2548 92.5 59C92.5 45.7452 81.9787 35 69 35C56.0213 35 45.5 45.7452 45.5 59C45.5 72.2548 56.0213 83 69 83Z",fill:"#AB1615"}),(0,o.tZ)("path",{d:"M59.135 47.3248L56.7891 49.749L78.8616 70.9454L81.2076 68.5212L59.135 47.3248Z",fill:"white"}),(0,o.tZ)("path",{d:"M78.86 47.3135L56.7949 68.5176L59.1417 70.941L81.2069 49.737L78.86 47.3135Z",fill:"white"})]}),(0,o.tZ)("defs",{children:(0,o.tZ)("clipPath",{id:"clip0_8153_15537",children:(0,o.tZ)("rect",{width:"137",height:"97",fill:"white",transform:"translate(0.5)"})})})]})});var ez=e=>{let{error:t}=e,{t:n}=(0,j.$G)("feature.giftcards"),i=(0,f.Z)(),l=(0,y.Z)(),{product:a}=(0,F.Z)();return(0,o.BX)(H.k,{justifyContent:"center",alignItems:"center",flexDirection:"column",textAlign:"center",children:[(0,o.tZ)(eM,{height:"97px",width:"137px",mb:8,mt:{base:4,md:0}}),(0,o.tZ)(Q.X,{marginTop:"12",fontSize:"2xl-static",variant:"bold",children:n("GC Purchase Eligibility Error Header")}),(0,o.tZ)(J.x,{marginTop:"6",children:null==t?void 0:t.message}),(0,o.tZ)(et.Z,{children:(0,o.tZ)(ee.z,{variant:"secondary",size:"lg",onClick:()=>l.push(i(`/${null==a?void 0:a.urlKey}`)),children:n("Close")})})]})};let eR=e=>{let{children:t}=e,{giftCardBuyForm:n,isLoading:i,error:l}=eF(),a=(0,d.useMemo)(()=>({giftCardBuyForm:n}),[n]);return i?(0,o.tZ)("div",{"data-testid":"bps-loading",children:(0,o.tZ)(h.Q,{})}):l?(0,o.tZ)(g.L,{paddingTop:"40","data-testid":"bps-gift-card-purchase-restricted",children:(0,o.tZ)(g.H,{children:(0,o.tZ)(ez,{error:l})})}):(0,o.tZ)(eo.Provider,{value:a,children:t})};var eO=e=>{let{children:t}=e,{product:n}=(0,F.Z)(),i=(0,d.useMemo)(()=>(0,G.Z)(null==n?void 0:n.listingType),[null==n?void 0:n.listingType]),l=(0,d.useMemo)(()=>({giftCardBuyForm:er}),[]);return i?(0,o.tZ)(eR,{children:t}):(0,o.tZ)(eo.Provider,{value:l,children:t})},e$=n(94221);let eG={paymentAccounts:[],selectedPayment:{paymentType:null,paymentSubType:null,meta:null},isGCApplied:null},eX="SET_PAYMENT_ACCOUNTS",eU="SET_SELECTED_PAYMENT",eV="SET_IS_GC_APPLIED",ej=e=>({type:eX,payload:e}),eH=e=>({type:eU,payload:e}),eW=e=>({type:eV,payload:e}),eY=(e,t)=>{switch(t.type){case eX:return{...e,paymentAccounts:t.payload};case eU:return{...e,selectedPayment:t.payload};case eV:return{...e,isGCApplied:t.payload};default:return e}};var eK=()=>{let{fetchPaymentAccounts:e}=(0,e$.Z)(),t=(0,_.Z)(),{paymentAccounts:n,selectedPayment:i,isGCApplied:l,actions:a}=function(){let[{paymentAccounts:e,selectedPayment:t,isGCApplied:n},i]=(0,d.useReducer)(eY,eG),l=(0,d.useCallback)(e=>i(ej(e)),[i]),a=(0,d.useCallback)(e=>i(eH({...e,meta:(null==e?void 0:e.meta)?e.meta:null})),[i]),r=(0,d.useCallback)(e=>i(eW(e)),[i]);return{paymentAccounts:e,selectedPayment:t,actions:(0,d.useMemo)(()=>({updatePaymentAccounts:l,updateSelectedPayment:a,updateIsGCApplied:r}),[l,a,r]),isGCApplied:n}}();return(0,d.useEffect)(()=>{let n=async()=>{try{if("function"==typeof(null==a?void 0:a.updatePaymentAccounts)){let t=await e();null==a||a.updatePaymentAccounts(t)}}catch(e){}};t&&n()},[t]),{paymentAccounts:n,selectedPayment:i,isGCApplied:l,paymentAccountsActions:a}},eq=n(58215),eQ=n.n(eq),eJ=n(98687),e0=n(67176),e1=n(53361),e2=n(13112),e5=n(87819),e3=n(82236),e4=n(3255);let e7={fetching:!1,error:null,success:!1,portfolioItem:null},e9="SELECT_PAYMENT_METHOD",e8="SET_PAYMENT_POSTING",e6="CREATE_PAYMENT_SUCCESS",te="CREATE_PAYMENT_FAILURE",tt="CREATE_PAYMENT_CLEAR",tn="CLEAR_FETCHING",ti=e=>{let{nonce:t,type:n,badge:i}=e;return{type:e9,payload:{nonce:t,type:n,badge:i}}},tl=()=>({type:tn,payload:null}),ta=()=>({type:e8,payload:null}),tr=e=>({type:e6,payload:{portfolioItem:e}}),to=e=>({type:te,payload:{error:e}}),td=()=>({type:tt,payload:{}});function ts(e,t){let{type:n,payload:i}=t;switch(n){case e9:return{...e,selectedPaymentMethod:{type:i.type,nonce:i.nonce,badge:i.badge}};case e8:return{...e,error:null,fetching:!0,success:!1,portfolioItem:null};case tt:return{error:null,fetching:!1,success:!1,portfolioItem:null};case e6:return{...e,error:null,fetching:!1,success:!0,portfolioItem:i.portfolioItem};case te:return{error:i.error,fetching:!1,success:!1,portfolioItem:null};case tn:return{...e,fetching:!1};default:return e}}let tu={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"StartMerchantInitiatedTransactionSession"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"StartMerchantInitiatedTransactionSessionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"startMerchantInitiatedTransactionSession"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"threeDSMetadata"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isThreeDSEligible"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:273,source:{body:"\n  mutation StartMerchantInitiatedTransactionSession(\n    $input: StartMerchantInitiatedTransactionSessionInput!\n  ) {\n    startMerchantInitiatedTransactionSession(input: $input) {\n      id\n      threeDSMetadata {\n        action\n        isThreeDSEligible\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var tc=()=>{let{mutatefn:e}=(0,ep.Z)(tu);return{startMerchantInitiatedTransaction:async t=>{let{paymentAccountId:n,amount:i,currencyCode:l,country:a,chargeRef:r,discountCode:o,browserInfo:d={},instrument:s,action:u,checkoutTraceId:c,gcInstrument:m}=t,v=(null==m?void 0:m.shouldAdd)?[{instrument:s,amount:{currencyCode:l,value:m.otherChargeInstrumentValue}},m.gcChargeInstrument]:[{instrument:s,amount:{currencyCode:l,value:i}}];(null==m?void 0:m.otherChargeInstrumentValue)===0&&(null==v?void 0:v.length)>1&&v.shift();let p={input:{paymentAccountId:n,amount:{currencyCode:l,value:i},countryCode:a,action:u,threeDSMetadata:{...d},pricing:{discountCodes:[o]},productVariants:[r],chargeInstruments:v}},h=await e(p,{context:{headers:{"x-checkout-trace-id":c}}});return(null==h?void 0:h.startMerchantInitiatedTransactionSession)?h.startMerchantInitiatedTransactionSession:{id:null,threeDSMetadata:null}}}};let tm={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createMITAuthorization"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateMITAuthorizationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createMITAuthorization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:138,source:{body:"\n  mutation createMITAuthorization($input: CreateMITAuthorizationInput!) {\n    createMITAuthorization(input: $input) {\n      id\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var tv=()=>{let{mutatefn:e}=(0,ep.Z)(tm);return{updateMoneySession:e}};let tp={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"hydrateMITSession"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NamedType",name:{kind:"Name",value:"AddressInput"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sessionId"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hydrateMITSessionWithBillingAddress"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}},{kind:"Argument",name:{kind:"Name",value:"sessionId"},value:{kind:"Variable",name:{kind:"Name",value:"sessionId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:173,source:{body:"\n  mutation hydrateMITSession($input: AddressInput, $sessionId: String) {\n    hydrateMITSessionWithBillingAddress(input: $input, sessionId: $sessionId) {\n      id\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var th=()=>{let{mutatefn:e}=(0,ep.Z)(tp);return{hydrateMoneySession:e}};let tg=e=>{let t={extendedAddress:"streetAddress2",countryCodeAlpha2:"countryCode"},n=Object.keys(t);return Object.entries(e).reduce((e,i)=>{let[l,a]=i,r=n.includes(l)?t[l]:l;return{...e,[`${r}`]:a}},{})},ty=e=>{let{isGCApplied:t}=e,{startMerchantInitiatedTransaction:n}=tc(),{updateMoneySession:i}=tv(),{hydrateMoneySession:l}=th(),a=(0,e5.Z)({isGCApplied:t}),r=(0,d.useCallback)(async e=>{let{totalPrice:t,currencyCode:i,chargeRef:l,discountCode:r,method:o,checkoutTraceId:d}=e,s={amount:t,currencyCode:i,chargeRef:l,discountCode:r,instrument:{name:null==o?void 0:o.toLowerCase(),key:null==o?void 0:o.toLowerCase(),providerKey:(null==o?void 0:o.toLowerCase())==="cashapp"?"adyen":"braintree"},checkoutTraceId:d,gcInstrument:a},{id:u}=await n(s);return u},[n,a]),o=(0,d.useCallback)(async e=>{let{moneySessionId:t,billingAddress:n,checkoutTraceId:i}=e,a={sessionId:t,input:tg(n)};await l(a,{context:{headers:{"x-checkout-trace-id":i}}})},[l,tg]),s=(0,d.useCallback)(async e=>{let{nonceResult:t,moneySessionId:n,checkoutTraceId:l}=e,a=(null==t?void 0:t.customerId)?{key:"instrumentCustomerId",value:null==t?void 0:t.customerId}:null,r={tokens:[{key:"authorizationToken",value:null==t?void 0:t.nonce},...a?[a]:[]],sessionId:n};return await i({input:r},{context:{headers:{"x-checkout-trace-id":l}}}),n},[i]);return(0,d.useCallback)(async e=>{var t;let{totalPrice:n,currencyCode:i,chargeRef:l,discountCode:a,method:d,nonceResult:u,checkoutTraceId:c}=e,m=Math.round((Number(n)+Number.EPSILON)*100)/100,v=await r({totalPrice:m,currencyCode:i,chargeRef:l,discountCode:a,method:d,checkoutTraceId:c}),p="object"==typeof u?null==u?void 0:null===(t=u.payload)||void 0===t?void 0:t.billingAddress:void 0;return p&&v&&await o({moneySessionId:v,billingAddress:p,checkoutTraceId:c}),v&&await s({moneySessionId:v,nonceResult:u,checkoutTraceId:c}),v},[r,o])};var tk=n(57632),tZ=n.n(tk),tf=()=>{let e=w.s?null:window.ApplePaySession;return{ready:e&&e.supportsVersion(3)&&e.canMakePayments()&&"https:"===window.location.protocol,applePayRef:e}},tb=e=>{let{actions:t,braintreeClient:n,paymentAccountsActions:i,trackAPMPaymentMethodClick:l}=e,a=(0,A.Z)(B.Z.ab_pricing_line_items_apple_pay_web),{t:r}=(0,j.$G)(),{ready:o,applePayRef:s}=tf(),[u,c]=(0,d.useState)(),m=(0,d.useMemo)(()=>({src:U.Z.getPaymentMethodUrl("apple-pay.png"),srcSet:`${U.Z.getPaymentMethodUrl("apple-pay@3x.png")}`,backgroundColor:"#ffc439",alt:"Apple Pay",h:["24px","35px"],w:["37.56px","54.781px"],t:"0px"}),[]);(0,d.useEffect)(()=>{async function e(){n&&c(await tZ().create({client:n}))}o&&e()},[n,o]);let v=(0,d.useCallback)(()=>{l("ApplePay"),t.setPaymentMethod({type:"ApplePay",badge:m}),null==i||i.updateSelectedPayment({paymentType:"APM",paymentSubType:"ApplePay",meta:m})},[t,m,i]),p=e=>e?{firstName:e.givenName,lastName:e.familyName,streetAddress:e.addressLines[0],extendedAddress:e.addressLines.length>1?e.addressLines[1]:"",locality:e.locality,region:e.administrativeArea,postalCode:e.postalCode,countryCodeAlpha2:e.countryCode.toUpperCase(),telephone:e.phoneNumber}:e,h=(0,d.useCallback)(e=>{let{price:t,currencyCode:n,purchasePrice:i,adjustments:l}=e;return new Promise((e,o)=>{let d;if(!u||(d="true"===a?u.createPaymentRequest({lineItems:[{label:r("Purchase Price"),amount:i},...l.map(e=>({label:e.text,amount:e.amount.toString()}))],total:{label:"StockX",amount:t},currencyCode:n,requiredBillingContactFields:["postalAddress"]}):u.createPaymentRequest({total:{label:"StockX",amount:t},currencyCode:n,requiredBillingContactFields:["postalAddress"]}),!s))return;let c=new s(3,d);c.onvalidatemerchant=async e=>{try{let t=await u.performValidation({validationURL:e.validationURL,displayName:"StockX"});c.completeMerchantValidation(t)}catch(e){c.abort()}},c.onpaymentauthorized=async t=>{try{let{nonce:n}=await u.tokenize({token:t.payment.token});c.completePayment(null==s?void 0:s.STATUS_SUCCESS);let i=t.payment.billingContact,l=t.payment.shippingContact,a=p(i),r=p(l);e({nonce:n,payload:{billingAddress:a,shippingAddress:r}})}catch(e){c.completePayment(null==s?void 0:s.STATUS_FAILURE),o(null==s?void 0:s.STATUS_FAILURE)}},c.oncancel=o,c.begin()})},[u,a,r,s]),g=(0,d.useCallback)(e=>{let{price:t,currencyCode:n,purchasePrice:i,adjustments:l}=e;return h({price:t,currencyCode:n,purchasePrice:i,adjustments:l})},[h]),y=(0,d.useMemo)(()=>({createNonce:g,selectPaymentMethod:v,badge:m,merchantId:null==u?void 0:u.merchantIdentifier}),[g,v,m,null==u?void 0:u.merchantIdentifier]);return u?y:null},tC=n(22343),tS=n.n(tC),t_=e=>{if(!e)return"0.00";let t=Math.round((Number(e)+Number.EPSILON)*100)/100;return Number.isFinite(t)?t.toFixed(2):Number(e).toFixed(2)},tx=e=>{let t=e.trim().split(" ");return 1===t.length?{firstName:t[0],lastName:""}:{firstName:t[0],lastName:t[t.length-1]}},tN=e=>{var t;if(!e)return e;let n=tx(null==e?void 0:e.name);return{firstName:n.firstName,lastName:n.lastName,streetAddress:e.address1,extendedAddress:e.address2,locality:e.locality,region:e.administrativeArea,postalCode:e.postalCode,countryCodeAlpha2:e.countryCode.toUpperCase(),telephone:null===(t=e.phoneNumber)||void 0===t?void 0:t.replace(/\D/g,"")}},tw=n(28359),tE=n(45430),tT=n(36186),tI=n(48573);let tA=()=>{var e,t,n,i;return w.s?null:(null===(i=window)||void 0===i?void 0:null===(n=i.google)||void 0===n?void 0:null===(t=n.payments)||void 0===t?void 0:null===(e=t.api)||void 0===e?void 0:e.PaymentsClient)??null};var tB=e=>{let{braintreeClient:t,actions:n,paymentAccountsActions:i,trackAPMPaymentMethodClick:l}=e,a=tA(),[r,o]=(0,d.useState)(),[s,u]=(0,d.useState)(),[c,m]=(0,d.useState)(),v=(0,tI.Z)(),p=(0,d.useMemo)(()=>({src:U.Z.getPaymentMethodUrl("google-pay.png"),srcSet:`${U.Z.getPaymentMethodUrl("google-pay@3x.png")} 3x`,backgroundColor:"#ffc439",alt:"Google Pay",h:["24px","35px"],w:["37.56px","54.781px"],t:"0px"}),[]);(0,tE.Z)(()=>{a||function(){var e,t;let n=document.createElement("script");n.async=!0,n.src="https://pay.google.com/gp/p/js/pay.js",n.nonce=v,null===(t=document)||void 0===t||null===(e=t.querySelector("body"))||void 0===e||e.appendChild(n)}()}),(0,d.useEffect)(()=>{t&&a&&o(new a({environment:"production"===tw.default.ENVIRONMENT?"PRODUCTION":"TEST"}))},[a,t]),(0,d.useEffect)(()=>{(async function(){if(r&&t){let e=await tS().create({client:t,googlePayVersion:2,googleMerchantId:"03723414038246085297"}),n=e.createPaymentDataRequest();(await r.isReadyToPay({apiVersion:2,apiVersionMinor:0,allowedPaymentMethods:n.allowedPaymentMethods,existingPaymentMethodRequired:!0})).result&&(u(e),m(!0))}})()},[r,t]);let h=(0,d.useCallback)(()=>{l("GooglePay"),n.setPaymentMethod({type:"GooglePay",badge:p}),null==i||i.updateSelectedPayment({paymentType:"APM",paymentSubType:"GooglePay",meta:p})},[n,p,i]),g=(0,d.useCallback)(async e=>{let{price:t,currencyCode:n}=e;if(!s)return;tT.Z.countDecimals(t)>2&&(t=t_(t));let i=s.createPaymentDataRequest({transactionInfo:{currencyCode:n,totalPrice:t,totalPriceStatus:"FINAL"}});i.allowedPaymentMethods[0].parameters.billingAddressRequired=!0,i.allowedPaymentMethods[0].parameters.billingAddressParameters={format:"FULL",phoneNumberRequired:!1};try{let{nonce:e,billingAddress:t,shippingAddress:n}=await r.loadPaymentData(i).then(async e=>{var t,n;let i=null==e?void 0:null===(n=e.paymentMethodData)||void 0===n?void 0:null===(t=n.info)||void 0===t?void 0:t.billingAddress,l=null==e?void 0:e.shippingAddress;return{...await s.parseResponse(e),billingAddress:tN(i),shippingAddress:tN(l)}});return{nonce:e,payload:{billingAddress:t,shippingAddress:n}}}catch(e){}},[s,r]),y=(0,d.useMemo)(()=>({selectPaymentMethod:h,createNonce:g,badge:p}),[h,g,p]);return c?y:null},tD=n(47965),tP=n(60159),tF=e=>{let{actions:t,paymentAccountsActions:n,trackAPMPaymentMethodClick:i}=e,l="base"===(0,tD.EN)(),{pricing:a}=(0,tP.Z)(),r=(0,d.useMemo)(()=>({src:U.Z.getPaymentMethodUrl("cashapp.png"),srcSet:`${U.Z.getPaymentMethodUrl("cashapp@3x.png")} 3x`,backgroundColor:"#ffc439",alt:"Cash App Pay",w:["33.93px","49.50px"],h:["24px","35px"],t:"0px"}),[]),o=(0,d.useCallback)(()=>{i("CashApp"),t.setPaymentMethod({type:"CashApp",badge:r}),null==n||n.updateSelectedPayment({paymentType:"APM",paymentSubType:"cashapp",meta:r})},[t,r,n]),s=(0,d.useCallback)(async e=>{let t,{cashAppInstance:n}=e;if(!n&&!l)return;if(l)return u();n.submit();let i=new Promise(e=>{t=setInterval(()=>{var t,i;(null==n?void 0:null===(i=n.data)||void 0===i?void 0:null===(t=i.paymentMethod)||void 0===t?void 0:t.grantId)&&e(n.data.paymentMethod)},500)}),{grantId:a,customerId:r}=await i;return t&&clearInterval(t),{nonce:a,customerId:r}},[l,a]),u=(0,d.useCallback)(async()=>{let e=window,t=tT.Z.getMinorUnits(null==a?void 0:a.total),n=`${e.location.origin}/cashapp/payment?total=${t}`;e.open(n);let{grantId:i,customerId:l}=await c("ADYEN_CASHAPP_REDIRECT");return{nonce:i,customerId:l}},[a]),c=(0,d.useCallback)(e=>new Promise((t,n)=>{let i=l=>{var a,r;l.type===e&&(null===(a=l.detail)||void 0===a?void 0:a.cashAppDetails)?(t(l.detail.cashAppDetails),window.document.removeEventListener(e,i)):l.type===e&&(null===(r=l.detail)||void 0===r?void 0:r.error)&&(n(l.detail.error),window.document.removeEventListener(e,i))};window.document.addEventListener(e,i)}),[]);return(0,d.useMemo)(()=>({selectPaymentMethod:o,createNonce:s,badge:r,handleCashAppMobRedirection:u}),[o,s,r])},tL=e=>{let{braintreeClient:t,deviceData:n,paymentAccountsActions:i,isGCApplied:l}=e,a=(0,eJ.Z)(),r=ty({isGCApplied:l}),{fetching:o,error:s,success:u,portfolioItem:c,selectedPaymentMethod:m,actions:v}=function(){let[{fetching:e,error:t,success:n,portfolioItem:i,selectedPaymentMethod:l},a]=(0,d.useReducer)(ts,e7),r=(0,d.useCallback)(()=>a(ta()),[a]),o=(0,d.useCallback)(e=>a(tr(e)),[a]),s=(0,d.useCallback)(e=>a(to(e)),[a]),u=(0,d.useCallback)(()=>a(td()),[a]),c=(0,d.useCallback)(e=>a(ti(e)),[a]),m=(0,d.useCallback)(()=>a(tl()),[a]);return(0,d.useMemo)(()=>({fetching:e,error:t,success:n,portfolioItem:i,selectedPaymentMethod:l,actions:{postPayment:r,pendingPaymentSuccess:o,postPaymentFailure:s,clearSelectedPaymentMethod:u,setPaymentMethod:c,clearFetching:m}}),[e,t,n,i,l,r,o,s,u,c,m])}(),p=(0,e5.Z)({isGCApplied:l}),{trackSegmentEvent:h,trackSegmentScreen:g}=(0,e3.Z)(),y=(0,e4.Z)(),k=(0,d.useCallback)(e=>{(0,e0.Z)(e1.Z.PAYMENT_METHOD_CLICKED,{type:e,...y})},[e0.Z,y]),Z=tb({actions:v,braintreeClient:t,paymentAccountsActions:i,trackAPMPaymentMethodClick:k}),f=tB({actions:v,braintreeClient:t,paymentAccountsActions:i,trackAPMPaymentMethodClick:k}),b=tF({actions:v,paymentAccountsActions:i,trackAPMPaymentMethodClick:k}),C=(0,d.useMemo)(()=>({methods:{ApplePay:Z,GooglePay:f,CashApp:b}}),[Z,f,b]),S=(0,d.useCallback)(async e=>{let{price:t,currencyCode:n,purchasePrice:i,adjustments:l,cashAppInstance:a}=e;if(!m)return;let{type:r}=m;try{let{createNonce:e}=C.methods[r];g({pageType:e1.Z.PAYMENT_FORM,paymentMethod:null==m?void 0:m.type,screenName:e2.Z.REVIEW,...y});let o=(null==p?void 0:p.shouldAdd)?null==p?void 0:p.otherChargeInstrumentValue:t;return e({price:null==o?void 0:o.toString(),currencyCode:n,purchasePrice:i,adjustments:l,cashAppInstance:a})}catch(e){}},[m,C.methods,g,y,null==p?void 0:p.shouldAdd,null==p?void 0:p.otherChargeInstrumentValue]),_=(0,d.useCallback)(async e=>{var t,n;let{pricing:l={},chargeRef:o,currencyCode:d,discountCode:s,checkoutTraceId:u,cashAppInstance:c}=e,{total:p,subtotal:g,adjustments:y}=l;if(!m)return;let k=null==g?void 0:g.toString(),Z=null==p?void 0:p.toString();try{v.postPayment();let e=await S({price:Z,currencyCode:d,purchasePrice:k,adjustments:y,cashAppInstance:c});if(!e){h({eventName:e1.Z.CLOSE_CLICKED,screenName:e2.Z.PAYMENT_FORM}),v.postPaymentFailure(a({})),null==i||null===(t=i.updateSelectedPayment)||void 0===t||t.call(i,{paymentType:null,paymentSubType:null});return}h({eventName:e1.Z.PAYMENT_AUTHORIZED,screenName:e2.Z.REVIEW});let n=await r({totalPrice:p,currencyCode:d,chargeRef:o,discountCode:s,method:null==m?void 0:m.type,nonceResult:e,checkoutTraceId:u});return v.clearFetching(),{moneySessionId:n}}catch(e){v.postPaymentFailure(a(e)),null==i||null===(n=i.updateSelectedPayment)||void 0===n||n.call(i,{paymentType:null,paymentSubType:null})}finally{v.clearFetching()}},[m,S,r,h,v]),x=(0,d.useCallback)(()=>{v.clearSelectedPaymentMethod()},[v]),N=(0,d.useMemo)(()=>eQ()(C.methods,(e,t)=>(null==t?void 0:t.badge)?[...e,t.badge]:e,[]),[C]);return{...C,badges:N,clearSelectedPaymentMethod:x,deviceData:n,error:s,fetching:o,portfolioItem:c,postPayment:_,postPaymentFailure:v.postPaymentFailure,selectedPaymentMethod:m,success:u}},tM=n(69775),tz=n(17190),tR=n(28535),tO=n(91720),t$=n(92139),tG=n(55199),tX=n(61329),tU=n(97217),tV=n(95799),tj=["AK","HI"],tH=n(98342),tW=n(5994);let tY=e=>(null==e?void 0:e.portfolioItem)??{},tK=(0,tW.P1)(tY,e=>{let{newPortfolioItem:t={}}=e;return t||{}}),tq=(0,tW.P1)(tY,e=>{let{error:t=null}=e;return t}),tQ=(0,tW.P1)(tq,e=>{var t;return null==e?void 0:null===(t=e.result)||void 0===t?void 0:t.isFraudRecoverable}),tJ=(0,tW.P1)(tY,e=>{let{loading:t=!1}=e;return t});var t0=n(85514),t1=n(26872),t2=n(37757),t5=n(91982),t3=n(54326),t4=n(35183),t7=n(74105),t9=n(85573),t8=n(20816),t6=n(99793),ne=n(50250),nt=n(42822),nn=n(64243),ni=e=>{var t;let{submit:n,isOpen:i}=e,{t:l}=(0,j.$G)(),a=(0,t5.jC)("Modal",{size:"lg"}),r=null===(t=(0,C.Z)())||void 0===t?void 0:t.email,{loading:s}=(0,v.v9)(e=>({loading:tJ(e)})),[u,c]=(0,d.useState)(""),[m,p]=(0,d.useState)(""),[h,g]=(0,d.useState)([]),y=e=>{g([...h,e])};(0,d.useEffect)(()=>{h.length>0&&!s&&c(l("recover_modal_denied_email"))},[s,l]);let k=()=>{/[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,64}/.test(m)?m===r?c(l("recover_modal_same_email")):h.includes(m)?c(l("recover_modal_already_attempted")):(n({recover:"recover",email:m}),y(m)):c(l("recover_modal_invalid_email"))},Z=()=>{n({recover:"dismiss",email:m})},f=e=>{"Enter"===e.key&&k()},b=l("recover_modal_header_v2"),S=l("recover_modal_body_v2"),_=l("recover_modal_placeholder"),x=l("recover_modal_button"),N=(0,d.useMemo)(()=>/[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,64}/.test(m),[m]),w=(0,d.useMemo)(()=>u?"error":N?"validated":"base",[u,N]);return(0,o.BX)(tO.u_l,{isOpen:i,onClose:()=>Z(),closeOnOverlayClick:!0,isCentered:!0,children:[(0,o.tZ)(t$.Z,{}),(0,o.BX)(tG.h,{sx:a.dialog,children:[(0,o.tZ)(tX.o,{sx:a.closeButton}),(0,o.tZ)(t3.x,{sx:a.header,children:b}),(0,o.BX)(tU.f,{sx:a.body,children:[(0,o.tZ)(J.x,{mb:3,children:S}),(0,o.BX)(t4.NI,{isInvalid:!!u,children:[(0,o.BX)(t7.B,{children:[(0,o.tZ)(t9.I,{type:w,variant:N?"filled":"outline",placeholder:_,value:m,onChange:e=>p(e.target.value),onKeyPress:e=>f(e)}),N&&(0,o.tZ)(t8.x,{children:(0,o.tZ)(nn.Z,{color:"#08A05C"})})]}),(0,o.tZ)(t6.J1,{children:u})]})]}),(0,o.tZ)(ne.m,{sx:a.footer,children:(0,o.tZ)(nt.M,{children:(0,o.tZ)(ee.z,{variant:"primary",size:"lg","data-testid":"riskified-submit",onClick:()=>k(),children:x})})})]})]})};let nl={HALF_PANE:"half",TWO_THIRDS:"twoThirds",ONE_THIRD:"oneThird",SIXTY:"sixty",FORTY:"forty",HIDE_ON_MOBILE:"hideOnMobile"},na={half:{className:"half"},twoThirds:{className:"two-thirds"},oneThird:{className:"third pane-grey"},sixty:{className:"sixty"},forty:{className:"forty pane-grey"},hideOnMobile:{className:"sixty hide-on-mobile"}};var nr=n(55885);let no=(0,nr.m)(H.k,{baseStyle:{justifyContent:{base:"flex-start",md:"center"},flexDirection:{base:"column",md:"row"},flexWrap:"nowrap"}}),nd=(0,nr.m)(tR.xu,{baseStyle:{px:{base:"0",sm:"0",md:"3",lg:"7","2xl":"70px"},pb:"24",_first:{pb:{base:"5",md:"24"}},"&.half":{width:{base:"100%",md:"50%"}},"&.two-thirds":{width:{base:"100%",md:"66%"}},"&.third":{width:{base:"100%",md:"33%"}},"&.sixty":{width:{base:"100%",md:"60%"}},"&.forty":{width:{base:"100%",md:"40%"},minWidth:{base:"0",md:"450px",lg:"500px"}," &.no-pad":{padding:"0"}},"&.pane-grey":{bg:"background-accent-1"},"&.hide-on-mobile":{display:{base:"none",md:"block"}},".pane-header":{pt:"7"}}});var ns=e=>{let{children:t,type:n,style:i}=e,l=na[n]||na.half;return(0,o.tZ)(nd,{"data-component":"pane",style:i,className:`pane ${l.className}`,children:t})},nu=n(38369);let nc=(0,nr.m)(H.k,{baseStyle:{justifyContent:"space-between",alignItems:"center",py:"3",px:{base:"5",sm:"10"},mb:{base:"3",md:"0"},bgColor:"background-inverse-secondary"}});var nm=e=>{let{context:t,success:n}=e,{t:i}=(0,j.$G)(),{portfolioItem:l}=(0,F.Z)(),{deletePortfolioItem:a,isPortfolioItemDeleting:r}=(0,nu.Z)(),s=(0,d.useCallback)(()=>{r||a({chainId:l.chainId,notes:t===O.T.Buy?"User Canceled Bid":"User Canceled Ask",onSuccess:n})},[r,a,l,t,n]),u=i(t===O.T.Sell?"Ask":"Bid");return(0,o.BX)(nc,{"data-component":"buy-sell-edit-bar",children:[(0,o.tZ)(J.x,{"data-component":"edit-title",fontSize:{base:"md",sm:"lg"},color:"text-inverse",fontWeight:"semibold",children:i("bs_edit_bar_message",{editType:u})}),(0,o.tZ)(ee.z,{variant:"secondary-dark","data-testid":"bs-edit-bar-btn",onClick:s,isLoading:r,children:i("bs_edit_bar_delete_button",{editType:u})})]})},nv=e=>{let{children:t}=e;return(0,o.tZ)(no,{"data-component":"SplitPanePage",children:t})},np=n(12826),nh=n(45455),ng=n.n(nh),ny=n(60247),nk=n(29084);let nZ={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CompleteTwoStepCheckout"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CompleteTwoStepCheckoutInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"completeTwoStepCheckout"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:141,source:{body:"\n  mutation CompleteTwoStepCheckout($input: CompleteTwoStepCheckoutInput!) {\n    completeTwoStepCheckout(input: $input) {\n      id\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var nf=()=>{let{mutatefn:e}=(0,ep.Z)(nZ);return{completeTwoStepCheckout:async t=>{var n;let{transactionId:i,providerPaymentId:l,checkoutTraceId:a,deliveryMeta:r,isPersistable:o}=t,d=await e({input:{transactionId:i,providerPaymentId:l,deliveryMeta:r,isPersistable:o}},{context:{headers:{"x-checkout-trace-id":a}}});return null==d?void 0:null===(n=d.completeTwoStepCheckout)||void 0===n?void 0:n.id}}},nb=n(26399);let nC={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"StartTwoStepCheckout"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"StartTwoStepCheckoutInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"startTwoStepCheckout"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"transactionId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"type"},name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"QRCodeAction"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ttl"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"providerPaymentId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"callbackURL"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:299,source:{body:"\n  mutation StartTwoStepCheckout($input: StartTwoStepCheckoutInput!) {\n    startTwoStepCheckout(input: $input) {\n      transactionId\n      action {\n        type: __typename\n        url\n        ... on QRCodeAction {\n          ttl\n        }\n      }\n      providerPaymentId\n      callbackURL\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var nS=()=>{let e=(0,nb.Z)(),{mutatefn:t}=(0,ep.Z)(nC);return{startTwoStepCheckout:async n=>{let{amount:i,currencyCode:l,localPaymentMethod:a,chargeRef:r,transactionId:o,discountCode:d,deviceData:s,localizedSizeType:u,checkoutTraceId:c}=n,m={input:{callbackURL:`${e}/api/payments/payment-redirect`,amount:{currencyCode:l,value:i},pricing:{discountCodes:[d]},instrument:{name:a.type,key:a.type,providerKey:a.paymentProvider},productVariants:[r],transactionId:o,deviceData:s,localizedSizeType:u}},v=await t(m,{context:{headers:{"x-checkout-trace-id":c}}});return null==v?void 0:v.startTwoStepCheckout}}},n_=n(69143),nx={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PaymentTransaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paymentTransaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"providerStatus"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:114,source:{body:"\n  query PaymentTransaction($id: ID!) {\n    paymentTransaction(id: $id) {\n      id\n      providerStatus\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},nN=e=>{let{data:t,isLoading:n,refetch:i}=(0,ey.Z)(nx,{enabled:!1,variables:{id:e}});return{data:t,isLoading:n,getPaymentTransaction:i}};let nw="CREATE_PAYMENT",nE="CREATE_PAYMENT_SUCCESS",nT="CREATE_PAYMENT_FAILURE",nI="CREATE_PAYMENT_CLEAR",nA=()=>({type:nw,payload:null}),nB=e=>({type:nE,payload:{portfolioItem:e}}),nD=e=>({type:nT,payload:{error:e}}),nP=()=>({type:nI,payload:null}),nF={fetching:!1,error:null,success:!1,portfolioItem:null};function nL(e,t){let{type:n,payload:i}=t;switch(n){case nw:return{error:null,fetching:!0,success:!1,portfolioItem:null};case nI:return{error:null,fetching:!1,success:!1,portfolioItem:null};case nE:return{error:null,fetching:!1,success:!0,portfolioItem:i.portfolioItem};case nT:return{error:i.error,fetching:!1,success:!1,portfolioItem:null};default:return e}}let nM="Something went wrong. Please try again.";function nz(e){var t,n,i,l,a,r,o,d,s;let u=(null==e?void 0:e.graphQLErrors)||(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.errors);if(u){let e=Array.isArray(u)&&(null===(s=u[0].extensions)||void 0===s?void 0:null===(d=s.payload)||void 0===d?void 0:d.errors);return Array.isArray(e)&&e.length>0?e[0].detail:nM}return(null==e?void 0:null===(i=e.response)||void 0===i?void 0:null===(n=i.body)||void 0===n?void 0:n.message)?e.response.body.message:(null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(l=a.body)||void 0===l?void 0:l.Error)?e.response.body.Error.description:(null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(r=o.body)||void 0===r?void 0:r.description)?e.response.body.description:(null==e?void 0:e.code)==="LOCAL_PAYMENT_WINDOW_CLOSED"?"Braintree Transaction Cancelled":e.message||nM}var nR=n(86887),nO=n.n(nR);let n$=(e,t)=>{let n=n_.LM[t];return"fauxCountryCode"in n?n.fauxCountryCode:e},nG=(e,t)=>{let n=n_.LM[t];return"addressRequired"in n?n.addressRequired:e},nX=e=>{let{streetAddress:t,extendedAddress:n,locality:i,region:l,postalCode:a,countryCode:r,shippingAddressRequired:o,paymentMethod:d}=e;return o?{streetAddress:t,extendedAddress:n,locality:i,region:l,postalCode:a,countryCode:n$(r,d)}:{countryCode:n$(r,d)}};var nU=n(32151),nV=e=>{let{braintreeClient:t,selectedLocalPaymentMethod:n,dispatch:i,startTwoStepCheckout:l,deviceData:a}=e,{t:r}=(0,j.$G)(),o=(0,C.Z)(),{shippingAddress:s}=(0,tH.Z)(),[u,c]=(0,d.useState)(),{sizeLocale:m}=(0,nU.Z)();(0,d.useEffect)(()=>{(async()=>{if(!n)return;let e={client:t};(null==n?void 0:n.merchantAccountId)&&(e={...e,merchantAccountId:n.merchantAccountId}),c(await nO().create(e))})()},[t,n]);let v=(0,d.useCallback)(async e=>{let t,{selectedVariant:d,currencyCode:c,amount:v,total:p,pathname:h,discountCode:g,checkoutTraceId:y}=e;if(!n||!d||!u)throw Error(r("generic_braintree_error"));let{id:k}=d,Z=nG(!0,n.type),f=nX({streetAddress:(null==s?void 0:s.streetAddress)||"",extendedAddress:(null==s?void 0:s.extendedAddress)||"",locality:(null==s?void 0:s.locality)||"",region:(null==s?void 0:s.region)||"",postalCode:(null==s?void 0:s.postalCode)||"",countryCode:(null==s?void 0:s.countryCodeAlpha2)||"",shippingAddressRequired:Z,paymentMethod:null==n?void 0:n.type}),{nonce:b}=await u.startPayment({paymentType:n.type,amount:p,fallback:{url:`https://stockx.com/${h}`,buttonText:"Complete Payment"},shippingAddressRequired:Z,email:(null==o?void 0:o.email)||"",phone:(null==s?void 0:s.telephone)||"",givenName:(null==s?void 0:s.firstName)||"",surname:(null==s?void 0:s.lastName)||"",currencyCode:c,address:f,onPaymentStart:async(e,r)=>{let{paymentId:o}=e;t=o;try{let e={amount:v,currencyCode:c,localPaymentMethod:n,chargeRef:k,transactionId:t,discountCode:g,localizedSizeType:m,checkoutTraceId:y,deviceData:a};await l(e),r()}catch(e){i(nD(nz(e))),u.closeWindow()}}});return{transactionId:t,providerPaymentId:b}},[n,u,o,l,i,s,r,m]);return(0,d.useMemo)(()=>({startBraintreePayment:v}),[v])},nj=e=>{let{selectedLocalPaymentMethod:t,startTwoStepCheckout:n}=e,{t:i}=(0,j.$G)(),{sizeLocale:l}=(0,nU.Z)();return{createCitconPayment:(0,d.useCallback)(async e=>{let{selectedVariant:a,currencyCode:r,amount:o,discountCode:d,checkoutTraceId:s}=e;if(!t||!a)throw Error(i("generic_citcon_error"));let{id:u}=a;return await n({amount:o,currencyCode:r,localPaymentMethod:t,chargeRef:u,transactionId:null,discountCode:d,localizedSizeType:l,checkoutTraceId:s})},[t,l,n,i])}},nH=n(6296),nW=e=>{let{braintreeClient:t,deviceData:n}=e,{t:i}=(0,j.$G)(),{action:l}=(0,t1.Z)(),{trackPlaceOrderAnalytics:a}=(0,e3.Z)(),r=(0,e4.Z)(),[o,s]=(0,d.useState)(),{localPaymentMethods:u}=(0,t0.Z)(),{deliveryOption:c}=(0,nk.Z)(),[{fetching:v,error:p,success:h,portfolioItem:g},y]=(0,d.useReducer)(nL,nF),{completeTwoStepCheckout:k}=nf(),{startTwoStepCheckout:Z}=nS(),f=(0,nH.Z)(),{startBraintreePayment:b}=nV({braintreeClient:t,selectedLocalPaymentMethod:o,dispatch:y,startTwoStepCheckout:Z,deviceData:n}),{createCitconPayment:C}=nj({selectedLocalPaymentMethod:o,startTwoStepCheckout:Z}),S=(0,d.useCallback)(function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a={screenName:e2.Z.REVIEW,type:t,label:n,paymentMethodStatus:f};(0,e0.Z)(e,{...a,...r,flow:l,...i})},[r,e0.Z,l,f]),_=(0,d.useCallback)(e=>{"Braintree Transaction Cancelled"===e?S(e1.Z.CLOSE_CLICKED,n_.zW.dismiss,null,{paymentMethod:null==o?void 0:o.type,psp:null==o?void 0:o.paymentProvider}):S(e1.Z.PAYMENT_METHOD_FAILED,n_.zW.error,`Payments service - ${e.toString()}`,{paymentMethod:null==o?void 0:o.type,psp:null==o?void 0:o.paymentProvider})},[o]);(0,d.useEffect)(()=>{(!u||ng()(u))&&o?s(void 0):ng()(u)||!o||(null==u?void 0:u.some(e=>e.type===o.type))||s(void 0)},[u,o]),(0,m.Z)(()=>{if(w.j){var e,t;null===(t=window)||void 0===t||null===(e=t.document)||void 0===e||e.removeEventListener("STOCKX_CITCON_REDIRECT",H)}});let x=(0,d.useCallback)(async function(e){var t,n,i,r;let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;S(e1.Z.PAYMENT_METHOD_SUCCESS,"LPM client capture success",null,{paymentMethod:null==o?void 0:o.type,psp:null==o?void 0:o.paymentProvider});let{transactionId:s,providerPaymentId:u}=e,m=null,v={transactionId:s,providerPaymentId:u,checkoutTraceId:d||U,isPersistable:l===t2.t.Buy};(null==c?void 0:c.topic)==="COLLECT_POINT_CONFIRMED"&&(v.deliveryMeta={deliveryOptionType:"ACCESS_POINT",retailLocationID:null==c?void 0:null===(t=c.message)||void 0===t?void 0:t.id,pickupFirstName:null==c?void 0:null===(n=c.pickupPerson)||void 0===n?void 0:n.firstName,pickupLastName:null==c?void 0:null===(i=c.pickupPerson)||void 0===i?void 0:i.lastName});try{let e=await k(v);a({threeDSAuthenticationShown:!1,traceId:d??U});let t=await ny.Z.getPortfolioItem(e,["pricing","payment","payout","shipping","product","meta"]);m=null==t?void 0:null===(r=t.body)||void 0===r?void 0:r.PortfolioItem,y(nB(m))}catch(t){let e=nz(t);_(e),y(nD(e||p))}},[k,y,p,S,_,l]),N=(0,d.useCallback)(async e=>{let{selectedVariant:t,currencyCode:n,amount:i,total:l,pathname:a,discountCode:r,checkoutTraceId:o}=e,{transactionId:d,providerPaymentId:s}=await b({selectedVariant:t,currencyCode:n,amount:i,total:l,pathname:a,discountCode:r,checkoutTraceId:o}),u={provider:n_.h7.Braintree,amount:i,total:l,selectedVariant:t,currencyCode:n,transactionId:d,providerPaymentId:s};return await x(u,o),u},[b,x]),E=(0,d.useCallback)(async e=>{let{selectedVariant:t,currencyCode:n,amount:i,total:l,discountCode:a,checkoutTraceId:r}=e,{transactionId:o,providerPaymentId:d,action:s}=await C({selectedVariant:t,currencyCode:n,amount:i,discountCode:a,checkoutTraceId:r});return{provider:n_.h7.Citcon,amount:i,total:l,selectedVariant:t,currencyCode:n,transactionId:o,providerPaymentId:d,action:s}},[C]),[T,I]=(0,d.useState)(!1),[A,B]=(0,d.useState)(0),[D,P]=(0,d.useState)(),[F,L]=(0,d.useState)(null),[M,z]=(0,d.useState)(),[R,O]=(0,d.useState)(!1),[$,G]=(0,d.useState)(!1),{getPaymentTransaction:X}=nN(null==F?void 0:F.transactionId),[U,V]=(0,d.useState)();(0,np.Z)(async()=>{if(T&&F){let{status:e}=await q();A>=100&&(I(!1),O(!1),z(void 0),y(nD(i("default_error_message")))),e===n_.S1.Done&&(I(!1),G(!0),await x(F),D&&D.close()),B(A+1)}},6e3);let H=(0,d.useCallback)(()=>{I(!0),B(0)},[]),W=(0,d.useCallback)((e,t,n)=>{if(w.j){var i;let l=window.innerWidth,a=window.innerHeight,r=null===(i=window)||void 0===i?void 0:i.open(e,"popup",`scrollbars=yes,
        width=${t},
        height=${n},
        top=${(a-n)/2},
        left=${(l-t)/2}
        `);P(r),z(e),O(!0),null==r||r.focus(),H()}},[]),Y=(0,d.useCallback)(()=>{y(nD("")),O(!1),z(void 0),I(!1)},[y]),K=(0,d.useCallback)(async e=>{let{selectedVariant:t,currencyCode:n,amount:i,total:l,pathname:a,discountCode:r,checkoutTraceId:d}=e;try{if(!o||!t)return;if(y(nA()),V(d),o.paymentProvider===n_.h7.Citcon){var s,u,c,m;let e=await E({selectedVariant:t,currencyCode:n,amount:i,total:l,discountCode:r,checkoutTraceId:d});return(null==e?void 0:null===(s=e.action)||void 0===s?void 0:s.type)===n_.uG.Redirect&&(L(e),w.j&&(null===(c=window)||void 0===c||null===(u=c.document)||void 0===u||u.addEventListener("STOCKX_CITCON_REDIRECT",H),W(null==e?void 0:null===(m=e.action)||void 0===m?void 0:m.url,950,550))),e}return await N({selectedVariant:t,currencyCode:n,amount:i,total:l,pathname:a,discountCode:r,checkoutTraceId:d})}catch(t){let e=nz(t)||p;_(e),y(nD(e)||p)}},[o,p,W,E,N,H,_]),q=async()=>{try{var e;let t=await X();return{status:null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.paymentTransaction.providerStatus}}catch(e){return{status:n_.S1.InProgress}}};return{createPendingPayment:K,capturePendingPayment:x,clearPendingPayment:()=>y(nP()),localPaymentFetching:v,localPaymentError:p,selectedLocalPaymentMethod:o,selectLocalPaymentMethod:s,localPaymentSuccess:h,localPaymentPortfolioItem:g,citconRedirectUrl:M,citconPaymentLinkOpened:R,onCloseCitconRedirectModal:Y,citconPaymentComplete:$}},nY=n(76108),nK=n(17354),nq=n(85236),nQ=n(16556),nJ=n(52247),n0=n(9348),n1=n(46034),n2=n(98368),n5=e=>{var t,n,i,l,a,r,o,s,u,c;let{segmentTrackEvent:m,product:v,selectedVariant:p}=e,{languageCode:h}=(0,n2.Z)(),g=null==p?void 0:null===(t=p.product)||void 0===t?void 0:t.primaryCategory,y=null==p?void 0:null===(n=p.product)||void 0===n?void 0:n.productCategory,k=(null==p?void 0:null===(l=p.market)||void 0===l?void 0:null===(i=l.state)||void 0===i?void 0:i.numberOfAsks)||0,Z=null==p?void 0:p.productCategory,f=(null==v?void 0:null===(r=v.market)||void 0===r?void 0:null===(a=r.state)||void 0===a?void 0:a.numberOfBids)||0,b=(null==v?void 0:null===(s=v.market)||void 0===s?void 0:null===(o=s.state)||void 0===o?void 0:o.numberOfAsks)||0,C=(null==v?void 0:null===(c=v.market)||void 0===c?void 0:null===(u=c.salesInformation)||void 0===u?void 0:u.salesLast72Hours)||0,S=(0,d.useMemo)(()=>C>=50&&b>0,[C,b]),_=(0,d.useMemo)(()=>"sneakers"===Z&&f>=12||"sneakers"!==Z&&f>=3,[Z,f]),x=(0,d.useMemo)(()=>k>0&&k<=20,[k]),N=(0,d.useCallback)(e=>{m(e)},[k,h,p]);return(0,d.useEffect)(()=>{_&&N("High Demand"),S&&N("Now Selling Fast"),x&&N("Low Inventory")},[S,_,x,N]),(0,d.useMemo)(()=>({isEligibleForHighDemand:_,isEligibleForLowInventory:x,isEligibleForSellingFast:S,productNumberOfBids:f,productSalesLast72Hours:C,selectedVariantNumberOfAsks:k,selectedVariantPrimaryCategory:g,selectedVariantProductCategory:y,showHighDemand:_,showLowInventory:x,showSellingFast:S}),[_,x,S,f,C,k,g,y,_,x,S])},n3=n(37910),n4=e=>{let{numberOfBids:t}=e,{t:n}=(0,j.$G)();return(0,o.BX)(H.k,{flexDirection:"column",alignItems:"center",my:"5",children:[(0,o.tZ)(n3.iJ,{children:(0,o.BX)(H.k,{justifyContent:"center",alignItems:"center",width:"fit-content",bg:"error",p:[1,2],mx:"auto","data-testid":"high-demand-badge-wrapper",children:[(0,o.tZ)(W.Ee,{alt:n("chk_high_demand_badge"),decoding:"async",fetchpriority:"low",h:"24px",w:"24px",m:"-4px",src:`${U.Z.getUrl("svg/icons/animations/high_demand_v3.gif")}?auto=format,compress&w=150&h=150&gif-q=50`}),(0,o.tZ)(J.x,{as:"span",color:"neutral.white",fontSize:"sm",ml:2,lineHeight:"1rem",children:n("chk_high_demand_badge")})]})}),(0,o.tZ)(J.x,{color:"error",fontSize:"xs",mt:"1",children:n("chk_high_demand_subtext",{number:t})})]})},n7=e=>{let{numberOfSalesLast72Hours:t}=e,{t:n}=(0,j.$G)();return(0,o.BX)(H.k,{flexDirection:"column",alignItems:"center",my:"5",children:[(0,o.tZ)(n3.iJ,{children:(0,o.BX)(H.k,{justifyContent:"center",alignItems:"center",width:"fit-content",bg:"decorative-yellow",p:[1,2],mt:"5",mx:"auto","data-testid":"selling-fast-badge-wrapper",children:[(0,o.tZ)(W.Ee,{height:"4",width:"4",alt:n("chk_selling_fast_badge"),src:U.Z.getUrl("svg/icons/animations/black_lightning_bolt.gif")}),(0,o.tZ)(J.x,{as:"span",color:"text-primary",fontSize:"sm",ml:2,fontWeight:"semibold",lineHeight:"1rem",children:n("selling_fast_badge_text",{numberOfSalesLast72Hours:t})})]})}),(0,o.tZ)(J.x,{fontSize:"sm",mt:"1",children:n("chk_selling_fast_badge_variant",{numberOfSalesLast72Hours:t})})]})};let n9=(0,eL.I)({displayName:"LowInventoryBannerIcon",viewBox:"0 0 27 29",path:(0,o.BX)("g",{id:"clock",children:[(0,o.tZ)("circle",{id:"Oval",cx:"13.5",cy:"15.4999",r:"9.5",fill:"var(--chakra-colors-brand-primary)"}),(0,o.BX)("g",{id:"alarm-clock",children:[(0,o.tZ)("path",{id:"Stroke 1",fillRule:"evenodd",clipRule:"evenodd",fill:"none",d:"M23.2001 15.5155C23.2001 20.7837 18.9294 25.0555 13.6601 25.0555C8.39086 25.0555 4.12012 20.7837 4.12012 15.5155C4.12012 10.2462 8.39086 5.97546 13.6601 5.97546C18.9294 5.97546 23.2001 10.2462 23.2001 15.5155Z",stroke:"var(--chakra-colors-brand-secondary)",strokeWidth:"1.59",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{id:"Stroke 3",d:"M7.30005 26.6454L8.76921 23.707",stroke:"var(--chakra-colors-brand-secondary)",strokeWidth:"1.59",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{id:"Stroke 5",d:"M13.6601 15.5154H10.0657",stroke:"var(--chakra-colors-brand-tertiary)",strokeWidth:"1.59",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{id:"Stroke 7",d:"M17.3701 12.0698L13.6601 15.5154",stroke:"var(--chakra-colors-brand-tertiary)",strokeWidth:"1.59",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{id:"Stroke 9",d:"M2.53003 5.97541L6.50503 2.79541",stroke:"var(--chakra-colors-brand-secondary)",strokeWidth:"1.59",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{id:"Stroke 11",d:"M20.0199 26.6454L18.5508 23.707",stroke:"var(--chakra-colors-brand-secondary)",strokeWidth:"1.59",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{id:"Stroke 13",d:"M24.7899 5.97541L20.8149 2.79541",stroke:"var(--chakra-colors-brand-secondary)",strokeWidth:"1.59",strokeLinecap:"round",strokeLinejoin:"round"})]})]})});var n8=e=>{let{numberOfAsks:t,onClick:n,primaryCategory:i}=e,{t:l}=(0,j.$G)(),a=(0,d.useMemo)(()=>"sneakers"===i||"streetwear"===i?l("low_inventory_badge",{count:t}):"Electronics"===i?l("low_inventory_badge_electronics",{count:t}):l("low_inventory_badge_other",{count:t}),[i,t,l]);return(0,o.BX)(H.k,{flexDirection:"column",alignItems:"center",children:[(0,o.BX)(H.k,{justifyContent:"center",alignItems:"center",width:"fit-content",bg:"background-accent-3",p:[1,2],mt:"5",mx:"auto",onClick:n,"data-testid":"low-inventory-badge-wrapper",children:[(0,o.tZ)(n9,{}),(0,o.tZ)(J.x,{as:"span",color:"text-primary",fontSize:"sm",ml:2,fontWeight:"semibold",lineHeight:"1rem",children:a})]}),(0,o.tZ)(J.x,{fontSize:"sm",mt:"1",children:l("chk_low_inventory_v2_subtext")})]})},n6=()=>{let{selectedVariant:e,product:t}=(0,F.Z)(),{trackSegmentEvent:n}=(0,e3.Z)(),{step:i}=(0,eT.Z)(),{productNumberOfBids:l,productSalesLast72Hours:a,selectedVariantNumberOfAsks:r,selectedVariantProductCategory:s,showHighDemand:u,showLowInventory:c,showSellingFast:m}=n5({selectedVariant:e,product:t,gaEventLabel:(0,d.useMemo)(()=>{switch(i){case ew.j.BidEntry:return R.qK.BuyingForm;case ew.j.Review:return R.qK.BuyingConfirm;default:return null}},[i]),segmentTrackEvent:e=>{n({eventName:e1.Z.BADGE_VIEWED,screenName:e2.Z.AMOUNT_ENTRY,type:e})}});return u?(0,o.tZ)(n4,{numberOfBids:l}):m?(0,o.tZ)(n7,{numberOfSalesLast72Hours:a}):c?(0,o.tZ)(n8,{numberOfAsks:r,primaryCategory:s}):null},ie=n(2822),it=n(22333),ii=n(94643);let il=(0,nr.m)(H.k,{baseStyle:{alignItems:"center",flexWrap:"nowrap",flexDirection:{base:"row-reverse",md:"column"}}}),ia=(0,nr.m)(tR.xu,{baseStyle:{textAlign:{base:"left",md:"center"},pt:{base:"3",md:"7"},ml:{base:"3",sm:"7",md:"0"},flexGrow:{base:1,md:"initial"}}}),ir=(0,nr.m)(tR.xu,{baseStyle:{m:"auto",pt:{base:"0",md:"7"}}});var io=e=>{let{children:t}=e,{step:n}=(0,eT.Z)();return n===ew.j.BidEntry?(0,o.tZ)(H.k,{mt:"2",flexWrap:"wrap",justifyContent:"center",children:t}):(0,o.tZ)(tR.xu,{mt:"2",children:t})},id=e=>{var t,n,i,l,a,r,s,u;let{hideMarket:c=!1,showLowInventoryBadge:m=!1,showSizeSelectPane:v=()=>null}=e,{t:p}=(0,j.$G)(),h=(0,nK.Z)(),{lowestAsk:g,highestBid:y}=(0,ie.Z)(),{step:k}=(0,eT.Z)(),Z=(0,tD.EN)(),f="base"===Z,b="lg"===Z,C="md"===Z,S="xl"===Z,{action:_}=(0,t1.Z)(),{shippingAddress:x}=(0,tH.Z)(),{region:N}=(0,n2.Z)(),w=(null==x?void 0:x.countryCodeAlpha2)||N,{product:E,selectedVariant:T}=(0,F.Z)(),I=(0,nJ.Z)(),D="variant"===(0,A.Z)(B.Z.ab_size_type_labels_web),P=k===ew.j.BidEntry&&f,L=(null==E?void 0:E.listingType)==="STANDARD",M=(0,it.Z)(null==T?void 0:T.id,{enabled:L}),z=!(null==M?void 0:M.goodBid)&&!(null==M?void 0:M.betterBid)&&!(null==M?void 0:M.averagePrice)&&!(null==M?void 0:M.retailPrice)&&(null==y?void 0:y.amount),R=k===ew.j.BidEntry||k===ii.if.AmountEntry,O=(0,d.useMemo)(()=>{let e=0,t=0;return f&&(e=P?91:68,t=P?136:96),C&&(e=286,t=400),(b||S)&&(e=520,t=690),{height:e,width:t}},[f,b,S,C,P]),$=e=>{switch(e){case"Grade":return"pdp_grade_label";case"Quantity":return"pdp_quantity_label";default:return"pdp_size_label"}},G=(null==T?void 0:null===(n=T.product)||void 0===n?void 0:null===(t=n.primaryCategory)||void 0===t?void 0:t.toLowerCase())==="trading cards",X=(null==E?void 0:E.contentGroup)&&E.contentGroup.includes("watch"),U=(null==T?void 0:null===(i=T.sizeChart)||void 0===i?void 0:i.baseSize)&&!G&&!X?null==T?void 0:null===(a=T.sizeChart)||void 0===a?void 0:null===(l=a.displayOptions[0])||void 0===l?void 0:l.size:(null==T?void 0:null===(r=T.traits)||void 0===r?void 0:r.size)||null,V=I({sizeChart:null==T?void 0:T.sizeChart,shorterFormat:!0}),W=X||G||!V?U:V;return(0,o.BX)(o.HY,{children:[m&&(0,o.tZ)(n6,{}),(0,o.BX)(il,{"data-component":"buysell-header",flexDirection:{base:P?"column-reverse":"row-reverse",md:"column"},children:[(0,o.BX)(ia,{"data-component":"pane-header",children:[D&&(0,o.tZ)(J.x,{color:"text-secondary",fontSize:"xs",lineHeight:"xs",marginBottom:[1,2],textAlign:P?"center":"initial",children:p((0,n0.n)(null==E?void 0:null===(s=E.browseVerticals)||void 0===s?void 0:s[0],null==E?void 0:E.gender))}),(0,o.BX)(Q.X,{as:"h1",variant:"medium",size:{base:"sm",md:"2xl"},fontWeight:"500",textAlign:P?"center":"initial",children:[(0,o.BX)(tR.xu,{display:{base:"inline",md:"block"},children:[" ",null==E?void 0:E.primaryTitle," "]}),(0,o.tZ)(tR.xu,{display:{base:"inline",md:"block"},children:null==E?void 0:E.secondaryTitle})]}),E&&L?(0,o.BX)(io,{children:[!c&&"US"===w&&!z&&(null==y?void 0:y.amount)&&_===t2.t.Bid?(0,o.tZ)(nQ.Vp,{mx:"1",children:(0,o.BX)(nQ.Sn,{children:[p("Highest Bid"),":"," ",h({number:(null==y?void 0:y.amount)||0,onlyGreaterThanZero:!0})]})}):null,P&&(0,n1.Z)(E)&&(0,o.BX)(H.k,{flexBasis:"100%",justifyContent:"center","data-testid":"size-selector-label",children:[(0,o.tZ)(nQ.Vp,{mx:"1",children:(0,o.tZ)(nQ.Sn,{children:(0,o.BX)(H.k,{justifyContent:"center",children:[(0,o.tZ)(J.x,{mr:1,children:p($(null==E?void 0:E.sizeDescriptor))}),(0,o.tZ)(J.x,{children:W})]})})}),(0,o.tZ)(ee.z,{variant:"link",color:"brand-primary",fontSize:"xs",textTransform:"uppercase",height:"auto",padding:"0",ml:"1",onClick:v,children:p("Edit")})]})]}):null,!!E&&(null==E?void 0:E.listingType)!=="RAFFLE"&&(null==E?void 0:E.listingType)!==eA.IL.GIFT_CARD&&!c&&!L&&(0,o.BX)(io,{children:[(0,o.tZ)(nQ.Vp,{mx:"1",children:(0,o.BX)(nQ.Sn,{children:[p("Highest Bid"),":"," ",h({number:(null==y?void 0:y.amount)||0,onlyGreaterThanZero:!0})]})}),(0,o.tZ)(nQ.Vp,{mx:"1",children:(0,o.BX)(nQ.Sn,{children:[p("Lowest Ask"),":"," ",h({number:(null==g?void 0:g.amount)||0,onlyGreaterThanZero:!0})," "]})}),P&&(0,n1.Z)(E)&&(0,o.BX)(H.k,{flexBasis:"100%",justifyContent:"center","data-testid":"size-selector-label",children:[(0,o.tZ)(nQ.Vp,{mx:"1",children:(0,o.tZ)(nQ.Sn,{children:(0,o.BX)(H.k,{justifyContent:"center",children:[(0,o.tZ)(J.x,{mr:1,children:p($(null==E?void 0:E.sizeDescriptor))}),(0,o.tZ)(J.x,{children:W})]})})}),(0,o.tZ)(ee.z,{variant:"link",color:"brand-primary",fontSize:"xs",textTransform:"uppercase",height:"auto",padding:"0",ml:"1",onClick:v,children:p("Edit")})]})]}),!!W&&(!f||!R)&&(0,o.tZ)(nQ.Vp,{mt:"3",children:(0,o.tZ)(nQ.Sn,{children:(0,o.BX)(H.k,{justifyContent:"center",children:[(0,o.tZ)(J.x,{mr:1,children:p($(null==E?void 0:E.sizeDescriptor))}),(0,o.tZ)(J.x,{variant:"medium",children:W})]})})})]},"head"),(0,o.tZ)(ir,{"data-component":"header-image",width:{base:P?"91px":"62px",sm:"286px",lg:"400px",xl:"690px"},children:E&&(0,o.tZ)(nq.Z,{"data-component":"header-image",src:null==E?void 0:null===(u=E.media)||void 0===u?void 0:u.imageUrl,alt:null==E?void 0:E.secondaryTitle,height:O.height,width:O.width,padding:[2,4],borderRadius:[3,6],backgroundColor:"background-product-image"})})]})]})},is=(e,t,n)=>{var i,l,a,r;return"Shipping"===n?!t||!("US"!==t.countryCodeAlpha2||tj.includes(t.region)):null==e||!e[n]||!((null==e?void 0:null===(l=e[n])||void 0===l?void 0:null===(i=l.Address)||void 0===i?void 0:i.countryCodeAlpha2)!=="US"||tj.includes(null==e?void 0:null===(r=e[n])||void 0===r?void 0:null===(a=r.Address)||void 0===a?void 0:a.region))},iu=n(19307),ic=n(47443),im=n(74444),iv=n(17010),ip=e=>{let{mt:t,mb:n}=e,{t:i}=(0,j.$G)(),{bannerActionText:l,bannerAction:a,bannerText:r,bannerVariant:d,bannerHtml:s}=(0,ex.Z)();return r||s?(0,o.BX)(ic.b,{variant:d||"warning",justifyContent:"space-between",mt:t,mb:n,paddingY:2,gap:1,children:[(0,o.BX)(im.X,{alignItems:"center",display:"flex",children:[r&&i(`${r}`),s&&(0,o.tZ)(iv.T,{as:"div",html:s||""})]}),l&&a?(0,o.tZ)(ee.z,{variant:"unstyled",onClick:a,children:i(`${l}`)}):null]}):null},ih=n(3022),ig=()=>{let e=(0,_.Z)(),t="true"===(0,A.Z)(B.Z.feature_guest_checkout),{listen:n}=(0,y.Z)(),i=(0,ih.Z)();(0,d.useEffect)(()=>{e&&(0,D.deleteCookie)("nonce")},[e]),(0,tE.Z)(()=>{n(e=>{!e.includes("buy")&&t&&(0,D.getCookie)("nonce")&&((0,D.deleteCookie)("nonce"),(0,e0.Z)(e1.Z.LOG_OUT,{screenName:i,type:"Guest"}))})})},iy=n(96527),ik=n(77017),iZ=n(69570),ib=n(81705),iC=n(72420),iS=e=>{let{retryMethod:t,interval:n,enable:i,maxRetry:l=0,startTime:a=500}=e,r=(0,d.useRef)(!1),[o,s]=(0,d.useState)(0);return!i&&(o>0||r.current)&&(s(0),r.current=!1),(0,np.Z)(async()=>{!r.current&&(s(e=>e+1),await t()&&(r.current=!0))},r.current||!i||l>0&&o>l?null:0===o?a:n),{hasResolved:r.current,retryComplete:o>l,retryCount:o}},i_=n(89005);let ix={currency:"USD",components:"buttons","enable-funding":"paylater"},iN="Checkout Review";var iw=e=>{let{braintreeClient:t,step:n,total:i,amount:l,discountCode:a,chargeRef:r,submit:o,pricingCleared:s,bnplPayment:u,paymentSegmentProps:c,action:p,gcInstrument:h}=e,g=(0,d.useRef)(),y=(0,d.useRef)(),k=(0,d.useRef)(null),{startMerchantInitiatedTransaction:Z}=tc(),{updateMoneySession:f}=tv(),{currency:b}=(0,em.Z)(),C=(0,d.useRef)(),S=(0,d.useRef)(),[_,x]=(0,d.useState)(!1),[N,w]=(0,d.useState)(!1),[E,T]=(0,d.useState)(!1);(0,d.useState)(!1);let A=(0,d.useRef)(),B=(0,v.I0)(),{t:D}=(0,j.$G)(),P=()=>{T(!1),x(!1),w(!1),S.current&&(S.current=null)};iS({retryMethod:async()=>{let e=document.querySelector("#paypalbutton");try{k.current&&S.current&&e&&e.children.length<1&&await S.current.render("#paypalbutton")}catch{return!1}if(e&&e.children.length>0)return x(!0),!0},interval:5100,enable:E,maxRetry:4});let F=(0,d.useCallback)((e,t)=>{(0,e0.Z)(e1.Z.BNPL_RESPONSE,{screenName:e2.Z.BNPL_FLOW,flow:p,paymentMethod:"PayPal BNPL",type:e,label:t,...c})},[e0.Z,c,p]),L=(0,d.useCallback)(async()=>{A.current=(0,i_.ZP)();let e={amount:l,currencyCode:b,chargeRef:r,discountCode:a,instrument:{name:"paypal_bnpl",key:"paypal_bnpl",providerKey:"braintree"},checkoutTraceId:A.current,gcInstrument:h},{id:t}=await Z(e);C.current=t},[l,b,r,a,Z]),M=(null==u?void 0:u.isPreset)&&(null==u?void 0:u.paymentMethod)===n_.yE.PaypalPayLater,z=(0,d.useCallback)(async(e,t)=>{let n={tokens:[{key:"authorizationToken",value:e},{key:"transactionId",value:t}],sessionId:C.current};await f({input:n},{context:{headers:{"x-checkout-trace-id":A.current}}})},[C.current,f]);return(0,m.Z)(()=>{g.current&&g.current.teardown()}),(0,d.useLayoutEffect)(()=>{let e=async()=>{var e,t,n,l;let a=null===(l=window.paypal)||void 0===l?void 0:null===(n=l.Buttons)||void 0===n?void 0:n.call(l,{fundingSource:null===(t=window.paypal)||void 0===t?void 0:null===(e=t.FUNDING)||void 0===e?void 0:e.PAYLATER,style:{color:"gold",shape:"rect",layout:"vertical"},async createOrder(){var e;try{await L()}catch{F(n_.zW.error,"MAAS"),B((0,I.y$)(D("try_with_another_payment_method")));return}let t=h.shouldAdd?h.otherChargeInstrumentValue:i;return null===(e=g.current)||void 0===e?void 0:e.createPayment({flow:"checkout",amount:t_(t),currency:"USD"})},async onApprove(e){var t;return null===(t=g.current)||void 0===t?void 0:t.tokenizePayment(e).then(async t=>{try{await z(null==t?void 0:t.nonce,(null==e?void 0:e.paymentID)||" ")}catch{F(n_.zW.error,"MAAS"),B((0,I.y$)(D("try_with_another_payment_method")));return}o&&o({moneySessionId:C.current,checkoutTraceId:A.current})})},onError(){F(n_.zW.error,"Paypal")},onCancel(){F(n_.zW.dismiss)}});if(!(null==a?void 0:a.isEligible())){F(n_.zW.error,"Paypal"),B((0,I.y$)(D("try_with_another_payment_method")));return}S.current=a,T(!0)};return async function(){if(n!==iN&&P(),!y.current&&s&&n===iN&&i&&i>0&&t&&M&&k.current&&!S.current){var l;y.current=!0;let n=await iC.paypalCheckout.create({client:t});g.current=n;let i={...ix};(null===(l=window.paypal)||void 0===l?void 0:l.Buttons)||await n.loadPayPalSDK(i),S.current={},e(),y.current=!1}}(),()=>{S.current&&_&&S.current.close&&!N&&(w(!0),S.current.close())}},[t,n,S.current,M,k.current,y.current,i,s,null==h?void 0:h.shouldAdd,null==h?void 0:h.otherChargeInstrumentValue]),{buttonRef:k}},iE=e=>{var t,n;let{payments:i,selectedLocalPaymentMethod:l,bnplPayment:a,customer:r,paymentAccounts:o=null,getCCBrand:d=!0}=e,s=null;if(null==i?void 0:null===(t=i.selectedPaymentMethod)||void 0===t?void 0:t.type)s=i.selectedPaymentMethod.type;else if(null==l?void 0:l.type)s=l.type;else if(a.isPreset)s=a.paymentMethod;else if(o){let e=o.find(e=>e.isPreferred);"CreditCard"==(s=(null==e?void 0:null===(n=e.accountType)||void 0===n?void 0:n.toLowerCase())==="creditcarduserpaymentaccount"?"CreditCard":"Paypal")&&d&&(s=null==e?void 0:e.code)}else(null==r?void 0:r.Billing)&&(null!==r.Billing.accountEmail?s="Paypal":r.Billing.cardType&&(s=d?r.Billing.cardType:"CreditCard"));return s},iT=e=>{var t,n,i,l,a,r,o;let{selectedVariant:d,portfolioItem:s,defaultBid:u,deliveryMethodLowestAsk:c}=e,m=!!d&&(null==d?void 0:null===(t=d.product)||void 0===t?void 0:t.listingType)==="RAFFLE",v=!!d&&(null==d?void 0:null===(n=d.product)||void 0===n?void 0:n.listingType)==="CHARITY",p=!!d&&(null==d?void 0:null===(i=d.product)||void 0===i?void 0:i.listingType)==="RESTOCK",h=c||(null==d?void 0:null===(r=d.market)||void 0===r?void 0:null===(a=r.state)||void 0===a?void 0:null===(l=a.lowestAsk)||void 0===l?void 0:l.amount)||0;switch(!0){case!!s:return{amount:(null==s?void 0:s.localAmount)||0,action:t2.t.Bid};case p:return{amount:Number(null==d?void 0:null===(o=d.product)||void 0===o?void 0:o.minimumBid),action:t2.t.Bid};case m||v:return{amount:h||0,action:t2.t.Buy};case"true"===u:return{amount:0,action:t2.t.Bid};case!!h:return{amount:Number(h||0),action:t2.t.Buy};default:return{amount:0,action:t2.t.Bid}}},iI=e=>{if(e){let t=N.Z.getCookie("utm_product_campaign"),n=N.Z.getCookie("stockx_conversion_product");if([e.urlKey,e.uuid].includes(n))return t}},iA=n(58638),iB=n(41147),iD=()=>{let e="xa3iodokmasl39201921d",[t,n,i]=(0,iB.Z)(e),l=(0,d.useCallback)(e=>{n(e)},[n]);return(0,d.useMemo)(()=>({storageKey:e,storageValue:t,setStorage:l,clearStorage:i}),[i,l,t])},iP=n(55281),iF=n.n(iP),iL={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetGlobalNotificationSettings"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getNotificationSubscriptions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"threshold"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayThreshold"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"transports"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:219,source:{body:"\n  query GetGlobalNotificationSettings {\n    getNotificationSubscriptions {\n      key\n      name\n      description\n      threshold\n      displayThreshold\n      transports {\n        key\n        enabled\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},iM=()=>{let e=(0,_.Z)(),{data:t}=(0,ey.Z)(iL,{enabled:e,select:e=>{let t=iF()(null==e?void 0:e.getNotificationSubscriptions,["key","global_marketing"]),n=iF()(null==t?void 0:t.transports,["key","email"]);return null==n?void 0:n.enabled}});return t},iz=()=>{let e=eN.Z.use.bidAmount(),t=eN.Z.use.bidAmountChanged();return(0,d.useMemo)(()=>({bidAmount:e,setBidAmount:t}),[e,t])},iR=n(78034),iO=n(65189),i$=()=>{let{setAmount:e}=(0,eE.Z)(),{clearPricing:t}=(0,tP.Z)(),{setAction:n}=(0,t1.Z)(),{setBidAmount:i}=iz(),{setStep:l}=(0,eT.Z)(),{setError:a}=(0,iO.Z)();return{setBatchedContextValues:(0,d.useCallback)(r=>{Object.entries(r).forEach(r=>{let[o,d]=r;switch(o){case"action":n(d);break;case"amount":e(d);break;case"clearPricing":t();break;case"bidAmount":i(d);break;case"error":a(d);break;case"step":l(d)}})},[t,n,e,a,l])}},iG=n(42110),iX=e=>{let{selectLocalPaymentMethod:t,payments:n,setBNPLPayment:i}=e,{clearSelectedPaymentMethod:l,paymentAccountsActions:{updateSelectedPayment:a}={updateSelectedPayment:null}}=n;return{clearPaymentSelection:(0,d.useCallback)(()=>{var e;null==t||t(),null==n||n.clearSelectedPaymentMethod(),(null==n?void 0:null===(e=n.paymentAccountsActions)||void 0===e?void 0:e.updateSelectedPayment)&&(null==n?void 0:n.selectedPayment)&&n.paymentAccountsActions.updateSelectedPayment({paymentType:null,paymentSubType:null}),i({isPreset:!1,paymentMethod:null})},[t,l,a,i])}};let iU=(e,t)=>e>1&&t>=e;var iV=e=>{var t,n,i,l;let{capturePendingPayment:a,clearPendingPayment:r,clearPortfolioItemError:o,createPendingPayment:s,getUniversalAuthPage:u,isErrorRecoverable:c,localPaymentError:h,localPaymentPortfolioItem:g,localPaymentSuccess:Z,newPortfolioItem:b,payments:S,portfolioItemError:_,selectedLocalPaymentMethod:x,selectLocalPaymentMethod:E,braintreeClient:T}=e,D=(0,f.Z)(),P=(0,y.Z)(),{deliveryMethod:L,setDeliveryMethod:M}=(0,ik.Z)(),z="base"===(0,tD.EN)(),{lowestAsk:O}=(0,ie.Z)(),$="variant"===(0,A.Z)(B.Z.ab_default_bid_expiration_web),G=(0,A.Z)(B.Z.ab_checkout_sales_tax_web),X="variant_1"===G||"variant_2"===G,{product:U,selectedVariant:V,portfolioItem:j,refetch:H}=(0,F.Z)(),{trackSegmentEvent:W,trackPlaceOrderAnalytics:Y}=(0,e3.Z)(),K=(0,e4.Z)(),{clearStorage:q,setStorage:Q,storageKey:J,storageValue:ee}=iD(),et=iM(),{query:en}=(0,k.Z)(),ei=(0,k.Z)(),el=(0,v.I0)(),ea=(0,d.useCallback)(e=>el((0,I.yV)(e)),[el]),er=(null==U?void 0:U.listingType)==="STANDARD",ed=(0,it.Z)(null==V?void 0:V.id,{enabled:er}),{amount:es}=(0,eE.Z)(),{bidAmount:eu}=iz(),{clearPricing:ec,getCustomerPricing:ev,pricing:ep}=(0,tP.Z)(),{selectedPayment:eh}=(0,iR.Z)(),{action:eg}=(0,t1.Z)(),{step:ey,setStep:ek}=(0,eT.Z)(),{error:eZ,setError:ef}=(0,iO.Z)(),{currency:eC}=(0,em.Z)(),eS=(0,C.Z)(),{discountCode:e_,setDiscountCode:ex}=(0,iZ.Z)(),{expiration:eI,setExpiration:eB}=(0,ib.Z)(),{setBatchedContextValues:eD}=i$(),eP=(0,e5.Z)(),[eF,eL]=(0,d.useState)(!1),[eM,ez]=(0,d.useState)(!1),[eR,eO]=(0,d.useState)(),e$=(0,p.NL)(),[eG,eX]=(0,d.useState)({isPreset:!1,paymentMethod:null}),{idError:eU,handleUpdateId:eV,regulatoryIdConfig:ej,setTempId:eH,tempId:eW,updatingId:eY,handleCancel:eK}=(0,iG.Z)(),{deliveryOption:eq,setDeliveryOption:eQ}=(0,nk.Z)(),[eJ,e0]=(0,d.useState)(void 0),[e7,e9]=(0,d.useState)(!1),[e8,e6]=(0,d.useState)(null),{sizeLocale:te}=(0,nU.Z)(),tt=null==S?void 0:S.isGCApplied,{giftCardBuyForm:tn}=(0,d.useContext)(eo),ti=(0,d.useCallback)(()=>{if(!(null==V?void 0:V.id)||!es){ec();return}ey===ew.j.Review&&X||ev()},[ev,eS,eC,ec,U,ey,eg,es,null==V?void 0:V.id,e_,null==ej?void 0:ej.idValue,null==ej?void 0:ej.isExpired,X,tt]);(0,d.useEffect)(()=>{H()},[H]),(0,d.useEffect)(()=>{ey===ew.j.BidEntry&&ti()},[L,eq]);let{clearPaymentSelection:tl}=iX({selectLocalPaymentMethod:E,payments:S,setBNPLPayment:eX}),ta=(0,d.useMemo)(()=>iE({payments:S,selectedLocalPaymentMethod:x,bnplPayment:eG,customer:eS}),[S,x,eG.isPreset,eG.paymentMethod,eS]),tr=(0,d.useCallback)(e=>{if(eg===e)return;let t=0,n=eG.isPreset;if(e===t2.t.Bid){var i,l,a,o;tt&&(null===(l=S.paymentAccountsActions)||void 0===l||null===(i=l.updateIsGCApplied)||void 0===i||i.call(l,!1)),null==S||S.clearSelectedPaymentMethod(),(null==eh?void 0:eh.paymentType)&&!((null==eh?void 0:eh.paymentType)===n_.Lt.CreditCard||(null==eh?void 0:eh.paymentType)===n_.Lt.Paypal)&&(null===(o=S.paymentAccountsActions)||void 0===o||null===(a=o.updateSelectedPayment)||void 0===a||a.call(o,{paymentType:null,paymentSubType:null}))}e===t2.t.Buy?t=(null==O?void 0:O.amount)||0:e===t2.t.Bid&&(null==j?void 0:j.localAmount)?(t=null==j?void 0:j.localAmount,n=!1):(t=eu,n=!1,E(void 0),null==S||S.clearSelectedPaymentMethod()),r(),eD({action:e,amount:t}),eX(e=>({isPreset:n,paymentMethod:(null==e?void 0:e.paymentMethod)||null})),N.Z.scrollToTop()},[r,S,j,E,eg,V,eD,eu,eC,U,eX,null==eh?void 0:eh.paymentType,tt]),to=(0,d.useCallback)((e,t)=>{if(eX({paymentMethod:t,isPreset:e}),ek(ew.j.BidEntry),e){var n,i;S.clearSelectedPaymentMethod(),null===(i=S.paymentAccountsActions)||void 0===i||null===(n=i.updateSelectedPayment)||void 0===n||n.call(i,{paymentType:n_.Lt.BNPL,paymentSubType:t})}},[S,eX,ek]),td=(0,d.useCallback)(async()=>{e9(!1),e6(null)},[e9,e6]),ts=async e=>{await r(),await td(),eD({error:e,step:ew.j.BidEntry})},tu=async()=>{r(),td(),tZ()},tc=(0,d.useCallback)(async e=>{await a(e),(null==x?void 0:x.paymentProvider)===n_.h7.Citcon&&await td()},[x,a,td]),tm=(0,d.useCallback)(async e=>{let{checkoutTraceId:t}=e,n=await s({currencyCode:eC,selectedVariant:V,amount:(null==O?void 0:O.amount)||0,discountCode:e_,pathname:ei.pathname,total:null==ep?void 0:ep.total,checkoutTraceId:t});if(n&&(null==x?void 0:x.paymentProvider)===n_.h7.Citcon){var i;e6(n),"action"in n&&(null==n?void 0:null===(i=n.action)||void 0===i?void 0:i.type)===n_.uG.QRCode&&e9(!0)}},[eC,e_,ei.pathname,null==ep?void 0:ep.total,s,x,V,e6,e9]);(0,d.useEffect)(()=>{var e,t,n,i,l,a,r,o,d;let s=0,u=0,c="",m=!!(null==O?void 0:O.amount),v=!!U&&(null==U?void 0:U.listingType)==="RESTOCK",p=!!U&&(null==U?void 0:U.listingType)==="CHARITY",h=!!U&&(null==U?void 0:U.listingType)==="RAFFLE",g=!!U&&(null==U?void 0:U.listingType)===eA.IL.GIFT_CARD;j?(s=j.localAmount,j.meta&&(c=j.meta.discountCode||"")):p||h||eG.isPreset||m?s=(null==O?void 0:O.amount)||0:v?s=null==U?void 0:U.minimumBid:g&&(s=Number(en.initialAmount));let y=(0,n1.Z)(U),k=(null==V?void 0:V.id)||!y?ew.j.BidEntry:ew.j.SizeSelect,Z=w.j?ee:null,f=Z&&(null==U?void 0:null===(e=U.variants)||void 0===e?void 0:e.find(e=>(null==e?void 0:e.id)===(null==Z?void 0:Z.selectedVariantId)));if(Z&&U&&(null==eS?void 0:null===(t=eS.Shipping)||void 0===t?void 0:t.Address)&&(null==eS?void 0:null===(n=eS.Billing)||void 0===n?void 0:n.Address)&&q(),f){let e=eg!==t2.t.Buy||g?s:null==O?void 0:O.amount;eD({action:eg===t2.t.Bid&&(null==O?void 0:O.amount)===s&&s>0||g?null===t2.t||void 0===t2.t?void 0:t2.t.Buy:null===t2.t||void 0===t2.t?void 0:t2.t.Bid,amount:e,bidAmount:u,error:eZ,step:k}),eQ(null==Z?void 0:Z.deliveryOption),ex(c),eX(Z.bnplPayment),(null==Z?void 0:null===(i=Z.bnplPayment)||void 0===i?void 0:i.isPreset)&&(null==S||null===(r=S.paymentAccountsActions)||void 0===r||null===(a=r.updateSelectedPayment)||void 0===a||a.call(r,{paymentType:n_.Lt.BNPL,paymentSubType:null==Z?void 0:null===(l=Z.bnplPayment)||void 0===l?void 0:l.paymentMethod})),eB(eI),ez(Z.recover),eO(Z.finalPortfolioItem)}else{let e;if(e=(p||h||g||eG.isPreset||m)&&!j?t2.t.Buy:t2.t.Bid,"true"===en.defaultBid&&(e=t2.t.Bid,s=0,er&&!j&&(s=(null==ed?void 0:ed.betterBid)||(null==ed?void 0:ed.goodBid)||0,u=(null==ed?void 0:ed.betterBid)||(null==ed?void 0:ed.goodBid)||0),(null==U?void 0:U.urlKey)&&V)){let e=(null==V?void 0:null===(o=V.traits)||void 0===o?void 0:o.size)?`?size=${null==V?void 0:null===(d=V.traits)||void 0===d?void 0:d.size}`:"",t=`/buy/${null==U?void 0:U.urlKey}${e}`;P.replace(D(t))}"true"===en.defaultBuy&&(e=t2.t.Buy,s=(null==O?void 0:O.amount)||0),e===t2.t.Bid&&ey!==ew.j.Success&&M(R.Gl.Standard),eD({action:e,amount:s,bidAmount:u,error:"",...ey===ew.j.Success?{}:{step:k}}),ex(c),eB($?14:30),ez(!1)}},[U,j,null==O?void 0:O.amount,null==V?void 0:null===(t=V.traits)||void 0===t?void 0:t.size,null==U?void 0:U.urlKey]);let tv=eN.Z.use.discountCodeImpressionChanged(),tp=eN.Z.use.discountCodeAvailableChanged();(0,tE.Z)(()=>{var e;tp(!1),tv(!1);let t=e$.getQueryCache();t.findAll({queryKey:["GetUserGiftCardHoldings"]}).forEach(e=>{t.remove(e)}),(j||U&&(null==U?void 0:U.listingType)==="RESTOCK"||U&&(null==U?void 0:U.listingType)==="RAFFLE"||eg===t2.t.Buy||eG.isPreset)&&ti(),(null==ei?void 0:null===(e=ei.state)||void 0===e?void 0:e.isPaypalPayLaterSelected)&&to(!0,n_.yE.PaypalPayLater)}),(0,m.Z)(()=>{ec()}),(0,iA.r)(()=>{ey!==ew.j.BidEntry&&(o(),ef(null))},[ey]),(0,iA.r)(()=>{_&&c?(ef(_),ez(!0)):_&&(eD({error:_,step:ew.j.BidEntry}),ez(!1))},[_,c]),(0,iA.r)(()=>{(null==b?void 0:b.chainId)&&ey!==ew.j.Success&&(eD({error:null,step:ew.j.Success}),ez(!1),eO(b))},[null==b?void 0:b.chainId,ey]),(0,iA.r)(()=>{_&&c||_||(null==b?void 0:b.chainId)&&ey!==ew.j.Success||(eD({error:h,step:h?ew.j.BidEntry:ew.j.Review}),ez(!1))},[h]),(0,iA.r)(()=>{(null==S?void 0:S.error)&&(eD({error:null==S?void 0:S.error,step:ew.j.BidEntry}),ez(!1))},[null==S?void 0:S.error]),(0,iA.r)(()=>{Z&&(eD({error:null,step:ew.j.Success}),eO(g),ez(!1))},[Z]),(0,iA.r)(()=>{(null==S?void 0:S.success)&&(eD({error:null,step:ew.j.Success}),(null==S?void 0:S.portfolioItem)&&eO(S.portfolioItem),ez(!1))},[null==S?void 0:S.success]),(0,d.useEffect)(()=>{eg===t2.t.Bid&&iU(null==O?void 0:O.amount,eu)&&eD({action:t2.t.Buy,amount:null==O?void 0:O.amount,bidAmount:0})},[eg,eu,null==O?void 0:O.amount,eD,U]),(0,d.useEffect)(()=>{eG.isPreset&&tr(t2.t.Buy)},[tr,eG.isPreset]),(0,iy.Z)(()=>{ey===ew.j.BidEntry&&ti()},750,[V,eg,e_,es,ey]),(0,d.useEffect)(()=>{ey===ew.j.Review&&(ti(),eL(!0)),ey!==ew.j.Review&&eL(!1)},[ey]);let th=(0,d.useMemo)(()=>{var e,t;let n=null==V?void 0:null===(t=V.deliveryOptions)||void 0===t?void 0:null===(e=t.methods)||void 0===e?void 0:e.find(e=>(null==e?void 0:e.type)===L);return null==n?void 0:n.lowestAsk},[L,null==V?void 0:V.deliveryOptions]),tg=(0,d.useCallback)(e=>{var t,n,i;if(!U)return;let l=null==U?void 0:null===(t=U.variants)||void 0===t?void 0:t.find(t=>(null==t?void 0:t.id)===e),{amount:a,action:r}=iT({selectedVariant:l,portfolioItem:j,defaultBid:null==en?void 0:en.defaultBid,deliveryMethodLowestAsk:th}),o=(null==en?void 0:en["xpress-ship"])==="true"?"xpress-ship=true":"",d=(null==l?void 0:null===(n=l.traits)||void 0===n?void 0:n.size)?`size=${null==l?void 0:null===(i=l.traits)||void 0===i?void 0:i.size}&`:"",s=(null==en?void 0:en.defaultBid)?`/buy/${null==U?void 0:U.urlKey}?${d}defaultBid=true`:`/buy/${null==U?void 0:U.urlKey}?${d}${o}`;P.replace(D(s)),eD({action:r,amount:a,step:ew.j.BidEntry}),eX(e=>({isPreset:!t2.t.Bid&&((null==e?void 0:e.isPreset)||!1),paymentMethod:(null==e?void 0:e.paymentMethod)||null})),N.Z.scrollToTop()},[eG.isPreset,eG.paymentMethod,U,eD,D,P,en,j,en.defaultBid,eX,th]),ty=(0,d.useCallback)(()=>{if(!U)return;W({eventName:e1.Z.EDIT_CLICKED,screenName:e2.Z.AMOUNT_ENTRY,type:"Size"});let{urlKey:e}=U;P.replace(D(`/buy/${e}`)),N.Z.scrollToTop(),ek(ew.j.SizeSelect)},[U,D,P,j,ek,W]),tk=(0,d.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"signup";w.j&&Q({selectedVariantId:null==V?void 0:V.id,recover:eM,finalPortfolioItem:eR,bnplPayment:eG,deliveryOption:eq}),u(e,{state:{key:J,forceLogin:!0}})},[eg,u,ey,es,null==V?void 0:V.id,e_,eG.isPreset,eG.paymentMethod,eu,eI,eZ,eM,eR,J,Q,eq]),tZ=(0,d.useCallback)(()=>{W({eventName:e1.Z.EDIT_CLICKED,screenName:e2.Z.AMOUNT_ENTRY,type:"Payment method"}),N.Z.scrollToTop(),ek(ew.j.Billing),eX({isPreset:!1,paymentMethod:null}),N.Z.scrollToTop()},[U,es,ta,eC,j,eX,ek,W]),tf=(0,d.useCallback)(function(){let{recover:e="",email:t="",threeDSecureAuthenticationId:n,moneySessionId:i=null,checkoutTraceId:l=null,threeDSAuthenticationShown:a=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};N.Z.scrollToTop();let r=l||(0,i_.ZP)();a||Y({threeDSAuthenticationShown:a,traceId:r});let o={action:eg,PortfolioItem:{localAmount:es,expiresAt:(0,eb.Lc)((0,eb.E4)(new Date,eI)),skuUuid:(null==V?void 0:V.id)||"",localCurrency:eC,meta:{discountCode:e_,productCampaign:iI(V),localizedSizeType:te,checkoutType:{[R.Gl.Express]:"express",[R.Gl.ExpressStandard]:"expressStandard",[R.Gl.ExpressExpedited]:"expressExpedited",[R.Gl.Standard]:void 0,[R.Gl.Vault]:void 0}[L]}},item:j};"recover"===e?o.PortfolioItem.meta={...o.PortfolioItem.meta,fraudRecoveryEmail:t,threeDSecureAuthenticationID:eJ}:"dismiss"===e&&(o.PortfolioItem.meta={...o.PortfolioItem.meta,userExitedRecover:!0}),j&&(o.PortfolioItem.chainId=j.chainId);let d=null==S?void 0:S.deviceData;if(d&&(o.PortfolioItem.meta={...o.PortfolioItem.meta,deviceData:d}),n?(e0(n),o.PortfolioItem.meta={...o.PortfolioItem.meta,threeDSecureAuthenticationID:n}):e0(void 0),i&&(o.PortfolioItem.meta={...o.PortfolioItem.meta,moneyServiceSessionId:i}),eg===t2.t.Buy){var s,u,c,m,v,p;o.PortfolioItem.meta={...o.PortfolioItem.meta,matchCandidateId:null==V?void 0:null===(c=V.market)||void 0===c?void 0:null===(u=c.state)||void 0===u?void 0:null===(s=u.lowestAsk)||void 0===s?void 0:s.chainId,checkoutTraceId:r,isPersistable:!1},(null==eq?void 0:eq.topic)==="COLLECT_POINT_CONFIRMED"&&(o.PortfolioItem={...o.PortfolioItem,deliveryMeta:{deliveryOptionType:"ACCESS_POINT",retailLocationID:null==eq?void 0:null===(m=eq.message)||void 0===m?void 0:m.id,pickupFirstName:null==eq?void 0:null===(v=eq.pickupPerson)||void 0===v?void 0:v.firstName,pickupLastName:null==eq?void 0:null===(p=eq.pickupPerson)||void 0===p?void 0:p.lastName}})}(null==U?void 0:U.listingType)===eA.IL.GIFT_CARD?null==tn||tn.submitBuyGiftCard({moneySessionId:i,checkoutTraceId:r,deviceData:d||""}):ea({data:o,customer:eS,paymentMethod:iE({payments:S,selectedLocalPaymentMethod:x,bnplPayment:eG,customer:eS}),product:U,isGlobalNotificationEmailEnabled:et})},[ep,z,eC,U,null==V?void 0:V.id,ea,eS,j,S,eg,x,es,V,e_,eG.isPreset,eG.paymentMethod,eI,eJ,e0,te,null==V?void 0:null===(l=V.market)||void 0===l?void 0:null===(i=l.state)||void 0===i?void 0:null===(n=i.lowestAsk)||void 0===n?void 0:n.chainId,Y,L]),{buttonRef:tb}=iw({braintreeClient:T,step:ey,total:null==ep?void 0:ep.total,amount:es,discountCode:e_,chargeRef:null==V?void 0:V.id,pricingCleared:eF,submit:tf,bnplPayment:eG,paymentSegmentProps:K,action:eg,gcInstrument:eP});return{action:eg,capturePendingLocalPayment:tc,changeAction:tr,createPendingLocalPayment:tm,editPaymentSettings:tZ,finalPortfolioItem:eR,handleCancel:eK,handleSizeChange:tg,handleSubmitBid:tf,handleUpdateId:eV,idError:eU,onCitconQRCodeModalChangePaymentMethod:tu,onCitconQRCodeModalClose:ts,pendingCitconLocalPayment:e8,recover:eM,regulatoryIdConfig:ej,bnplPayment:eG,setBNPLPayment:eX,setTempId:eH,showBsEditBar:(0,d.useMemo)(()=>ey!==ew.j.Review&&ey!==ew.j.Success&&!!j,[j,ey]),showCitconQRCode:e7,showLoginSignup:tk,showSizeSelectPane:ty,tempId:eW,toggleBNPLPresetPaymentMode:to,updatingId:eY,paymentBtnRef:tb,clearPaymentSelection:tl}},ij=n(8095),iH=n(17993),iW=n(62453),iY=n(98097),iK=n(63980),iq=n(46459),iQ=n(76348),iJ=n(11957),i0=n(29890),i1=n(97572),i2=n(77703),i5=()=>{var e,t,n,i,l,a;let{data:r,isFetching:o}=(0,i2.Z)(),s=((null==r?void 0:null===(n=r.viewer)||void 0===n?void 0:null===(t=n.pendingQty)||void 0===t?void 0:null===(e=t.pageInfo)||void 0===e?void 0:e.totalCount)??0)>1||((null==r?void 0:null===(a=r.viewer)||void 0===a?void 0:null===(l=a.historicalQty)||void 0===l?void 0:null===(i=l.pageInfo)||void 0===i?void 0:i.totalCount)??0)>0;return(0,d.useMemo)(()=>({isRepeatBuyer:s,loadingIsRepeatBuyer:o}),[s,o])},i3=n(32981),i4=n(73751),i7=n(93659),i9=e=>{let{isModalOpen:t,handleCloseDrawer:n}=e,i=i7.default.CASHAPP_PAYMENT_REDIRECT,{t:l}=(0,j.$G)(),{pricing:a}=(0,tP.Z)();return(0,o.BX)(i3.d,{isOpen:t,onClose:n,closeOnOverlayClick:!1,placement:"bottom",size:"md",children:[(0,o.tZ)(t$.Z,{}),(0,o.BX)(i4.s,{children:[(0,o.tZ)(tX.o,{}),(0,o.BX)(tU.f,{children:[(0,o.tZ)(J.x,{pt:4,pb:4,fontSize:"md",fontWeight:"bold",children:l("citcon_redirect_modal_header")}),(0,o.tZ)(J.x,{fontSize:"sm",pb:4,children:l("citcon_redirect_modal_body")}),(0,o.tZ)(tR.xu,{pb:4,children:(0,o.tZ)(ee.z,{variant:"primary",as:"a",onClick:()=>{let e=window,t=tT.Z.getMinorUnits(null==a?void 0:a.total),n=`${e.location.origin}/cashapp/payment?total=${t}`;N.Z.getCookie(i)&&N.Z.delCookie(i),e.open(n)},target:"_blank",rel:"opener","data-testid":"cashapp-manual-redirect-button",children:l("continue_with_local_payment_method",{paymentMethod:"Cash App Pay"})})})]})]})]})},i8=n(37500),i6=n(81812),le=n(73841),lt=n(48781),ln=n(77612);let li=(0,eL.I)({displayName:"WorryFreePurchaseIcon",viewBox:"0 0 20 20",path:(0,o.BX)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"20",viewBox:"0 0 19 20",fill:"none",children:[(0,o.tZ)("path",{d:"M15.9531 4.07129H5.92886L4.3125 7.61619V8.07404V16.2113H17.5694V8.07057V7.61272L15.9531 4.07129ZM6.48037 4.85172H15.4016L16.6295 7.29014H5.25596L6.48037 4.85172ZM16.789 15.4309H5.09293V8.09485H16.789V15.4309Z",fill:"black"}),(0,o.tZ)("path",{d:"M15.4048 18.0718L15.3153 18.042C12.2107 16.9076 12.1211 14.5493 12.1211 14.4597V11.2058L15.4048 10.4297L18.6886 11.2058V14.4299C18.6886 14.5493 18.599 16.9076 15.4944 18.0121L15.4048 18.0718Z",fill:"black"}),(0,o.tZ)("path",{d:"M13.4395 14.5422L14.9595 16.0623L17.7659 13.0221L17.1033 12.4375L14.9206 14.7761L14.0631 13.9186L13.4395 14.5422Z",fill:"white"})]})});var ll=e=>{let{eligibilityDays:t}=e,{t:n}=(0,j.$G)();return(0,o.BX)(H.k,{direction:"row",children:[(0,o.tZ)(li,{width:"1.5rem",height:"1.5rem",mr:3}),(0,o.BX)(H.k,{direction:"column",children:[(0,o.BX)(tR.xu,{children:[(0,o.BX)(ln.sM,{ml:0,children:[" ",n("Worry Free Purchasing")]}),(0,o.tZ)(ln.vC,{children:n("New")})]}),(0,o.tZ)(J.x,{fontSize:"xs",children:n("pdp_no_fee_resale_description",{eligibilityDays:t})})]})]})},la=n(83541),lr=n(84010);let lo=(0,nr.m)(tz.W,{baseStyle:{px:"0",maxWidth:"initial"}}),ld=(0,nr.m)(H.k,{baseStyle:{justifyContent:"space-between",alignItems:"center",fontSize:"md",width:"100%"}}),ls=(0,nr.m)(e=>{let{isOrderReview:t,children:n,...i}=e;return(0,o.tZ)(H.k,{mr:t?"0":"3",...i,children:n})},{baseStyle:{justifyContent:"center",alignItems:"center",whiteSpace:"nowrap"}}),lu=(0,nr.m)(tR.xu,{baseStyle:{w:9,fontWeight:"bold"}}),lc=(0,eL.I)({displayName:"GiftCardIcon",viewBox:"0 0 20 20",path:(0,o.BX)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.tZ)("path",{d:"M15.6 17.2002H4.40002V9.2002H15.6V17.2002ZM5.28002 16.3202H14.72V10.1202H5.28002V16.3202Z",fill:"var(--chakra-colors-brand-secondary)"}),(0,o.tZ)("path",{d:"M16.48 10.1202H3.52002V6.68018H16.48V10.1202ZM4.44002 9.24018H15.6V7.60018H4.44002V9.24018Z",fill:"var(--chakra-colors-brand-secondary)"}),(0,o.tZ)("path",{d:"M10.428 7.15467L9.50806 7.16455L9.61113 16.7636L10.531 16.7537L10.428 7.15467Z",fill:"var(--chakra-colors-brand-secondary)"}),(0,o.tZ)("path",{d:"M9.52002 7.35993L9.60002 6.75993C9.64002 6.47993 10 4.15993 10.88 3.31993C11.64 2.55993 12.84 2.59993 13.6 3.35993C14.36 4.11993 14.32 5.35993 13.56 6.07993C12.76 6.87993 10.36 7.23993 10.12 7.27993L9.52002 7.35993ZM12.24 3.67993C12 3.67993 11.72 3.75993 11.52 3.95993C11.12 4.31993 10.8 5.39993 10.64 6.27993C11.52 6.11993 12.6 5.79993 12.96 5.43993C13.16 5.23993 13.28 4.99993 13.28 4.71993C13.28 4.43993 13.16 4.19993 13 3.99993C12.76 3.79993 12.48 3.67993 12.24 3.67993Z",fill:"var(--chakra-colors-brand-secondary)"}),(0,o.tZ)("path",{d:"M10.36 7.3598L9.76001 7.2798C9.48001 7.2398 7.12001 6.8798 6.32001 6.0798C5.96001 5.7198 5.76001 5.2398 5.76001 4.7198C5.76001 4.1998 5.96001 3.7198 6.32001 3.3598C6.64001 2.9998 7.12001 2.7998 7.64001 2.7998C7.64001 2.7998 7.64001 2.7998 7.68001 2.7998C8.20001 2.7998 8.68001 2.9998 9.04001 3.3598C9.88001 4.1998 10.28 6.5198 10.32 6.7998L10.36 7.3598ZM7.68001 3.6798C7.40001 3.6798 7.12001 3.7998 6.96001 3.9998C6.80001 4.1998 6.68001 4.4398 6.68001 4.7198C6.68001 4.9998 6.80001 5.2398 7.00001 5.4398C7.36001 5.7998 8.44001 6.1198 9.32001 6.2798C9.12001 5.3998 8.80001 4.3198 8.44001 3.9598C8.20001 3.7998 7.92001 3.6798 7.68001 3.6798Z",fill:"var(--chakra-colors-brand-secondary)"})]})});var lm=e=>{var t,n,i;let{userHoldings:l}=e,{t:a}=(0,j.$G)("feature.giftcards");return(0,o.BX)(H.k,{justifyContent:"space-between",alignItems:"center",borderColor:"outline-secondary","data-component":"settings-details-wrapper",width:"100%",children:[(0,o.BX)(ls,{"data-component":"settings-details","data-testid":"giftcard-summary",children:[(0,o.tZ)(lu,{"data-component":"settings-decoration",children:(0,o.tZ)(lc,{boxSize:"6",mt:-1})}),a("Gift Card")]}),(0,o.tZ)(lr.N,{noOfLines:1,isLoaded:!!(null==l?void 0:null===(t=l.gcEligibleAmount)||void 0===t?void 0:t.value)||(null==l?void 0:null===(n=l.gcEligibleAmount)||void 0===n?void 0:n.value)===0,children:(0,o.tZ)(J.x,{fontWeight:700,px:{base:"3",md:"2"},children:`$${null==l?void 0:null===(i=l.gcEligibleAmount)||void 0===i?void 0:i.value}`})})]})},lv=n(76500),lp=n(1246),lh=n.n(lp),lg=n(79574),ly=n(6210),lk=n(87651),lZ={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FetchAverageSalePrice"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"currencyCode"}},type:{kind:"NamedType",name:{kind:"Name",value:"CurrencyCode"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVariant"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"variant"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"productId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVariant"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"market"},arguments:[{kind:"Argument",name:{kind:"Name",value:"currencyCode"},value:{kind:"Variable",name:{kind:"Name",value:"currencyCode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deadStock"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"averagePrice"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:306,source:{body:"\n  query FetchAverageSalePrice(\n    $productId: String!\n    $currencyCode: CurrencyCode\n    $isVariant: Boolean! = false\n  ) {\n    variant(id: $productId) @include(if: $isVariant) {\n      id\n      market(currencyCode: $currencyCode) {\n        deadStock {\n          averagePrice\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},lf=e=>{var t,n,i,l,a,r,o,s;let{selectedVariant:u,action:c,gaEventLabel:m,lowestAsk:v}=e,{currency:p}=(0,em.Z)(),{trackSegmentEvent:h}=(0,e3.Z)(),{data:g,loading:y}=(0,ey.Z)(lZ,{enabled:!!(null==u?void 0:u.id),variables:{productId:null==u?void 0:u.id,currencyCode:p,isVariant:!0}}),k=(null==g?void 0:null===(i=g.variant)||void 0===i?void 0:null===(n=i.market)||void 0===n?void 0:null===(t=n.deadStock)||void 0===t?void 0:t.averagePrice)||0,Z=null==u?void 0:null===(a=u.market)||void 0===a?void 0:null===(l=a.salesInformation)||void 0===l?void 0:l.lastSale,f=null==u?void 0:null===(s=u.product)||void 0===s?void 0:null===(o=s.traits)||void 0===o?void 0:null===(r=o.find(e=>(null==e?void 0:e.name)==="Retail Price"))||void 0===r?void 0:r.value,b=Z-(v||0),C=f-(v||0),S=!!v&&v<Math.ceil(.95*Z),_=c===t2.t.Buy&&!!f&&!!v&&v<f&&"USD"===p,x=c===t2.t.Buy&&v<k,N=S&&c===t2.t.Buy&&!!v,w=_&&!!v,E=x&&!y&&!!v,T=k-(v||0),I=(0,d.useCallback)(e=>{"This Price is Below Retail"===e&&h({eventName:e1.Z.BADGE_VIEWED,screenName:e2.Z.AMOUNT_ENTRY,type:"Below Retail",referencePrice:f,value:C}),"Lower Than Last Sale"===e&&h({eventName:e1.Z.BADGE_VIEWED,screenName:e2.Z.AMOUNT_ENTRY,type:"Lower Than Last Sale",referencePrice:Z,value:b}),"Great Value"===e&&h({eventName:e1.Z.BADGE_VIEWED,screenName:e2.Z.AMOUNT_ENTRY,type:"Lower Than Average Price",referencePrice:k,value:T})},[m,u,h,f,C,Z,b,k,T]);return(0,d.useEffect)(()=>{_&&I("This Price is Below Retail"),S&&I("Lower Than Last Sale"),x&&I("Great Value")},[C,T,_,x,S,b,I]),(0,d.useMemo)(()=>({belowRetailSavings:C,isTextBadgeShowing:N||w,lastSaleSavings:b,greatValueSavings:T,showBelowRetail:w,showGreatValue:E,showLastSale:N}),[C,b,T,w,E,N])},lb=n(32368),lC=n(14420),lS=n(50818),l_=n(45514);let lx=(0,nr.m)(tR.xu,{baseStyle:{px:{base:"4",md:"8"},width:"100%"}}),lN=e=>(0,o.tZ)(tR.xu,{children:(0,o.tZ)(lx,{children:e})}),lw=(0,nr.m)(tR.xu,{baseStyle:{mb:1,mt:2,borderTopWidth:"2px",borderTopStyle:"dotted",borderTopColor:"outline-secondary"}});var lE=e=>{let{amount:t,isOrderReview:n=!1,currency:i,learnMoreTracking:l,removePadding:a=!1,alignment:r="center",linkStyle:s}=e,u="base"===(0,tD.EN)(),{isLoading:c,message:m,disclaimer:v,impressionUrl:p,clickUrl:h}=(0,l_.Z)({shouldFetch:!0,amount:t,currency:i});return(0,d.useEffect)(()=>{p&&fetch(p,{method:"GET",mode:"no-cors"})},[p]),(0,o.BX)(o.HY,{children:[!!n&&(0,o.tZ)(lw,{}),(0,o.tZ)(lC.Z,{condition:!n&&a,wrapper:lN,children:(0,o.tZ)(H.k,{alignItems:"center",justifyContent:n?"left":r,fontSize:n||u?12:14,flexWrap:"wrap","data-testid":"paypalMessage",children:(0,o.tZ)(lb.l,{disableAnimation:!0,isLoaded:!c,height:"1rem",width:"80%",children:(0,o.tZ)(lS.Z,{message:m,clickUrl:h,disclaimer:v,clickHandler:()=>{l()},linkStyle:s})})})})]})},lT=n(52125),lI=n(50115);let lA=(0,nr.m)(H.k,{baseStyle:{width:"100%",justifyContent:"space-between",alignItems:"center",borderTopWidth:"2px",borderTopStyle:"dotted",borderTopColor:"outline-secondary",_first:{borderTop:"none"}}});var lB=e=>{let t,{name:n,showToolTip:i=!1,toolTipContent:l,toolTipIcon:a,value:r,isDiscountApplied:d,removeDiscount:s,groupInternal:u,containerStyles:c,addon:m,isLoaded:v=!0}=e,{step:p}=(0,eT.Z)();return(0,o.BX)(o.HY,{children:[(0,o.BX)(lA,{"data-component":"item-row",py:"3",...c,children:[m,(0,o.BX)(H.k,{width:"100%",justifyContent:"space-between",alignItems:"center",children:[(0,o.BX)(tR.xu,{width:{base:"70%",md:"auto"},children:[n,"discount_codes"===u&&p!==ew.j.BidEntry&&p!==ew.j.Review&&(0,o.tZ)(ly.h,{"aria-label":"Remove Discount",icon:(0,o.tZ)(lI.c,{color:"text-secondary",ml:"1",cursor:"pointer",boxSize:"5",verticalAlign:"text-top",onClick:s})}),i&&a]}),(0,o.tZ)(lr.N,{isLoaded:v,noOfLines:1,children:(0,o.tZ)(tR.xu,{"data-testid":"bid-total",bgColor:("discount_codes"===u&&(t="decorative-yellow"),(p===ew.j.BidEntry||p===ew.j.Review)&&d&&(t="transparent"),t),children:r})})]})]}),l]})};let lD=(0,nr.m)(e=>{let{isDiscountInputClicked:t,children:n,...i}=e;return(0,o.tZ)(tR.xu,{display:t?"flex":"block",...i,children:n})},{baseStyle:{justifyContent:"space-between",alignItems:"center",borderTopWidth:"2px",borderTopStyle:"dotted",borderTopColor:"outline-secondary",_first:{borderTop:"none"}}}),lP=(0,nr.m)(e=>{let{error:t,isDiscountInputClicked:n,children:i,...l}=e;return(0,o.tZ)(t9.I,{borderBottom:t||n?"2px solid":"none",borderColor:t?"error":"brand-secondary",color:t&&"error",...l,children:i})},{baseStyle:{_placeholder:{textAlign:"right"},"&.hide-cursor":{caretColor:"transparent"}}});var lF=e=>{let{discountCode:t,addDiscount:n,applyDiscount:i,isDiscountApplied:l,isDiscountInputClicked:a,onDiscountInputClick:r}=e,{t:d}=(0,j.$G)(),{pricing:s}=(0,tP.Z)();return(0,o.BX)(lD,{"data-component":"discount-wrapper",isDiscountInputClicked:a,children:[!l&&(0,o.tZ)(lB,{name:`${d("Discount Code")}`,value:(0,o.tZ)(lP,{"data-component":"discount-input",className:a?"":"hide-cursor",variant:"unstyled",placeholder:`${d("Add Discount +")}`,error:null==s?void 0:s.discount_error,isDiscountInputClicked:a,value:t,onChange:n,onClick:r})}),l?(0,o.tZ)(lB,{"data-component":"discount-applied",name:`${d("Discount Code")}`,value:`${d("Applied")}`}):a&&(0,o.tZ)(ee.z,{"data-component":"discount-apply-btn",variant:"secondary",ml:"3",onClick:i,children:d("Apply")})]})},lL=n(95837),lM=n(16434),lz=e=>{let{name:t,tooltipContent:n,value:i,onExpanderClick:l}=e,[a,r]=(0,d.useState)(!1);return(0,o.BX)(d.Fragment,{children:[(0,o.tZ)(lB,{name:(0,o.BX)(d.Fragment,{children:[t,(0,o.tZ)(ly.h,{size:"lg",p:"0px 4px",fontSize:"inherit","aria-label":"Question Mark",height:"unset",onClick:()=>{r(!a),l&&l()},children:(0,o.tZ)(lg.s,{color:"text-secondary",boxSize:"5"})})]}),value:i}),(0,o.tZ)(lk.U,{"data-testid":"collapsible",in:a,children:n})]})};let lR="international_processing",lO="international_processing_itemized";var l$=e=>{let t,{allIn:n,amount:i,code:l,groupInternal:a,isDDPEnabled:r,text:d,isDiscountApplied:s,currencyOverride:u}=e,{currency:c}=(0,em.Z)(),m=u||c,{t:v}=(0,j.$G)(),p=(0,A.Z)(B.Z.ab_checkout_sales_tax_web),h="variant_1"===p||"variant_2"===p,g="true"===(0,A.Z)(B.Z.ab_checkout_collapsible_price_review_web),y=(0,lM.Z)(m),k=(0,Y.Z)(),Z="number"==typeof i?tT.Z.getDollars(i,!1,y,m):i,f="ATHN"===l||"SHIP-FREE"===l?v("Free"):Z,b="",C=null,S=d;return s&&"discount_codes"===a&&"string"==typeof d&&d.length>15&&(S=`${d.substring(0,15)}...`),r&&n&&"vat_buyer"===a?(t=lz,b=(0,o.tZ)(j.cC,{i18nKey:"eu_vat_pricing_tooltip",components:[(0,o.tZ)(lL.w,{href:`https://help.stockx.com/s/article/How-will-EU-VAT-changes-affect-me-as-a-StockX-customer?language=${k}`,target:"_blank",rel:"noopener noreferrer"},"faq")]})):r&&!n&&a===lR?(t=lz,b=v("bundled_ddp_fee_tooltip"),h&&(S="Verification Fee",b=`${v("chk_sub_total_verification_fee_tooltip")} ${v("bundled_ddp_fee_tooltip")}`),g&&(S="Verification Fee",b=`${v("chk_sub_total_verification_fee_tooltip")} ${v("bundled_ddp_verification_fee_tooltip")}`)):a===lR||a===lO&&r&&n?(t=lz,b=v("processing_fee_tooltip"),h&&(S="Verification Fee",b=v("chk_sub_total_verification_fee_tooltip")),g&&(S="Verification Fee",b=v("chk_sub_total_verification_fee_tooltip")),C=()=>{}):r&&!n&&"import_duties_itemized"===a?(t=lz,b=v("import_duties_tooltip"),(h||g)&&(S="Verification Fee",b=`${v("chk_sub_total_verification_fee_tooltip")} ${v("import_duties_tooltip")}`),g&&(S="Verification Fee",b=`${v("chk_sub_total_verification_fee_tooltip")} ${v("import_duties_verification_tooltip")}`)):r&&!n&&a===lO?(t=lz,b=v("itemized_ddp_fee_tooltip"),(h||g)&&(S="Verification Fee",b=`${v("chk_sub_total_verification_fee_tooltip")} ${v("itemized_ddp_fee_tooltip_verification")}`)):t=lB,{Component:t,name:S,tooltipContent:b,value:f,onExpanderClick:C}},lG=e=>{let{allIn:t,amount:n,code:i,context:l,groupInternal:a,isDDPEnabled:r,percentage:d,text:s,isDiscountApplied:u,removeDiscount:c,currencyOverride:m}=e,{Component:v,name:p,tooltipContent:h,value:g,onExpanderClick:y}=l$({allIn:t,amount:n,code:i,context:l,groupInternal:a,isDDPEnabled:r,percentage:d,text:s,isDiscountApplied:u,currencyOverride:m});return(0,o.tZ)(v,{name:p,value:g,tooltipContent:h,onExpanderClick:y,isDiscountApplied:u,removeDiscount:c,groupInternal:a})},lX=n(39783),lU=n(50019),lV=e=>{let{imageHeight:t,imageWidth:n,imageMarginRight:i,bgColor:l,fontSize:a,iconLink:r,primaryText:d,textColor:s,fontWeight:u}=e,c=(0,lU.ff)(!1,!0);return(0,o.BX)(H.k,{alignItems:"center",backgroundColor:l,minH:"42px",children:[!c&&(0,o.tZ)(tR.xu,{height:t||"42px",overflow:"hidden",position:"relative",width:n||"42px",marginRight:i,children:(0,o.tZ)(W.Ee,{alt:d,decoding:"async",fetchpriority:"low",maxWidth:"120%",position:"absolute",src:`${r}?auto=format,compress&w=150&h=150&gif-q=50`,top:"-5px"})}),(0,o.tZ)(J.x,{fontSize:a,color:s,fontWeight:u,children:d})]})},lj=e=>{let{priceSavings:t}=e,{t:n}=(0,j.$G)(),i=(0,nK.Z)();return(0,o.tZ)(lV,{bgColor:"brand-tertiary",fontSize:"xs",iconLink:U.Z.getUrl("svg/icons/animations/flames.gif"),primaryText:n("chk_last_sale_badge",{priceSavings:i({number:t})}),textColor:"error"})},lH=e=>{let{priceSavings:t}=e,{t:n}=(0,j.$G)(),i=(0,nK.Z)();return(0,o.tZ)(lV,{fontSize:"xs",iconLink:U.Z.getUrl("svg/icons/animations/low_price.gif"),primaryText:n("chk_below_retail_savings_badge",{priceSavings:i({number:t})}),textColor:"error"})},lW=e=>{let{priceSavings:t}=e,{t:n}=(0,j.$G)(),i=(0,nK.Z)();return(0,o.tZ)(lV,{bgColor:"brand-tertiary",fontSize:"xs",iconLink:U.Z.getUrl("svg/icons/animations/diamond.gif"),primaryText:n("chk_great_value_badge",{priceSavings:i({number:t})}),textColor:"decorative-purple"})},lY=()=>{let{selectedVariant:e}=(0,F.Z)(),{action:t}=(0,t1.Z)(),{step:n}=(0,eT.Z)(),i=(0,d.useMemo)(()=>{switch(n){case ew.j.BidEntry:return R.qK.BuyingForm;case ew.j.Review:return R.qK.BuyingConfirm;default:return null}},[n]),{lowestAsk:l}=(0,ie.Z)(),{belowRetailSavings:a,lastSaleSavings:r,greatValueSavings:s,showBelowRetail:u,showGreatValue:c,showLastSale:m}=lf({selectedVariant:e,action:t,gaEventLabel:i,lowestAsk:null==l?void 0:l.amount});return m?(0,o.tZ)(H.k,{justifyContent:"flex-end",children:(0,o.tZ)(lj,{priceSavings:r})}):u?(0,o.tZ)(H.k,{justifyContent:"flex-end",children:(0,o.tZ)(lH,{priceSavings:a})}):c?(0,o.tZ)(H.k,{justifyContent:"flex-end",children:(0,o.tZ)(lW,{priceSavings:s})}):null};let lK=e=>{let{children:t}=e;return(0,o.tZ)(tR.xu,{as:"span",fontWeight:"700",children:t})};var lq=e=>{var t,n,i,l;let{userHoldings:a}=e,{t:r}=(0,j.$G)("feature.giftcards");return(0,o.BX)(lb.l,{isLoaded:!!(null==a?void 0:null===(t=a.gcEligibleAmount)||void 0===t?void 0:t.value)||(null==a?void 0:null===(n=a.gcEligibleAmount)||void 0===n?void 0:n.value)===0,height:"2rem",children:[(0,o.tZ)(lB,{name:r("Gift Card"),value:`-$${null==a?void 0:null===(i=a.gcEligibleAmount)||void 0===i?void 0:i.value}`}),(0,o.tZ)(J.x,{fontSize:"sm",children:r("Remaining Balance",{balance:`$${null==a?void 0:null===(l=a.gcRemainingBalance)||void 0===l?void 0:l.value}`})})]})},lQ=n(80537),lJ=n.n(lQ);let l0=e=>{let{children:t,isLoaded:n}=e;return(0,o.tZ)(lr.N,{noOfLines:1,isLoaded:n,children:t})};var l1=e=>{let t,n,{context:i,includeTax:l,isDDPEnabled:a,multi:r,payoutEnabled:d,qty:s,total:u,currencyOverride:c,isGCApplied:m,isValueLoaded:v}=e,{t:p}=(0,j.$G)(),{currency:h}=(0,em.Z)(),g=c||h,y=(0,lM.Z)(g),k=!lJ()(s)||s>0?tT.Z.getDollars(u,!1,y,g):"--";return t=r?(0,o.BX)(tR.xu,{as:"span",children:[(0,o.tZ)(lK,{children:s})," ",p("Total Items")]}):p("buy"===i&&a&&l?"Total (incl. tax)*":"sell"!==i||d||"KRW"!==g?"sell"!==i||d?"sell"===i?"Total Payout":"Total":"Payout Estimate":"Total"),n=r?(0,o.BX)(tR.xu,{as:"span",children:[p("Est. Total Payout")," ",(0,o.tZ)(lK,{children:k})]}):(0,o.tZ)(lK,{children:k}),m&&(t=(0,o.tZ)(l0,{isLoaded:v,children:(0,o.BX)(lK,{children:[" ",t]})}),n=(0,o.tZ)(l0,{isLoaded:v,children:n})),(0,o.tZ)(lB,{name:t,value:n})},l2=n(51525),l5=n.n(l2),l3=n(29650),l4=n(5740);let l7=["US","CA"];var l9=()=>{var e,t;let{t:n}=(0,j.$G)(),{pricing:i}=(0,tP.Z)(),{userInEU:l}=(0,l3.Z)(),a=(0,l4.Z)(),r=(null==i?void 0:null===(e=i.flags)||void 0===e?void 0:e.ddpEnabled)||!1,o=(null==i?void 0:null===(t=i.flags)||void 0===t?void 0:t.allIn)||!1,d=[];if(r&&o&&l7.includes(a))d.push(n("not_europe_all_in_disclaimer"));else if(o&&(l||"GB"===a||"KR"===a))d.push(n("eu_all_in_disclaimer")),"NL"===a&&d.push(n("eu_vat_order_review_disclaimer_nl"));else if(o&&"AU"===a)d.push(n("australia_all_in_disclaimer"));else if(r&&o)d.push(n("buy_flow_all_in_disclaimer"));else if(r||o||"US"!==a){if(r||o){if(r&&!o)switch(a){case"AU":d.push(n("australia_ddp_disclaimer"));break;case"SA":d.push(n("saudi_arabia_ddp_disclaimer"));break;case"SG":d.push(n("singapore_ddp_disclaimer"))}}else d.push(n("intl_ddu_disclaimer"))}else d.push(n("us_ddu_disclaimer"));return d};let l8=e=>{let{amount:t,localAmount:n,localCurrency:i}=e;return tT.Z.getDollars(n||t,!1,(0,lM.Z)(i),i||"USD")};var l6=e=>{var t,n,i,l,a;let{action:r,cancellationFees:s,context:u,discountChangeHandler:c=()=>void 0,hideDisclaimers:m=!1,portfolioItemDiscountCode:v,currencyOverride:p}=e,{trackSegmentEvent:h}=(0,e3.Z)(),[g,y]=(0,d.useState)(""),{pricing:k}=(0,tP.Z)(),{discountCode:Z}=(0,iZ.Z)(),{step:f}=(0,eT.Z)(),{currency:b}=(0,em.Z)(),C=p||b,S=(0,_.Z)(),{userInEU:x}=(0,l3.Z)(),N=l9(),[w,E]=(0,d.useState)(!1),{t:T}=(0,j.$G)(),I=(0,l4.Z)(),A=(0,Y.Z)(),B=(0,lM.Z)(C),D=(null==k?void 0:null===(t=k.flags)||void 0===t?void 0:t.ddpEnabled)||!1,P=(null==k?void 0:null===(n=k.flags)||void 0===n?void 0:n.allIn)||!1,F=l5()(null==k?void 0:k.adjustments,["text","Sales Tax"]),L=(0,d.useMemo)(()=>{switch(r){case t2.t.Buy:return R.qK.BuyNowForm;case t2.t.Bid:return R.qK.PlaceBidForm;case t2.t.Sell:return ii.SS.SellNowForm;case t2.t.Ask:return ii.SS.PlaceAskForm;default:return null}},[r]),M=(0,d.useCallback)(()=>{h({eventName:e1.Z.ADD_DISCOUNT,screenName:e2.Z.AMOUNT_ENTRY})},[L,h]),z=(0,d.useCallback)(()=>{y(""),c(g),E(!1)},[g]);(0,d.useEffect)(()=>{""===g&&""===Z&&z()},[g,Z,z]),(0,d.useEffect)(()=>{v&&(y(v),c(v))},[v,c]);let $=(0,d.useMemo)(()=>{switch(r){case t2.t.Bid:return T("Bid");case t2.t.Buy:return T("Purchase Price");case t2.t.Ask:return T("Ask");case t2.t.Sell:return T("Sale Price");default:return""}},[r,T]),G=!!(null==s?void 0:null===(i=s.penalties)||void 0===i?void 0:i.length),X=null==s?void 0:null===(l=s.penalties)||void 0===l?void 0:l.map(l8),U=null==s?void 0:null===(a=s.refunds)||void 0===a?void 0:a.map(l8),V=(0,d.useMemo)(()=>{let e=[];return f!==ii.if.AmountEntry||u!==O.T.Sell||(null==k?void 0:k.payout_enabled)?m||f===ew.j.BidEntry||(u===O.T.Buy?e.push(...N):u!==O.T.Sell||(P&&"AU"===I?e.push(T("sell_flow_australia_all_in_disclaimer")):P&&x?e.push(T("eu_vat_sell_flow_disclaimer")):P&&e.push(T("sell_flow_all_in_disclaimer")),(null==k?void 0:k.payout_enabled)||"KRW"===C||e.push(T("Payout issued in USD")))):e.push((0,o.tZ)(j.cC,{i18nKey:"unsupported_currencies_disclaimer_faq",components:[(0,o.tZ)(lL.w,{isExternal:!0,href:`https://stockx.com/help/articles/How-do-I-use-KRW-Currency-on-StockX?language=${A}`},"return")]})),e},[f,u,D,P,I,k,C,m,x,A,T]);return{addDiscount:e=>{var t;y(tT.Z.convertFullToHalf(null==e?void 0:null===(t=e.currentTarget)||void 0===t?void 0:t.value))},allIn:P,applyDiscount:()=>{h({eventName:e1.Z.SAVE_CLICKED,screenName:e2.Z.AMOUNT_ENTRY}),c(g)},cancelledSale:G,context:u,transactionType:$,disclaimers:V,discountCode:g,includeTax:F,isDDPEnabled:D,isDiscountInputClicked:w,isLoggedIn:S,onDiscountInputClick:()=>{E(!0),M()},penalties:X,refunds:U,removeDiscount:z,round:B}};let ae=(0,nr.m)(tR.xu,{baseStyle:{bg:"outline-secondary",border:"1px solid",borderColor:"text-primary",mb:2,padding:3}});var at=e=>{var t,n,i,l;let{action:a,cancellationFees:r,contained:s,context:u,discountChangeHandler:m,hideDisclaimers:v,hideDiscountControls:p,multi:h=!1,noHeader:g,portfolioItemDiscountCode:y,qty:k=1,showSubtotal:Z,currencyOverride:f,bnplPayment:b,userHoldings:C,isGCApplied:S}=e,{addDiscount:_,allIn:x,applyDiscount:N,cancelledSale:w,transactionType:E,disclaimers:T,discountCode:I,includeTax:A,isDDPEnabled:B,isDiscountInputClicked:D,isLoggedIn:P,onDiscountInputClick:L,penalties:M,refunds:z,removeDiscount:X,round:U}=l6({action:a,cancellationFees:r,context:u,discountChangeHandler:m,hideDisclaimers:v,portfolioItemDiscountCode:y,currencyOverride:f}),{t:V}=(0,j.$G)(),{product:W,selectedVariant:Y}=(0,F.Z)(),{trackSegmentEvent:K}=(0,e3.Z)(),{deliveryMethod:q}=(0,ik.Z)(),{deliveryDaysLowerBound:ee,deliveryDaysUpperBound:et,hasAdditionalDaysToShip:en,additionalDaysToShip:ei}=(null==W?void 0:W.shipping)??{},el=q!==R.Gl.Express&&en&&ei>0&&ee>0&&et>0,ea=V("chk_new_release_disclaimer",{brand:null==W?void 0:W.brand,lowerBound:ee+ei,upperBound:et+ei}),[er,eo]=(0,d.useState)(!1),{pricing:ed}=(0,tP.Z)(),{step:es}=(0,eT.Z)(),{currency:eu}=(0,em.Z)(),ec=a===t2.t.Buy||a===t2.t.Bid,ev=f||eu,ep=(0,$.Z)(null==W?void 0:W.listingType),eh=(0,G.Z)(null==W?void 0:W.listingType),eg=!!(null==ed?void 0:ed.adjustments.filter(e=>"discount_codes"===e.group_internal).length),{region:ey}=(0,n2.Z)(),{shippingAddress:ek}=(0,tH.Z)(),eZ=null==ek?void 0:ek.countryCodeAlpha2,ef=es===ew.j.BidEntry&&ec&&"CA"!==(eZ||ey),{lowestAsk:eb}=(0,ie.Z)(),{isTextBadgeShowing:eC}=lf({selectedVariant:Y,action:a,gaEventLabel:"",lowestAsk:null==eb?void 0:eb.amount});return ed?ef&&!w?(0,o.BX)(lX.Z,{"data-component":"multi-order-summary",contained:s,children:[el&&(0,o.tZ)(ae,{children:ea}),p||!P||ep?null:(0,o.tZ)(lF,{discountCode:I,addDiscount:_,applyDiscount:N,isDiscountApplied:eg,isDiscountInputClicked:D,onDiscountInputClick:L}),!w&&ed.adjustments.filter(e=>"discount_codes"===e.group_internal).map((e,t)=>(0,c.az)(lG,{...e,groupInternal:null==e?void 0:e.group_internal,isDDPEnabled:B,allIn:x,key:t,context:u,isDiscountApplied:eg,removeDiscount:X,currencyOverride:f})),(0,o.BX)(H.k,{flexDirection:"column",_notFirst:{borderTop:eC?"":"2px dotted #cfcfcf"},paddingTop:eC?"":"4",paddingBottom:"2",children:[(0,o.tZ)(lY,{}),(0,o.BX)(H.k,{justifyContent:"space-between",children:[(0,o.tZ)(J.x,{children:V("chk_item_price")}),(0,o.tZ)(J.x,{fontSize:"xl",fontWeight:"bold",children:tT.Z.getDollars(ed.subtotal,!1,U,ev)})]})]}),(0,o.tZ)(J.x,{fontSize:"sm",children:V("chk_remove_fees_disclaimer")}),ep&&(0,o.tZ)(J.x,{fontSize:"sm",children:V("money_nft_error",{firstBrandName:"Visa",secondBrandName:"Mastercard",thirdBrandName:"Discover"})})]}):(0,o.BX)(lX.Z,{"data-component":"multi-order-summary",contained:s,children:[g?null:(0,o.tZ)(tR.xu,{"data-component":"pane-header",py:4,children:(0,o.tZ)(Q.X,{as:"h1",variant:"medium",size:"3xl",children:V("Order Summary")})},"head"),el&&(0,o.tZ)(ae,{children:ea}),(0,o.BX)(tR.xu,{children:[Z?(0,o.tZ)(lB,{name:V("bs_order_summary_context",{transactionType:E}),value:tT.Z.getDollars(ed.subtotal,!1,U,ev)}):null,!w&&ed.adjustments.filter(e=>"discount_codes"!==e.group_internal).map((e,t)=>(0,c.az)(lG,{...e,groupInternal:null==e?void 0:e.group_internal,isDDPEnabled:B,allIn:x,key:t,context:u,isDiscountApplied:eg,removeDiscount:X,currencyOverride:f})),p||!P||ep?null:(0,o.tZ)(lF,{discountCode:I,addDiscount:_,applyDiscount:N,isDiscountApplied:eg,isDiscountInputClicked:D,onDiscountInputClick:L}),!w&&ed.adjustments.filter(e=>"discount_codes"===e.group_internal).map((e,t)=>(0,c.az)(lG,{...e,groupInternal:null==e?void 0:e.group_internal,isDDPEnabled:B,allIn:x,key:t,context:u,isDiscountApplied:eg,removeDiscount:X,currencyOverride:f})),null==M?void 0:M.map((e,t)=>(0,o.tZ)(lB,{value:e,name:"Cancellation Fee"},`penalty-${t}`)),null==z?void 0:z.map((e,t)=>(0,o.tZ)(lB,{value:e,name:"Cancellation Refund"},`refund-${t}`)),!w&&u===O.T.Buy&&S?(0,o.tZ)(lB,{name:(0,o.tZ)(lK,{children:V("Sub Total")}),value:(0,o.BX)(lK,{children:[" ",`$${null==ed?void 0:null===(t=ed.total)||void 0===t?void 0:t.toString()}`," "]})}):null,!w&&u===O.T.Buy&&S?(0,o.tZ)(lq,{userHoldings:C}):null,!w&&(0,o.tZ)(l1,{context:u,includeTax:A,isDDPEnabled:B,multi:h,payoutEnabled:ed.payout_enabled,qty:k,total:S?(null==C?void 0:null===(n=C.otherInstrumentAmount)||void 0===n?void 0:n.value)??0:ed.total,currencyOverride:f,isGCApplied:S,isValueLoaded:!!(null==C?void 0:null===(i=C.otherInstrumentAmount)||void 0===i?void 0:i.value)||(null==C?void 0:null===(l=C.otherInstrumentAmount)||void 0===l?void 0:l.value)===0}),"sell"!==u||(null==ed?void 0:ed.payout_enabled)||w?null:(0,o.tZ)(lB,{name:V("KRW"===ev?"unsupported_currencies_estimated_usd_payout":"Total Payout USD"),showToolTip:es===ew.j.Review,toolTipIcon:(0,o.tZ)(ly.h,{sx:{color:"green"},icon:(0,o.tZ)(lg.s,{boxSize:"5"}),"aria-label":"unsupported currency tooltip",size:"sm",isRound:!0,onClick:()=>{eo(!er)}}),toolTipContent:(0,o.tZ)(lk.U,{in:er,children:V("unsupported_currencies_payout_tooltip")}),value:(0,o.tZ)(J.x,{as:"span",fontSize:"md",variant:"bold",children:lh()(ed.totalUSD).format("$0,0.00")})})]}),!eh&&(0,o.tZ)(lT.Z,{disclaimers:T}),!!b&&b.isPreset&&b.paymentMethod===n_.yE.PaypalPayLater&&(0,o.tZ)(lE,{currency:eu,amount:ed.total,learnMoreTracking:()=>{K({eventName:e1.Z.LEARN_MORE_CLICKED,screenName:e2.Z.AMOUNT_ENTRY,type:"PayPal BNPL"})},isOrderReview:es===ew.j.Review})]}):null},an=n(62929),ai=n(68989),al=n(31713),aa=n(83149),ar=n(63623),ao=e=>{let{message:t,contextList:n,dateFormatter:i}=e;if(!(null==n?void 0:n.length))return t;let l=t;return null==n||n.forEach(e=>{let t=i(null==e?void 0:e.value,"day_of_week_long"),n=RegExp(`\\w*({${e.key}})\\w*`);l=null==l?void 0:l.replace(n,t)}),l},ad=()=>{var e;let t=(0,A.Z)(B.Z.feature_flex_131_web),{deliveryMethod:n}=(0,ik.Z)(),{selectedVariant:i}=(0,F.Z)(),l=(0,d.useMemo)(()=>{var e,t;return null==i?void 0:null===(t=i.deliveryOptions)||void 0===t?void 0:null===(e=t.methods)||void 0===e?void 0:e.find(e=>{var t;return(null==e?void 0:null===(t=e.type)||void 0===t?void 0:t.toUpperCase())===R.Gl.Express})},[null==i?void 0:i.deliveryOptions]),a=new Date,r=Math.floor((new Date(null==l?void 0:null===(e=l.delivery)||void 0===e?void 0:e.cutoffDate).getTime()-a.getTime())/6e4);return{remainingHours:Math.floor(r/60),remainingMins:r%60,shouldRenderCutoffDate:n===R.Gl.Express&&r>0&&(t&&r<=240||r<=60)}},as=()=>{var e,t;let{selectedVariant:n}=(0,F.Z)(),{deliveryMethod:i}=(0,ik.Z)(),{shouldRenderCutoffDate:l,remainingMins:a,remainingHours:r}=ad(),s=(0,ar.Z)(),u=(0,d.useMemo)(()=>{var e,t;return null==n?void 0:null===(t=n.deliveryOptions)||void 0===t?void 0:null===(e=t.methods)||void 0===e?void 0:e.find(e=>(null==e?void 0:e.type)===i)},[i,null==n?void 0:n.deliveryOptions]),c=(0,d.useMemo)(()=>{var e,t,n,i,l,o,d,s;if(!(null==u?void 0:null===(t=u.delivery)||void 0===t?void 0:null===(e=t.cutoffSummary)||void 0===e?void 0:e.context))return null==u?void 0:null===(s=u.delivery)||void 0===s?void 0:null===(d=s.cutoffSummary)||void 0===d?void 0:d.message;let c=null==u?void 0:null===(i=u.delivery)||void 0===i?void 0:null===(n=i.cutoffSummary)||void 0===n?void 0:n.message,m=null==u?void 0:null===(o=u.delivery)||void 0===o?void 0:null===(l=o.cutoffSummary)||void 0===l?void 0:l.context,v=RegExp(`\\w*({${m[0].key}})\\w*`),p=r?`${r} hours`:"",h=`${a} mins`,g=`${p} ${h}`;return null==c?void 0:c.replace(v,`${g}`)},[null==u?void 0:null===(e=u.delivery)||void 0===e?void 0:e.cutoffSummary]),m=(0,d.useMemo)(()=>{var e,t,n;return ao({message:null==u?void 0:null===(t=u.delivery)||void 0===t?void 0:null===(e=t.cutoffDeliveryDateSummary)||void 0===e?void 0:e.message,contextList:null==u?void 0:null===(n=u.delivery)||void 0===n?void 0:n.cutoffDeliveryDateSummary.context,dateFormatter:s})},[ao,s,null==u?void 0:null===(t=u.delivery)||void 0===t?void 0:t.cutoffDeliveryDateSummary]);return l?(0,o.BX)(J.x,{fontSize:"sm",width:"80%",whiteSpace:"pre-line",children:[(0,o.tZ)(J.x,{as:"span",color:"success",fontWeight:"semibold",children:c}),"\xa0",m]}):null},au=e=>{var t,n;let{deliveryMethod:i}=e,{shippingAddress:l}=(0,tH.Z)(),a=(0,A.Z)(B.Z.feature_flex_non_us_web),r=(0,A.Z)(B.Z.feature_flex_131_web),s=null==l?void 0:l.countryCodeAlpha2,{t:u}=(0,j.$G)(),{step:c}=(0,eT.Z)(),{selectedVariant:m}=(0,F.Z)(),v=(0,nK.Z)(),p=(0,ar.Z)(),{pricing:h}=(0,tP.Z)(),{shouldRenderCutoffDate:g}=ad(),y=(0,d.useMemo)(()=>{var e,t;return null==m?void 0:null===(t=m.deliveryOptions)||void 0===t?void 0:null===(e=t.methods)||void 0===e?void 0:e.some(e=>{var t,n,i;return(null==e?void 0:null===(t=e.type)||void 0===t?void 0:t.toUpperCase())===R.Gl.Express||r&&((null==e?void 0:null===(n=e.type)||void 0===n?void 0:n.toUpperCase())===R.Gl.ExpressExpedited||(null==e?void 0:null===(i=e.type)||void 0===i?void 0:i.toUpperCase())===R.Gl.ExpressStandard)})},[null==m?void 0:m.deliveryOptions]),k=(0,d.useMemo)(()=>{var e,t;return null==m?void 0:null===(t=m.deliveryOptions)||void 0===t?void 0:null===(e=t.methods)||void 0===e?void 0:e.find(e=>(null==e?void 0:e.type)===i)},[i,null==m?void 0:m.deliveryOptions]),Z=null==h?void 0:null===(t=h.adjustments)||void 0===t?void 0:t.find(e=>(null==e?void 0:e.group_internal)==="shipping"),f=(0,d.useMemo)(()=>{switch(null==k?void 0:k.type){case"EXPRESS":return ai.c;case"VAULT":return al.N;default:return aa.P}},[null==k?void 0:k.type]),b=(0,d.useMemo)(()=>{var e,t,n,i;return ao({message:null==k?void 0:null===(t=k.delivery)||void 0===t?void 0:null===(e=t.summary)||void 0===e?void 0:e.message,contextList:null==k?void 0:null===(i=k.delivery)||void 0===i?void 0:null===(n=i.summary)||void 0===n?void 0:n.context,dateFormatter:p})},[ao,p,null==k?void 0:null===(n=k.delivery)||void 0===n?void 0:n.summary]),C=(0,d.useMemo)(()=>(null==k?void 0:k.type)===R.Gl.Express?u("xpress_shipping"):(null==k?void 0:k.type)===R.Gl.Standard?u("standard_shipping"):(null==k?void 0:k.title)?null==k?void 0:k.title:u("chk_cross_buy_ship_to_radio_button"),[k]);return(0,o.tZ)(lv.Z,{my:c===ew.j.Review?{base:2,md:4}:null,children:(0,o.tZ)(lo,{"data-component":"multi-settings",children:(0,o.BX)(H.k,{"data-testid":"delivery-details-summary",w:"full",justifyContent:"space-between",alignItems:"center",children:[(0,o.BX)(ls,{isOrderReview:!0,w:"full",children:[(0,o.tZ)(lu,{"data-component":"settings-decoration",children:(0,o.tZ)(an.J,{as:f,boxSize:6})}),(0,o.BX)(iH.g,{alignItems:"flex-start",spacing:"1",w:"full",children:[(0,o.tZ)(J.x,{children:C}),(0,o.tZ)(as,{}),y&&b&&!g&&(0,o.tZ)(J.x,{fontSize:"xs",children:u(b)}),!y&&c===ew.j.BidEntry&&("US"===s||("CA"===s||"MX"===s)&&a)&&(0,o.tZ)(J.x,{p:"1",backgroundColor:"background-accent-1",fontSize:"xs",children:u("xpress_shipping_not_available")}),c===ew.j.Review&&!g&&(0,o.tZ)(J.x,{fontSize:"xs",children:null==k?void 0:k.description})]})]}),c===ew.j.BidEntry&&Z&&y&&(0,o.tZ)(J.x,{children:v({number:(null==Z?void 0:Z.amount)||0,round:!1})})]})})})},ac=n(38221),am=()=>{let{t:e}=(0,j.$G)();return(0,o.tZ)(H.k,{alignItems:"center",borderColor:"outline-secondary","data-component":"vault-summary-wrapper",width:"100%",children:(0,o.BX)(ls,{"data-component":"vault-details","data-testid":"vault-summary",children:[(0,o.tZ)(lu,{"data-component":"vault-decoration",children:(0,o.tZ)(al.N,{boxSize:6,color:"neutral.400",maxHeight:"100%"})}),(0,o.tZ)(J.x,{children:e("stockx_portfolio")})]})})},av=e=>{let{editShipping:t,listingType:n}=e,{t:i}=(0,j.$G)(),{shippingAddress:l}=(0,tH.Z)(),{trackSegmentEvent:a}=(0,e3.Z)(),{product:r,portfolioItem:s}=(0,F.Z)(),u=(0,d.useCallback)(()=>{r&&a({eventName:e1.Z.EDIT_CLICKED,screenName:e2.Z.AMOUNT_ENTRY,type:"Address"}),t&&t()},[r,l,t,s,a]);return(0,$.Z)(n)?(0,o.tZ)(am,{}):(0,o.BX)(H.k,{justifyContent:"space-between",alignItems:"center",borderColor:"outline-secondary","data-component":"settings-details-wrapper",width:"100%",children:[(0,o.BX)(ls,{"data-component":"settings-details","data-testid":"shipping-summary",children:[(0,o.tZ)(lu,{"data-component":"settings-decoration",children:(0,o.tZ)(ac.o,{boxSize:"6"})}),(null==l?void 0:l.streetAddress)||i("No Shipping Info Provided")]}),t?(0,o.tZ)(ee.z,{variant:"link-underline",color:"brand-primary",fontSize:"xs",textTransform:"uppercase",height:"auto",padding:"0","data-testid":"bidask-edit-shipping",onClick:u,children:i("Edit")}):null]})},ap=n(6626),ah=e=>{let{preferredAccountIsExpired:t}=e,{t:n}=(0,j.$G)();return(0,o.BX)(o.HY,{children:["-",(0,o.BX)(J.x,{color:"red.500",children:["\xa0",n("card_expired",{expiryMonth:null==t?void 0:t.expiryMonth,expiryYear:null==t?void 0:t.expiryYear})]})]})},ag=e=>{var t,n,i;let{isCardExpiredEnabled:l,editable:a=!0,editPaymentSettings:r=()=>null,isOrderReview:s=!1,isGCApplied:u,userHoldings:c,preferredAccountIsExpired:m}=e,{t:v}=(0,j.$G)(),p=(0,d.useMemo)(()=>v("Please add a payment method"),[v]),{customerVaultedAccount:h,selectedPayment:g}=(0,iR.Z)(),y=null==g?void 0:g.paymentType,k=null==g?void 0:g.paymentSubType;return y&&(y===n_.Lt.BNPL?p=(0,o.BX)(H.k,{justifyContent:"center",alignItems:"center",children:[(0,o.tZ)(W.Ee,{...n_.LM.paypalpaylater,h:["24px","35px"],m:"5px"})," ",(0,o.tZ)(J.x,{children:"Pay Later"})]}):y===n_.Lt.LPM||y===n_.Lt.APM?p=(0,o.BX)(H.k,{justifyContent:"center",alignItems:"center",children:[(0,o.tZ)(W.Ee,{...g.meta,h:["24px","35px"],m:"5px"}),(0,o.BX)(J.x,{pl:"2",children:[v("Paying with")," ",g.meta.alt]})]}):h&&(p=h)),(0,o.BX)(H.k,{justifyContent:"space-between",alignItems:"center",borderColor:"outline-secondary",width:"100%",children:[(0,o.BX)(ls,{isOrderReview:s,"data-component":"settings-details","data-testid":"buyer-payment-summary",children:[(0,o.tZ)(lu,{"data-payment-type":y,"data-payment-sub-type":k,"data-component":"settings-decoration","data-qm-allow":"true",children:(0,o.tZ)(ap.$,{boxSize:"6"})}),p,l&&m&&y===n_.Lt.CreditCard?(0,o.tZ)(ah,{preferredAccountIsExpired:m}):null]}),!!u&&(0,o.tZ)(lr.N,{noOfLines:1,isLoaded:!!(null==c?void 0:null===(t=c.otherInstrumentAmount)||void 0===t?void 0:t.value)||(null==c?void 0:null===(n=c.otherInstrumentAmount)||void 0===n?void 0:n.value)===0,children:(0,o.tZ)(J.x,{fontWeight:700,px:{base:"3",md:"2"},children:`$${null==c?void 0:null===(i=c.otherInstrumentAmount)||void 0===i?void 0:i.value}`})}),a&&(0,o.tZ)(ee.z,{variant:"link-underline",color:"brand-primary",fontSize:"xs",textTransform:"uppercase",height:"auto","data-testid":"bidask-edit-payment",padding:"0",onClick:r,children:v("Edit")})]})},ay=n(49566),ak=e=>{let{isOrderReview:t,idType:n,isExpired:i,idValue:l}=e,{t:a}=(0,j.$G)(),{setStep:r}=(0,eT.Z)();return(0,o.BX)(H.k,{"data-component":"settings-details-wrapper",justifyContent:"space-between",alignItems:"center",width:"100%",children:[(0,o.BX)(ls,{"data-component":"settings-details","data-testid":"taxid-summary",children:[(0,o.tZ)(lu,{"data-component":"settings-decoration",children:(0,o.tZ)(ay.D,{boxSize:6})}),(0,o.tZ)(J.x,{color:i?"error":"",children:`${n}: ${l}${i?` - ${a("eu_vat_expired")}`:""}`})]}),!t&&(0,o.tZ)(ee.z,{variant:"link-underline",color:"brand-primary",fontSize:"xs",textTransform:"uppercase",height:"auto",padding:"0","data-testid":"regulatory-id-edit-icon",onClick:()=>r(ew.j.RegulatoryId),children:a("Edit")})]})},aZ=n(49855),af=n(68099),ab=n(49259),aC=n(87436),aS=n(95897),a_=n(74008),ax=e=>{let{priceSavings:t}=e,{t:n}=(0,j.$G)(),i=(0,nK.Z)();return(0,o.tZ)(lV,{fontSize:"xs",iconLink:U.Z.getUrl("svg/icons/animations/low_price.gif"),primaryText:n("chk_below_retail_savings_badge",{priceSavings:i({number:t})}),textColor:"error",fontWeight:"600"})},aN=e=>{let{priceSavings:t}=e,{t:n}=(0,j.$G)(),i=(0,nK.Z)();return(0,o.tZ)(lV,{bgColor:"brand-tertiary",fontSize:"xs",iconLink:U.Z.getUrl("svg/icons/animations/flames.gif"),primaryText:n("chk_last_sale_badge",{priceSavings:i({number:t})}),textColor:"error",fontWeight:"600",imageHeight:"24px",imageWidth:"24px",imageMarginRight:"2"})},aw=e=>{let{priceSavings:t}=e,{t:n}=(0,j.$G)(),i=(0,nK.Z)();return(0,o.tZ)(lV,{bgColor:"brand-tertiary",fontSize:"xs",iconLink:U.Z.getUrl("svg/icons/animations/diamond.gif"),primaryText:n("chk_great_value_badge",{priceSavings:i({number:t})}),textColor:"decorative-purple",fontWeight:"600",imageHeight:"24px",imageWidth:"24px",imageMarginRight:"2"})},aE=()=>{var e,t,n;let{selectedVariant:i}=(0,F.Z)(),{action:l}=(0,t1.Z)(),{step:a}=(0,eT.Z)(),r=(0,d.useMemo)(()=>{switch(a){case ew.j.BidEntry:return R.qK.BuyingForm;case ew.j.Review:return R.qK.BuyingConfirm;default:return null}},[a]),{deliveryMethod:s}=(0,ik.Z)(),{lowestAsk:u}=(0,ie.Z)(),c=null==i?void 0:null===(n=i.deliveryOptions)||void 0===n?void 0:null===(t=n.methods)||void 0===t?void 0:null===(e=t.find(e=>(null==e?void 0:e.type)===R.Gl.Express))||void 0===e?void 0:e.lowestAsk,{belowRetailSavings:m,lastSaleSavings:v,greatValueSavings:p,showBelowRetail:h,showGreatValue:g,showLastSale:y}=lf({selectedVariant:i,action:l,gaEventLabel:r,lowestAsk:s===R.Gl.Express?c:null==u?void 0:u.amount});return y?(0,o.tZ)(H.k,{marginTop:"-12px",justifyContent:"flex-end",children:(0,o.tZ)(aN,{priceSavings:v})}):h?(0,o.tZ)(H.k,{marginTop:"-12px",justifyContent:"flex-end",children:(0,o.tZ)(ax,{priceSavings:m})}):g?(0,o.tZ)(H.k,{marginTop:"-12px",justifyContent:"flex-end",children:(0,o.tZ)(aw,{priceSavings:p})}):null},aT=n(51516),aI=e=>{let{name:t,tooltipContent:n,value:i}=e,[l,a]=(0,d.useState)(!1);return(0,o.BX)(d.Fragment,{children:[(0,o.tZ)(lB,{name:(0,o.BX)(d.Fragment,{children:[t,(0,o.tZ)(ly.h,{size:"lg",p:"0px 4px",fontSize:"inherit","aria-label":"Question Mark",height:"unset",onClick:()=>{a(!l)},children:(0,o.tZ)(lg.s,{color:"text-secondary",boxSize:"5"})})]}),isLoaded:!!i||0===i,value:`-$${i}`}),(0,o.tZ)(lk.U,{"data-testid":"collapsible",in:l,children:n})]})},aA=()=>{var e,t,n,i;let{t:l}=(0,j.$G)(),{pricing:a}=(0,tP.Z)(),{currency:r}=(0,em.Z)(),{step:s}=(0,eT.Z)(),u=(0,lM.Z)(r),{trackSegmentEvent:m}=(0,e3.Z)(),v=l9(),{t:p}=(0,j.$G)("feature.giftcards"),{payments:{isGCApplied:h}}=(0,d.useContext)(ea.Z),{data:g}=(0,aT.Z)({price:null==a?void 0:a.total,currency:r,isEnabled:!!h,includeEligibleAmount:!0}),y=(null==a?void 0:null===(e=a.flags)||void 0===e?void 0:e.ddpEnabled)||!1,k=(null==a?void 0:null===(t=a.flags)||void 0===t?void 0:t.allIn)||!1,Z=!!(null==a?void 0:a.adjustments.filter(e=>"discount_codes"===e.group_internal).length),f=h?null==g?void 0:null===(i=g.eligibleAmount)||void 0===i?void 0:null===(n=i.remainingAmount)||void 0===n?void 0:n.value:null==a?void 0:a.total,b=(lJ()(1),tT.Z.getDollars(f,!1,u,r)),C=(0,o.tZ)(lK,{children:b});return(0,o.tZ)(ab.U,{allowToggle:!0,onChange:()=>{m({eventName:e1.Z.CHECKOUT_SUBTOTAL_CLICKED,screenName:s===ew.j.BidEntry?e2.Z.AMOUNT_ENTRY:e2.Z.REVIEW})},children:(0,o.tZ)(aC.Q,{border:"none",children:e=>{var t,n;let{isExpanded:i}=e;return(0,o.BX)(o.HY,{children:[(0,o.tZ)(aS.K,{w:"full",p:"0",_hover:{backgroundColor:"background-primary"},children:(0,o.BX)(H.k,{flexDir:"column",w:"full",children:[(0,o.tZ)(aE,{}),(0,o.BX)(H.k,{justifyContent:"space-between",w:"full",alignItems:"center",children:[(0,o.tZ)(J.x,{children:s===ew.j.BidEntry?l("chk_sub_total"):l("chk_total_price")}),(0,o.BX)(H.k,{alignItems:"center",children:[(0,o.tZ)(J.x,{mr:"2",color:"brand-primary",fontWeight:"bold",children:(0,o.tZ)(lr.N,{isLoaded:!!f||0===f,noOfLines:1,children:C})}),i?(0,o.tZ)(aZ.i,{boxSize:6}):(0,o.tZ)(af.J,{boxSize:6})]})]})]})}),i?(0,o.BX)(o.HY,{children:[(0,o.tZ)(iH.g,{spacing:5,divider:(0,o.tZ)(tR.xu,{ml:"0",width:{base:"calc(100% + 2rem)",sm:"calc(100% + 6rem)",md:"calc(100% + 2.50rem)"},children:(0,o.tZ)(iW.c,{borderColor:"background-accent-3"})})}),!!(null==a?void 0:a.subtotal)&&(0,o.BX)(o.HY,{children:[(0,o.tZ)(a_.i,{borderColor:"background-accent-3",my:"4",ml:"-20px",opacity:"1",width:"calc(100% + 40px)"}),(0,o.BX)(tR.xu,{width:"100%",children:[(0,o.tZ)(tR.xu,{py:"3",children:(0,o.BX)(H.k,{justifyContent:"space-between",width:"100%",children:[(0,o.tZ)(J.x,{fontSize:"md",children:l("chk_item_price")}),(0,o.tZ)(J.x,{fontSize:"md",children:tT.Z.getDollars(a.subtotal,!1,u,r)})]})}),a.adjustments.map((e,t)=>(0,c.az)(lG,{...e,groupInternal:null==e?void 0:e.group_internal,isDDPEnabled:y,allIn:k,key:t,context:O.T.Buy,isDiscountApplied:Z})),h?(0,o.tZ)(aI,{name:p("Gift Card Estimate"),value:null==g?void 0:null===(n=g.eligibleAmount)||void 0===n?void 0:null===(t=n.eligibleAmount)||void 0===t?void 0:t.value,tooltipContent:p("Final price shown on next step")}):null,(0,o.tZ)(lB,{containerStyles:{_last:{borderTopWidth:"1px",borderTopStyle:"solid",flexDirection:"column",alignItems:"flex-end"}},name:s===ew.j.BidEntry?l("Sub Total"):`${l("Total")}*`,isLoaded:!!f||0===f,value:C})]})]}),s===ew.j.BidEntry?(0,o.tZ)(J.x,{fontSize:"sm",color:"text-secondary",mt:"4",children:l("chk_sub_total_menu_copy")}):(0,o.tZ)(lT.Z,{disclaimers:v})]}):(0,o.tZ)(J.x,{fontSize:"sm",color:"text-secondary",mt:"4",children:s===ew.j.BidEntry?l("chk_sub_total_menu_copy"):l("chk_sub_total_menu_copy_with_sales_tax")})]})}})})},aB=n(10681),aD=()=>{let e="variant"===(0,A.Z)(B.Z.ab_checkout_secure_payment_disclaimer),{t}=(0,j.$G)();return e?(0,o.BX)(H.k,{justifyContent:"center",alignItems:"center",marginTop:"2",color:"text-secondary",children:[(0,o.tZ)(aB.O,{}),(0,o.tZ)(J.x,{size:"sm",marginLeft:"1",children:t("secure_payment_disclaimer")})]}):null},aP=n(33348),aF=n(51210),aL=n(59879),aM=e=>{let{trackScreen:t,trackEvent:n}=e,{step:i}=(0,eT.Z)(),{t:l}=(0,j.$G)("feature.hubbox"),{deliveryOption:a}=(0,nk.Z)(),[r,s]=(0,d.useState)(!1),u=i===ew.j.Success,c="true"===(0,A.Z)(B.Z.ab_checkout_hubbox),m=(0,d.useMemo)(()=>{var e;return(null==a?void 0:null===(e=a.message)||void 0===e?void 0:e.address)?`${a.message.address.street1}, ${a.message.address.city}, ${a.message.address.region}`:""},[a]);if(c&&(null==a?void 0:a.topic)!=="HOME_DELIVERY")return(0,o.BX)(o.HY,{children:[(0,o.tZ)(tz.W,{p:"0",children:(0,o.BX)(H.k,{justifyContent:"space-between",children:[(0,o.BX)(H.k,{children:[(0,o.tZ)(tR.xu,{mr:"3",children:(0,o.tZ)(aF.J,{boxSize:6})}),(0,o.BX)(H.k,{flexDir:"column",children:[(0,o.tZ)(J.x,{fontSize:"md",children:l("Pickup")}),(0,o.tZ)(J.x,{fontSize:"xs",children:m})]})]}),u&&(0,o.tZ)(J.x,{role:"presentation",onClick:()=>{s(!0),n({eventName:e1.Z.PICKUP_DETAILS_CLICKED,screenName:e2.Z.CONFIRMATION})},textDecoration:"underline",fontSize:"xs",cursor:"pointer",color:"green.800",children:l("Pick Up Details")})]})}),(0,o.tZ)(aL.Z,{closeModal:()=>{s(!1)},isModalOpen:r,trackScreen:t})]})},az=n(50224),aR=n(98316),aO=n(75371),a$=e=>{let{editable:t=!0,taxDetails:n,taxRegistration:i}=e,{t:l}=(0,j.$G)();return n?(0,o.BX)(H.k,{"data-component":"settings-details-wrapper",justifyContent:"space-between",alignItems:"center",width:"100%","data-testid":"tax-id-summary",children:[(0,o.BX)(ls,{"data-component":"settings-details",children:[(0,o.tZ)(lu,{"data-component":"settings-decoration",children:(0,o.tZ)(ay.D,{boxSize:6})}),(null==i?void 0:i.idStatus)===az.Z.Declined?(0,o.tZ)(J.x,{color:"red.500",children:l("tax_registration_declined_id",{idType:null==i?void 0:i.idType,idValue:null==i?void 0:i.idValue})}):(0,o.tZ)(aR.Z,{registrationType:n.registrationType})]}),t&&(0,o.tZ)(aO.Z,{registrationType:n.registrationType,context:O.T.Buy,hidden:!n||!t,displayStatus:!0,children:l((null==i?void 0:i.idValue)?"Edit":"Add")})]}):null},aG=n(43655),aX=n(5806);let aU=["DE","FR","IT"];var aV=n(82713),aj=n(11082),aH=n(60511),aW=n(93174),aY=n.n(aW),aK={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ThreeDS"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"countryCode"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"compliance"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"threeDS"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"required"},arguments:[{kind:"Argument",name:{kind:"Name",value:"countryCode"},value:{kind:"Variable",name:{kind:"Name",value:"countryCode"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"providerToken"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:189,source:{body:"\n  query ThreeDS($countryCode: String) {\n    viewer {\n      compliance {\n        threeDS {\n          required(countryCode: $countryCode)\n          providerToken\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},aq=()=>{var e,t;let{shippingAddress:n}=(0,tH.Z)(),i=(0,C.Z)(),{data:l,loading:a,refetch:r}=(0,ey.Z)(aK,{variables:{countryCode:(null==i?void 0:i.marketCountry)||(null==n?void 0:n.countryCodeAlpha2)},cacheTime:0,enabled:!1});return{refetch:r,braintree3DSAttrs:(null==l?void 0:null===(t=l.viewer)||void 0===t?void 0:null===(e=t.compliance)||void 0===e?void 0:e.threeDS)||{required:!1,providerToken:""},braintree3DSLoading:a}},aQ=n(58967),aJ=n(7704);let a0=e=>{var t,n,i,l,a,r,o,d,s,u,c,m,v,p,h,g;let{amount:y,nonce:k,customer:Z,bin:f,onLookupComplete:b,shippingAddress:C}=e,S={streetAddress:null==C?void 0:C.streetAddress,extendedAddress:null==C?void 0:C.extendedAddress,locality:null==C?void 0:C.locality,postalCode:null==C?void 0:C.postalCode,countryCodeAlpha2:null==C?void 0:C.countryCodeAlpha2};return{amount:y,nonce:k,bin:f,email:null==Z?void 0:Z.email,billingAddress:{givenName:null==Z?void 0:null===(n=Z.Billing)||void 0===n?void 0:null===(t=n.Address)||void 0===t?void 0:t.firstName,surname:null==Z?void 0:null===(l=Z.Billing)||void 0===l?void 0:null===(i=l.Address)||void 0===i?void 0:i.lastName,phoneNumber:null==Z?void 0:null===(r=Z.Billing)||void 0===r?void 0:null===(a=r.Address)||void 0===a?void 0:a.telephone,streetAddress:null==Z?void 0:null===(d=Z.Billing)||void 0===d?void 0:null===(o=d.Address)||void 0===o?void 0:o.streetAddress,extendedAddress:null==Z?void 0:null===(u=Z.Billing)||void 0===u?void 0:null===(s=u.Address)||void 0===s?void 0:s.extendedAddress,locality:null==Z?void 0:null===(m=Z.Billing)||void 0===m?void 0:null===(c=m.Address)||void 0===c?void 0:c.locality,postalCode:null==Z?void 0:null===(p=Z.Billing)||void 0===p?void 0:null===(v=p.Address)||void 0===v?void 0:v.postalCode,countryCodeAlpha2:null==Z?void 0:null===(g=Z.Billing)||void 0===g?void 0:null===(h=g.Address)||void 0===h?void 0:h.countryCodeAlpha2},additionalInformation:{shippingGivenName:null==C?void 0:C.firstName,shippingSurname:null==C?void 0:C.lastName,shippingPhone:null==C?void 0:C.telephone,shippingAddress:S},onLookupComplete:b}};var a1=e=>{let{setThreeDSError:t,setThreeDSLoading:n,amount:i,cardPaymentAccount:l,submit:a,selectedPaymentType:r}=e,o=(0,C.Z)(),s=(0,p.NL)(),{pricing:u}=(0,tP.Z)(),{t:c}=(0,j.$G)(),{selectedVariant:m,product:v}=(0,F.Z)(),{refetch:h,braintree3DSAttrs:{providerToken:g,required:y},braintree3DSLoading:k}=aq(),Z=(0,G.Z)(null==v?void 0:v.listingType),{shippingAddress:f}=(0,tH.Z)(),{action:b}=(0,t1.Z)(),{mutatefn:S}=(0,aQ.Z)(),_=null==l?void 0:l.provider.name,x="braintree"===_||!_||r===n_.yE.PaypalPayLater,N=null==l?void 0:l.bin,w=(0,nH.Z)(),{braintreeClient:E,loading:T}=(0,tM.Z)({shouldFetchBTtoken:x,productSKU:null==m?void 0:m.id}),I=(0,e4.Z)(),A=(0,d.useCallback)(e=>{let{type:t,label:n,traceId:i,id:l}=e;(0,e0.Z)(e1.Z.THREEDS_CHALLENGE_RESPONSE,{flow:b,type:t,label:n,attemptId:i,paymentsSessionId:l,psp:n_.h7.Braintree,screenName:e2.Z.REVIEW,...I,paymentMethodStatus:w})},[e0.Z,w]),B=(0,d.useCallback)(e=>{let{error:i="",traceId:l,id:a}=e;t(c("three_ds_auth_failed_error")),n(!1),A({type:i||n_.zV.liabilityShift,traceId:l,id:a})},[t,n,A,n_.zV]);return{handle3DS:async e=>{let{traceId:l,id:r,action:d=""}=e;n(!0);try{var m,v;if(!d&&!g){B({error:"Money service authentication error",id:r,traceId:l});return}let e=await aY().create({version:2,client:E});e.on("customer-canceled",async()=>{await e.cancelVerifyCard(()=>{A({type:n_.zV.dismiss,traceId:l,id:r}),t(c("three_ds_user_cancelled_error")),s.removeQueries(["ThreeDS"]),h()})});let n=String((null==u?void 0:null===(m=u.total)||void 0===m?void 0:m.toFixed(2))||i),{liabilityShifted:p,liabilityShiftPossible:y,threeDSecureInfo:{threeDSecureAuthenticationId:k,status:b}}=await e.verifyCard(a0({amount:n,nonce:d||g,customer:o,bin:N,onLookupComplete:(e,t)=>{t()},shippingAddress:f}));if((!p||!y)&&(aJ.fy.logger.info("LiabilityShift Failed",{traceId:l,sessionId:r,isCurrentProdGiftCard:Z,liabilityShifted:p,liabilityShiftPossible:y,threeDSStaus:b}),!Z||Z&&y&&!p)){B({id:r,traceId:l});return}A({type:n_.zV.success,traceId:l,id:r});let C=await S({CreateThreeDSAuthenticationInput:{moneySessionId:r,threeDSToken:k,liabilityShifted:p}},{context:{headers:{"x-checkout-trace-id":l}}});if((null==C?void 0:null===(v=C.createThreeDSAuthentication)||void 0===v?void 0:v.threeDSAuthStatus)!==n_.OH.AUTHENTICATED){B({error:"Money service authentication error",id:r,traceId:l});return}a({threeDSecureAuthenticationId:k,checkoutTraceId:l,moneySessionId:r})}catch(e){"THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT"!==e.code&&(t(c("three_ds_failed_error")),n(!1),A({type:n_.zV.liabilityShift,label:null==e?void 0:e.message,traceId:l,id:r}),s.removeQueries(["ThreeDS"]),h())}n(!1)},bt3DSRequired:y,threeDSComplianceLoading:T||k}},a2=n(37240),a5=n(22380),a3=n(91456),a4=e=>{var t,n;let{selectedVariant:i,currency:l,amount:a,discountCode:r,bnplPayment:o,isNFT:s,apmSelectedPaymentMethod:u,defaultPaymentAccount:c,isCheckoutFlow:m}=e,v=(0,d.useMemo)(()=>null==i?void 0:i.id,[i]),{action:p}=(0,t1.Z)(),{startMerchantInitiatedTransaction:h}=tc(),{pricing:g}=(0,tP.Z)(),y=(0,A.Z)(B.Z.web_enable_MaaS_for_nft),k=null==c?void 0:c.id,Z=null==c?void 0:null===(t=c.provider)||void 0===t?void 0:t.name,f=(0,a3.Z)(),b=null==c?void 0:null===(n=c.accountType)||void 0===n?void 0:n.toLowerCase(),{selectedLocalPaymentMethod:C}=(0,d.useContext)(ij.Z),S=(0,d.useMemo)(()=>!u&&!C&&!o.isPreset&&(!s||y)&&m&&!!k&&!!v,[u,C,o.isPreset,s,v,y,k,m]),_=(0,e5.Z)();return{fetchMoneySessionId:(0,d.useCallback)(async e=>{if(S||_.shouldAdd){let t,n;let i=null==g?void 0:g.total;(null==Z?void 0:Z.toLowerCase())==="adyen"&&(t=(0,a5.Z)(),n="bid"===p?"BID":"BUY_NOW");let a="creditcarduserpaymentaccount"===b?"creditcard":"paypal",o={name:a,key:a,providerKey:null==Z?void 0:Z.toLowerCase()};return await h({paymentAccountId:k,amount:i,currencyCode:l,country:f,chargeRef:v,discountCode:r,browserInfo:t,action:n,checkoutTraceId:e,gcInstrument:_,instrument:o})}return Promise.resolve({id:null,threeDSMetadata:null})},[k,a,l,v,r,Z,f,h,_,b])}},a7=e=>{var t;let{selectedVariant:n,currency:i,amount:l,discountCode:a,bnplPayment:r,isNFT:o,accountType:s,submit:u,adyen3DSModal:c,isCheckoutFlow:m,selectedLocalPaymentMethod:v,apmPayments:p}=e,{t:h}=(0,j.$G)(),[g,y]=(0,d.useState)(null),[k,Z]=(0,d.useState)(!1),[f,b]=(0,d.useState)(!1),S=(0,C.Z)(),{action:_}=(0,t1.Z)(),x=(0,e4.Z)(),{trackPlaceOrderAnalytics:N}=(0,e3.Z)(),{payments:{selectedPaymentMethod:w,paymentAccounts:E}}=(0,d.useContext)(ea.Z),T=E.find(e=>{var t;return e.isPreferred&&(null==e?void 0:null===(t=e.accountType)||void 0===t?void 0:t.toLowerCase())==="creditcarduserpaymentaccount"}),I=E.find(e=>e.isPreferred),A=iE({payments:p,selectedLocalPaymentMethod:v,bnplPayment:r,customer:S,getCCBrand:!1}),{fetchMoneySessionId:B}=a4({selectedVariant:n,currency:i,amount:l,discountCode:a,bnplPayment:r,isNFT:o,accountType:s,apmSelectedPaymentMethod:w,defaultPaymentAccount:I,isCheckoutFlow:m}),{handle3DS:D,threeDSComplianceLoading:P}=a1({setThreeDSError:y,setThreeDSLoading:Z,amount:l,cardPaymentAccount:T,submit:u,selectedPaymentType:A}),{handle3DS:F}=(0,a2.Z)({setThreeDSError:y,setThreeDSLoading:Z,submit:u,adyen3DSModal:c,setAdyen3DSModalOpen:b,flow:n_.fk.Checkout}),L=(0,nH.Z)(),M={braintree:D,adyen:F},z=(null==T?void 0:null===(t=T.provider)||void 0===t?void 0:t.name)||"braintree",R=z;return Object.values(n_.h7).includes(z)||(R="braintree"),{moneyDependenciesLoading:P||k,threeDSError:g,handleVaultedAccount:async e=>{let{checkoutTraceId:t}=e,n=null,i=null,l=null,a=null;Z(!0),y(null);try{let e=await B(t);({id:n,threeDSMetadata:l}=e&&(null==e?void 0:e.id)?e:{id:null,threeDSMetadata:null}),{action:i,isThreeDSEligible:a}=l||{action:null,isThreeDSEligible:null}}catch{y(h("try_with_another_payment_method")),Z(!1);return}Z(!1);let o="PayPal"!==s&&!r.isPreset,d=o&&a;o&&(0,e0.Z)(e1.Z.THREEDS_CHALLENGE,{flow:_,label:(d||!1).toString(),screenName:e2.Z.REVIEW,attemptId:t,paymentsSessionId:n,psp:R,...x,paymentMethodStatus:L}),d?(M[R]({id:n,action:i,traceId:t}),N({threeDSAuthenticationShown:!0,traceId:t})):u({moneySessionId:n,checkoutTraceId:t,threeDSAuthenticationShown:!1})},adyen3DSModalOpen:f}};let a9=(0,nr.m)(aj.r,{baseStyle:{textDecoration:"underline"}});var a8=n(47453),a6=n(52585),re=e=>{var t,n,i,l,a,r;let{blurbs:s,context:u,createPendingPayment:c,bnplPayment:m,localPaymentFetching:p,needsToAcceptHazmat:h,payments:g,selectedLocalPaymentMethod:y,submit:k}=e,{product:Z,selectedVariant:b,portfolioItem:S}=(0,F.Z)(),{trackSegmentScreen:_,trackSegmentEvent:x}=(0,e3.Z)(),w=(0,aG.Z)()===O.T.Buy,{t:E}=(0,j.$G)(),{action:T}=(0,t1.Z)(),A=(0,C.Z)(),{shippingAddress:B}=(0,tH.Z)(),{amount:D}=(0,eE.Z)(),{currency:P}=(0,em.Z)(),{pricing:L,isPricingFetching:M}=(0,tP.Z)(),z="base"===(0,tD.EN)(),{discountCode:R}=(0,iZ.Z)(),X=(0,$.Z)(null==b?void 0:null===(t=b.product)||void 0===t?void 0:t.listingType),U=(0,G.Z)(null==Z?void 0:Z.listingType),V=(0,d.useRef)(null),{sizeLocale:W}=(0,nU.Z)(),K=(0,v.v9)(tJ),{shouldAdd:q,otherChargeInstrumentValue:Q}=(0,e5.Z)(),ee=(0,d.useMemo)(()=>({total:q?Q:null==L?void 0:L.total}),[q,Q,null==L?void 0:L.total]),[et,en]=(0,d.useState)(!1),[ei,el]=(0,d.useState)(!1),[ea,er]=(0,d.useState)(!1),[ed,eu]=(0,d.useState)(null),[ec,ev]=(0,d.useState)(null),[ep,eh]=(0,d.useState)(null),[eg,ey]=(0,d.useState)(!1),[ek,eZ]=(0,d.useState)(1e3),ef=!!m&&(null==m?void 0:m.isPreset)&&(null==m?void 0:m.paymentMethod)===n_.yE.PaypalPayLater,{giftCardBuyForm:eb}=(0,d.useContext)(eo),eC=(null==g?void 0:null===(n=g.selectedPaymentMethod)||void 0===n?void 0:n.type.toLowerCase())==="cashapp",eS=i7.default.CASHAPP_PAYMENT_REDIRECT,e_=(0,v.I0)(),ex=(0,d.useCallback)(()=>{et||eu(null),en(!et)},[et,en,eu]),eN=(0,d.useCallback)(()=>{ei||ev(null),el(!ei)},[ei,el,ev]),ew=(0,d.useCallback)(()=>{ea||eh(null),er(!ea)},[ea,eh,er]),{cashAppInstance:eT,isCashAppLoaded:eI,cashAppError:eA,isCashAppDrawerOpen:eB,setIsCashAppDrawerOpen:eD}=(0,a6.Z)({pricing:ee,isCashAppEnabled:eC&&!z,isPricingFetching:M}),{postPaymentFailure:eP,paymentAccountsActions:{updateSelectedPayment:eF}}=g??{postPaymentFailure:()=>{},paymentAccountsActions:{updateSelectedPayment:()=>{}}},eL=(0,d.useCallback)(async e=>{let{chargeRef:t,pricing:n,currencyCode:i,checkoutTraceId:l,cashAppInstance:a}=e,r={chargeRef:t,pricing:n,currencyCode:i,checkoutTraceId:l,cashAppInstance:a};R&&(r.discountCode=R);let o=await (null==g?void 0:g.postPayment(r));eD(!1);let{moneySessionId:d}=o||{checkoutTraceId:null,moneySessionId:null};d&&k({moneySessionId:d,checkoutTraceId:l})},[R,g,e_,k,I.y$]),eM=(0,f.Z)(),[ez,eR]=(0,d.useState)([]),[eO,e$]=(0,d.useState)([]),eG=(null==A?void 0:null===(l=A.Billing)||void 0===l?void 0:null===(i=l.Address)||void 0===i?void 0:i.countryCodeAlpha2)||"",eX=(null==B?void 0:B.countryCodeAlpha2)||"",{isPowerSeller:eU}=(0,a8.Z)(),eV=(0,l4.Z)(),ej=(0,Y.Z)(),{moneyDependenciesLoading:eH,threeDSError:eW,handleVaultedAccount:eY,adyen3DSModalOpen:eK}=a7({selectedVariant:b,currency:P,amount:D,discountCode:R,bnplPayment:m,isNFT:X,accountType:null==A?void 0:null===(a=A.Billing)||void 0===a?void 0:a.cardType,submit:k,adyen3DSModal:V,isCheckoutFlow:w,selectedLocalPaymentMethod:y,apmPayments:g}),{selectedPayment:eq,ccProviderName:eQ}=(0,iR.Z)(),eJ=(0,d.useMemo)(()=>{var e,t,n;let i=!!b&&(null==b?void 0:null===(e=b.product)||void 0===e?void 0:e.listingType)==="CHARITY",l=!!b&&(null==b?void 0:null===(t=b.product)||void 0===t?void 0:t.listingType)==="RAFFLE",a=!!b&&(null==b?void 0:null===(n=b.product)||void 0===n?void 0:n.listingType)==="RESTOCK";return(aU.includes(eG)||aU.includes(eX))&&(i||l||a)&&u===O.T.Buy},[b,eG,eX,u]),e0=(0,d.useMemo)(()=>{var e;let t=!!b&&(null==b?void 0:null===(e=b.product)||void 0===e?void 0:e.listingType)==="RESTOCK",n=es()(L,"flags.ddpEnabled",!1),i=es()(L,"flags.allIn",!1),l="US"!==eX&&u===O.T.Buy&&!t;return!n&&!i&&l&&!U},[u,eX,L,b]),e4=(0,d.useMemo)(()=>"DE"===eV&&u===O.T.Buy,[eV,u]),e7=(0,d.useMemo)(()=>eH||K||p||(null==g?void 0:g.fetching)||eg||M||eC&&!eI&&!z||U&&(null==eb?void 0:eb.isSubmitGiftCardPurchaseLoading),[p,null==g?void 0:g.fetching,K,eH,eg,M,eI,eC,z,U&&(null==eb?void 0:eb.isSubmitGiftCardPurchaseLoading)]),e9=(0,d.useCallback)(()=>{eu(null),ev(null),eh(null)},[]),e8=(0,d.useCallback)(async()=>{let e=(0,i_.ZP)(),t=(null==eq?void 0:eq.paymentType)===n_.Lt.CreditCard?eQ:n_.h7.Braintree;x({eventName:e1.Z.CONFIRM_CLICKED,screenName:e2.Z.REVIEW,addtlProps:{attemptId:e,psp:t}});let n=!1;if(eJ&&!et&&(n=!0,eu(E("promo_checkbox_error"))),e0&&!ei&&(n=!0,ev(E("ddu_checkbox_error"))),e4&&!ea&&(n=!0,eh(E("germany_compliance_checkbox_error"))),n){N.Z.scrollToBottom();return}e9(),(null==eO?void 0:eO.indexOf(!1))===-1&&(eC&&z&&eD(!0),y&&c?await c({checkoutTraceId:e}):(null==g?void 0:g.selectedPaymentMethod)?eL({chargeRef:null==b?void 0:b.id,pricing:L,currencyCode:P,checkoutTraceId:e,cashAppInstance:eT}):await eY({checkoutTraceId:e}))},[eJ,e0,eO,m.isPreset,m.paymentMethod,y,g,E,c,b,L,P,D,k,eY,e4,ea,et,ei,e9,null==A?void 0:null===(r=A.Billing)||void 0===r?void 0:r.cardType,eL,w,W]),e6=(0,d.useMemo)(()=>{var e;if((null==Z?void 0:Z.shipping.hasAdditionalDaysToShip)&&(null==s?void 0:null===(e=s.additional_days_to_ship_alert)||void 0===e?void 0:e.description))return aH.Z.insertContentStackTemplates(s.additional_days_to_ship_alert.description,Z,A)},[Z,s,A]),te=(0,d.useCallback)(e=>{let t=u===O.T.Buy||!eO[e],n=[...eO];n[e]=t,e$(n)},[eO,u,e$]),tt=(0,d.useMemo)(()=>ez.map((e,t)=>{let n=aH.Z.interpolateContentStack(e,{product:b||Z});return"hazmat_material_check"===e?(0,o.BX)(H.k,{bgColor:"error-background",paddingLeft:"8",paddingRight:"8",paddingTop:"3",paddingBottom:"3",marginBottom:2,fontSize:"md",fontWeight:"bold",alignItems:"center",whiteSpace:"break-spaces",children:[(0,o.tZ)(aV.X,{size:"md",variant:"circular",isChecked:eO[t],onChange:()=>te(t),"data-testid":"hazmat-checkbox-input",marginBottom:"0",marginRight:"2"},t),(0,o.tZ)(j.cC,{i18nKey:"hazmat_material_check",components:[(0,o.tZ)(a9,{isExternal:!0,href:`https://stockx.com/help/articles/How-do-I-ship-dangerous-goods?language=${ej}`},"return")]})]},t):"promo_checkbox"===e?(0,o.BX)(aV.X,{alignItems:"flex-start",marginTop:"4",px:u===O.T.Buy?"0":"8",isChecked:et,onChange:ex,fontSize:"md",size:"sm",marginRight:"2","data-testid":"promo-checkbox-input",children:[(0,o.tZ)(aj.r,{href:"//stockx.com/news/promotion-rules-page/",isExternal:!0,children:E("promoRulesLink")}),(0,o.tZ)(J.x,{fontSize:"sm",color:"error",children:ed})]},t):"ddu_checkbox"===e?(0,o.BX)(aV.X,{alignItems:"flex-start",marginTop:"4",role:"checkbox",px:u===O.T.Buy?"0":"8",isChecked:ei,onChange:eN,size:"sm",marginRight:"2","data-testid":"ddu-checkbox-input",children:[E("I understand international buyers are responsible for import duties, taxes and fees"),(0,o.tZ)(J.x,{fontSize:"sm",color:"error",children:ec})]},t):"german_compliance_checkbox"===e?(0,o.BX)(aV.X,{px:u===O.T.Buy?"0":"8",isChecked:ea,onChange:ew,size:"sm",marginRight:"2","data-testid":"german-compliance-checkbox-input",alignItems:"flex-start",marginTop:"4",children:[(0,o.tZ)(j.cC,{i18nKey:"germany_compliance_checkbox",components:[(0,o.tZ)(lt.Z,{color:"brand-primary",textDecoration:"underline",to:"/terms"},"terms"),(0,o.tZ)(lt.Z,{color:"brand-primary",textDecoration:"underline",to:"/privacy"},"privacy"),(0,o.tZ)(aj.r,{href:`https://stockx.com/help${eM("/articles/What-does-the-right-to-withdrawal-mean-for-eu-uk-customers")}`,isExternal:!0,children:E("promoRulesLink")},"return")]}),(0,o.tZ)("br",{}),(0,o.tZ)(j.cC,{i18nKey:"germany_compliance_disclaimer_line_2",components:[(0,o.tZ)(lt.Z,{color:"brand-primary",textDecoration:"underline",to:eM("/impressum")},"impressum")]}),(0,o.tZ)(J.x,{fontSize:"sm",color:"error",children:ep})]},t):(0,o.tZ)(aV.X,{size:"sm",variant:"circular",isChecked:eO[t],onChange:()=>te(t),"data-testid":"checkbox-input",px:u===O.T.Buy?"0":"8",children:n},t)}),[ez,b,u,eO,te,eM,ei,ea,ej,Z,et,E,ec,ep,ed,eN,ew,ex]),tn=(0,d.useMemo)(()=>X&&"sell"===u,[X,u]),ti=(0,d.useCallback)(()=>{N.Z.getCookie(eS)&&N.Z.delCookie(eS),T===t2.t.Bid?(0,aX.k2)(Z,T,D,null==A?void 0:A.uuid):T===t2.t.Buy&&(0,aX.GD)(Z,T,D,null==A?void 0:A.uuid),e8()},[T,S,D,u,g,y,m,A,Z,x,e8,b]),tl=(0,d.useMemo)(()=>u===O.T.Buy?(!m.isPreset||m.paymentMethod!==n_.yE.PaypalPayLater||(null==g?void 0:g.selectedPaymentMethod)||E("confirm_button_local_payment_method",{paymentMethod:"Pay Later"}),y)?E("confirm_button_local_payment_method",{paymentMethod:y.alt}):T===t2.t.Bid?E("Confirm Bid"):E("Place Order"):T===t2.t.Ask?E("Confirm Ask"):E("Confirm Sale"),[T,u,m.isPreset,m.paymentMethod,null==g?void 0:g.selectedPaymentMethod,y,E]);(0,d.useEffect)(()=>{if(null==s?void 0:s.confirm){let e=[];e=s.confirm.map(e=>e.message),e=[],h&&e.unshift("hazmat_material_check"),eJ&&e.push("promo_checkbox"),e0&&e.push("ddu_checkbox"),e4&&e.push("german_compliance_checkbox"),eR(e),e$(e.map(e=>"hazmat_material_check"!==e&&("promo_checkbox"!==e||!!et)&&("ddu_checkbox"!==e||!!ei)&&("german_compliance_checkbox"!==e||!!ea)&&(u===O.T.Buy||eU)))}},[s,u,ei,ea,w,e0,e4,h,eJ,et,eU]),(0,d.useEffect)(()=>{!M&&(_({pageType:e2.Z.REVIEW}),ef&&ey(!0))},[M]);let{hasResolved:ta,retryComplete:tr,retryCount:to}=iS({retryMethod:()=>{let e=document.querySelector("#paypalbutton");return e&&e.children.length>0?(ey(!1),!0):(to>10&&5e3!==ek&&eZ(5e3),!1)},interval:ek,enable:!!ef,maxRetry:20,startTime:1e3});return(0,d.useEffect)(()=>{if(tr&&!ta||"Error initializing CashApp"===eA&&eC){e_((0,I.y$)(E("try_with_another_payment_method")));return}eA&&eC&&(eP(eA),null==eF||eF({paymentType:null,paymentSubType:null}))},[ta,tr,eA,eF,eP,eC]),{alertText:e6,bullets:tt,shouldShowNFTDisclaimer:tn,threeDSError:eW,checkStates:eO,loadingState:e7,rightButtonClick:ti,rightButtonText:tl,adyen3DSModal:V,adyen3DSModalOpen:eK,isCashAppDrawerOpen:eB,setIsCashAppDrawerOpen:eD,isGCApplied:!!(null==g?void 0:g.isGCApplied)}};(i=a||(a={})).Polling="polling",i.Capturing="capturing",i.Expired="expired";var rt=e=>{var t,n;let{data:i,isOpen:l,userActions:r,localPaymentActions:s}=e,{t:u}=(0,j.$G)(),c=(0,nK.Z)(),m=async()=>{await h("Your session expired. Please try placing the order again.")},{selectedLocalPaymentMethod:v,pendingCitconLocalPayment:p}=i,{onClose:h,onChangePaymentMethod:g}=r,{capturePendingPayment:y}=s,[k,Z]=(0,d.useState)(a.Polling),[f,b]=(0,d.useState)((null==p?void 0:null===(t=p.action)||void 0===t?void 0:t.ttl)||0),{getPaymentTransaction:C}=nN(null==p?void 0:p.transactionId);(0,np.Z)(async()=>{if(0===f){Z(a.Expired),m();return}b(f-1)},1e3);let S=async()=>{try{var e;let t=await C();return{status:null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.paymentTransaction.providerStatus}}catch(e){return{status:n_.S1.InProgress}}};return(0,np.Z)(async()=>{if(k===a.Polling){let{status:e}=await S();e===n_.S1.Done&&(Z(a.Capturing),await y(p))}},4e3),(0,o.BX)(tO.u_l,{isOpen:l,onClose:()=>h(),closeOnOverlayClick:!1,isCentered:!0,size:"xl",scrollBehavior:"inside",children:[(0,o.tZ)(t$.Z,{}),(0,o.BX)(tG.h,{children:[k!==a.Capturing&&(0,o.tZ)(tX.o,{}),(0,o.BX)(tU.f,{alignItems:"center",children:[(0,o.tZ)(J.x,{p:2,pt:2,fontSize:"md",fontWeight:"bold",children:u("citcon_qr_modal_header")}),(0,o.tZ)(J.x,{p:2,fontSize:"xl",color:"decorative-orange",children:(e=>{let t=(e,t)=>String(e).padStart(t,"0");return`${t(~~(e/3600),2)}:${t(~~(e%3600/60),2)}:${t(~~e%60,2)}`})(f)}),(0,o.tZ)(W.Ee,{src:null==p?void 0:null===(n=p.action)||void 0===n?void 0:n.url,alt:"Payment QR Code",m:"auto",mt:2,htmlHeight:"70"}),(0,o.tZ)(J.x,{fontSize:"2xl",p:2,pb:4,children:c({number:(null==p?void 0:p.total)||0,round:!1})}),(0,o.tZ)(J.x,{fontSize:"sm",pb:4,children:u("citcon_qr_modal_body",{selectedPaymentMethod:null==v?void 0:v.alt})}),(0,o.BX)(tR.xu,{pb:4,children:[k===a.Polling&&(0,o.tZ)(ee.z,{variant:"link",color:"brand-primary",onClick:()=>g(v),size:"lg",children:u("citcon_qr_modal_cancel_button")}),k===a.Capturing&&(0,o.tZ)(J.x,{fontSize:"lg",children:u("citcon_qr_code_modal_processing")}),k===a.Expired&&(0,o.tZ)(J.x,{fontSize:"lg",children:u("citcon_qr_code_modal_expired")})]})]})]})]})},rn=e=>{let{bullets:t,showCitconQRCode:n,selectedLocalPaymentMethod:i,pendingCitconLocalPayment:l,capturePendingPayment:a,onCitconQRCodeModalClose:r,onCitconQRCodeModalChangePaymentMethod:d}=e;return(0,o.BX)(H.k,{"data-testid":"checkboxes",flexDir:"column",ml:{base:4,md:0},children:[t,!!n&&(0,o.tZ)(rt,{data:{selectedLocalPaymentMethod:i,pendingCitconLocalPayment:l},isOpen:!!n,userActions:{onClose:e=>r(e),onChangePaymentMethod:e=>d(e)},localPaymentActions:{capturePendingPayment:a}})]})},ri=n(63488),rl=()=>{var e,t,n;let{product:i}=(0,F.Z)(),{data:l}=M({contentGroup:(null==i?void 0:null===(e=i.browseVerticals)||void 0===e?void 0:e.find(e=>"shoes"===e))?"shoes":null==i?void 0:i.contentGroup});return(null==l?void 0:null===(t=l.confirm)||void 0===t?void 0:t.length)?(0,o.tZ)(lv.Z,{mt:{base:2,md:4},"data-testid":"reminders",children:null==l?void 0:null===(n=l.confirm)||void 0===n?void 0:n.map((e,t)=>(0,o.BX)(H.k,{alignItems:"center",p:"1",children:[(0,o.tZ)(ri.M,{boxSize:6}),(0,o.tZ)(J.x,{pl:"3",children:null==e?void 0:e.message})]},t))}):null},ra=n(19390),rr=e=>{let{onCancelClick:t,onConfirmClick:n,isLoading:i,isPayPalSelected:l,confirmButtonText:a,confirmButtonRef:r}=e,{t:d}=(0,j.$G)(),s="variant"===(0,A.Z)(B.Z.ab_checkout_secure_payment_disclaimer);return(0,o.tZ)(et.Z,{children:(0,o.BX)(o.HY,{children:[(0,o.tZ)(ee.z,{variant:"secondary",onClick:t,size:"lg",padding:s?{base:"3",md:void 0}:void 0,children:s?(0,o.BX)(o.HY,{children:[(0,o.tZ)(ra.h,{width:"18px",height:"18px"})," ",(0,o.tZ)(J.x,{marginLeft:"2",display:{base:"none",md:"inline"},children:d("Back")})]}):(0,o.tZ)(o.HY,{children:d("Cancel")})}),(0,o.tZ)(tR.xu,{id:"cashapp-container",height:"0",width:"0",overflow:"hidden"}),(0,o.tZ)(ee.z,{variant:"primary",onClick:n,bgColor:"brand-primary",isLoading:i,isDisabled:i,size:"lg",marginLeft:s?"2":void 0,width:s?{base:"100%",md:"50%"}:void 0,maxWidth:s?"275px":void 0,hidden:!i&&l,children:a}),(0,o.tZ)(tR.xu,{hidden:i||!l,id:"paypalbutton",mt:1,sx:i?{pointerEvents:"none",opacity:.6}:void 0,ref:r})]})})},ro=n(63128),rd=n(6353),rs=n(71083);let ru=(0,ef.Z)();var rc=()=>{let{t:e}=(0,j.$G)("feature.giftcards"),t=(0,ar.Z)(!1),{giftCardBuyForm:n}=(0,d.useContext)(eo),{recEmail:i,recName:l,fromName:a,message:r,scheduledTime:s}=n;return(0,o.tZ)(lv.Z,{flexDirection:"column",marginY:{base:2,md:4},"data-testid":"gift-card-purchase-form",children:(0,o.BX)(iH.g,{spacing:5,divider:(0,o.tZ)(tR.xu,{ml:"0",width:{base:"calc(100% + 2rem)",md:"calc(100% + 2.50rem)"},children:(0,o.tZ)(iW.c,{borderColor:"background-accent-3"})}),children:[(0,o.BX)(ls,{"data-component":"settings-details",alignSelf:"flex-start",children:[(0,o.tZ)(lu,{"data-component":"settings-decoration",children:(0,o.tZ)(ro.e,{boxSize:"6"})}),(0,o.BX)(H.k,{direction:"column",justifyContent:"space-between",marginLeft:2,children:[l&&(0,o.tZ)(J.x,{overflowWrap:"anywhere",whiteSpace:"normal",children:`${e("To")}: ${l}`}),(0,o.tZ)(J.x,{overflowWrap:"anywhere",whiteSpace:"normal",children:`${e("Email")}: ${i}`})]})]}),(0,o.BX)(ls,{"data-component":"settings-details",alignSelf:"flex-start",children:[(0,o.tZ)(lu,{"data-component":"settings-decoration",children:(0,o.tZ)(ay.D,{boxSize:"6"})}),(0,o.tZ)(J.x,{overflowWrap:"anywhere",whiteSpace:"normal",marginLeft:2,children:`${e("From")}: ${a}`})]}),r&&(0,o.BX)(ls,{"data-component":"settings-details",alignSelf:"flex-start",children:[(0,o.tZ)(lu,{"data-component":"settings-decoration",children:(0,o.tZ)(rd.Y,{boxSize:"6"})}),(0,o.tZ)(J.x,{overflowWrap:"anywhere",whiteSpace:"normal",marginLeft:2,children:r})]}),(0,o.BX)(ls,{"data-component":"settings-details",alignSelf:"flex-start",children:[(0,o.tZ)(lu,{"data-component":"settings-decoration",children:(0,o.tZ)(rs.y,{boxSize:"6"})}),(0,o.tZ)(J.x,{overflowWrap:"anywhere",whiteSpace:"normal",marginLeft:2,children:new Date(s.substring(0,10))>new Date(ru)?t(s,"date_without_dow"):e("Today")})]})]})})};let rm={isPreset:!1,paymentMethod:null};var rv=e=>{var t,n,i;let{blurbs:l,capturePendingPayment:a=()=>null,context:r,createPendingPayment:s,expiration:u,bnplPayment:c=rm,needsToAcceptHazmat:m,onCitconQRCodeModalChangePaymentMethod:v=()=>null,onCitconQRCodeModalClose:p=()=>null,payments:h,pendingCitconLocalPayment:g,selectedLocalPaymentMethod:y,showCitconQRCode:k,submit:Z,subtitle:b,title:C,localPaymentFetching:S,regulatoryIdConfig:_,paymentBtnRef:x}=e,{selectedVariant:w,portfolioItem:E,product:T}=(0,F.Z)(),{resellNoFee:I}=T||{},{enabled:D,eligibilityDays:P}=I||{},L="true"===(0,A.Z)(B.Z.feature_resell_no_fee),M="true"===(0,A.Z)(B.Z.ab_checkout_resell_no_fee),z=(0,f.Z)(),{trackSegmentEvent:$,trackSegmentScreen:X}=(0,e3.Z)({chainId:null==E?void 0:E.chainId}),{t:U}=(0,j.$G)("feature.giftcards"),{action:V}=(0,t1.Z)(),{setStep:W}=(0,eT.Z)(),Y="base"===(0,tD.EN)(),{pricing:K}=(0,tP.Z)(),{deliveryMethod:q}=(0,ik.Z)(),{alertText:Q,bullets:ee,threeDSError:et,loadingState:en,rightButtonClick:ei,rightButtonText:el,adyen3DSModal:ea,adyen3DSModalOpen:er,isCashAppDrawerOpen:eo,setIsCashAppDrawerOpen:ed,isGCApplied:es}=re({blurbs:l,context:r,createPendingPayment:s,expiration:u,bnplPayment:c,localPaymentFetching:S,needsToAcceptHazmat:m,payments:h,selectedLocalPaymentMethod:y,submit:Z}),{amount:eu}=(0,eE.Z)(),ec=(0,iu.Z)(),{setCheckoutBanner:em,bannerText:ev}=(0,ex.Z)(),{selectedPayment:ep}=(0,iR.Z)(),{isRepeatBuyer:eh}=i5(),eg=(null==h?void 0:null===(n=h.paymentAccounts)||void 0===n?void 0:null===(t=n.find(e=>null==e?void 0:e.bin))||void 0===t?void 0:t.bin)??"",ey=(0,G.Z)(null==T?void 0:T.listingType),ek="variant_2"===(0,A.Z)(B.Z.ab_checkout_sales_tax_web),eZ=c.isPreset&&c.paymentMethod===n_.yE.PaypalPayLater,ef=(0,d.useCallback)(()=>{N.Z.scrollToTop(),$({eventName:e1.Z.CANCEL_CLICKED,screenName:e2.Z.REVIEW,label:"Cancel"}),W(ew.j.BidEntry)},[W]),eb=!!es&&!!(null==K?void 0:K.total)&&Number(null==K?void 0:K.total)>0&&!!ec,{data:eC,isLoading:eS,isError:e_,fetchStatus:eN}=(0,aT.Z)({price:null==K?void 0:K.total,currency:ec,includeEligibleAmount:!0,isEnabled:eb}),{remainingAmount:eI,eligibleAmount:eA,remainingBalance:eB,message:eD}=(null==eC?void 0:eC.eligibleAmount)||{remainingAmount:null,eligibleAmount:null,remainingBalance:null,message:null},eP={otherInstrumentAmount:eI,gcEligibleAmount:eA,gcValidationMessage:eD,gcRemainingBalance:eB},eF=(0,d.useMemo)(()=>({divId:Y?"rokt-placeholder-below":"rokt-placeholder",identifier:V===t2.t.Bid?"reviewBid":"reviewBuy",screenName:e2.Z.REVIEW,attributes:{amount:Math.round(Number(eu||0)),currency:ec,paymenttype:null==ep?void 0:ep.paymentType,ccbin:eg,cartItems:JSON.stringify([{majorcat:null==T?void 0:T.productCategory,minorcat:null==T?void 0:T.primaryCategory,productname:null==T?void 0:T.title,sku:null==w?void 0:w.id}]),flow:`${V||"buy"}`,memberStatus:eh},segmentProps:{orderId:(null==E?void 0:E.chainId)??"",flow:V,vertical:null==T?void 0:T.browseVerticals,primaryProductCategory:null==T?void 0:T.primaryCategory}}),[Y,V,eu,eg,ec,eh,null==E?void 0:E.chainId,null==T?void 0:T.browseVerticals,null==T?void 0:T.primaryCategory,null==T?void 0:T.productCategory,null==T?void 0:T.title,null==ep?void 0:ep.paymentType,null==w?void 0:w.id]),eL=Y?lv.Z:tR.xu,eM="true"===(0,A.Z)(B.Z.ab_checkout_collapsible_price_review_web);(0,d.useEffect)(()=>{eD&&""!==eD&&em({bannerText:eD,bannerVariant:"warning",bannerStep:ew.j.Review}),e_&&em({bannerText:U("GC Fetch Error"),bannerVariant:"error",bannerStep:ew.j.Review}),e_||ev!==U("GC Fetch Error")||em({bannerText:null,bannerStep:null}),N.Z.scrollToTop()},[eD,em,ev,e_]);let{deliveryOption:ez}=(0,nk.Z)(),{data:eR}=(0,iK.Z)(O.T.Buy),{data:eO}=(0,iq.Z)({registrationType:null==eR?void 0:eR.registrationType});return(0,o.BX)(o.HY,{children:[(0,o.tZ)(i9,{isModalOpen:eo,handleCloseDrawer:()=>{ed(!1)}}),(0,o.BX)(eL,{mb:{base:2,md:0},p:0,children:[!!et&&(0,o.tZ)(iJ.Z,{error:et,showIcon:!1,trackError:!0,screen:V===t2.t.Bid?iY.a.BuyingReviewBid:iY.a.BuyingReviewPurchase}),(0,o.tZ)(i0.Z,{position:i1.v.pre_bid_checkout}),r===O.T.Buy&&!ey&&(0,o.tZ)(n6,{}),(0,o.tZ)(iQ.Z,{title:C,subtitle:b,isCheckoutRedesign:!0}),!!Q&&(0,o.tZ)(iJ.Z,{error:Q,showIcon:!1})]}),(0,o.tZ)(tD.ij,{children:(0,o.tZ)(lv.Z,{children:(0,o.tZ)(id,{hideMarket:!0},"summary")})}),eM&&V===t2.t.Bid&&!!(null==K?void 0:K.subtotal)&&(0,o.tZ)(lv.Z,{mt:{base:2,md:4},"data-testid":"subtotal-drawer",children:(0,o.BX)(H.k,{justifyContent:"space-between",children:[(0,o.tZ)(J.x,{children:U("Your Bid Price")}),(0,o.tZ)(J.x,{fontWeight:"600",children:tT.Z.getDollars(eu,!0,!1,ec)})]})}),eM&&V===t2.t.Buy&&!!(null==K?void 0:K.subtotal)&&(0,o.tZ)(lv.Z,{mt:{base:2,md:4},"data-testid":"bid-price",children:(0,o.tZ)(aA,{})}),!ek&&!eM&&(0,o.tZ)(at,{action:V,contained:!0,context:r,hideDiscountControls:!0,noHeader:!0,showSubtotal:!0,bnplPayment:c,userHoldings:eP,isGCApplied:es}),!ey&&(0,o.tZ)(i6.Z,{amount:eu,context:V,screenName:e2.Z.REVIEW,track:$}),ey&&(0,o.tZ)(rc,{}),(0,o.tZ)(i8.Z,{adyen3DSModalOpen:er,adyen3DSModal:ea}),r===O.T.Buy&&!ey&&(0,o.tZ)(au,{deliveryMethod:q}),(0,o.tZ)(lv.Z,{mb:"1rem",children:(0,o.tZ)(aM,{trackEvent:$,trackScreen:X})}),(0,o.tZ)(lv.Z,{"data-xpress-ship":q===R.Gl.Express,marginTop:"1rem",children:(0,o.BX)(iH.g,{spacing:5,divider:(0,o.tZ)(tR.xu,{ml:"0",width:{base:"calc(100% + 2rem)",md:"calc(100% + 2.50rem)"},children:(0,o.tZ)(iW.c,{borderColor:"background-accent-3"})}),children:[ep?(0,o.tZ)(ag,{bnplPayment:c,editable:!1,isOrderReview:!0,isGCApplied:es,userHoldings:eP}):null,es?(0,o.tZ)(lm,{userHoldings:eP}):null,!ey&&(null==ez?void 0:ez.topic)!=="COLLECT_POINT_CONFIRMED"&&(0,o.tZ)(av,{listingType:null==w?void 0:null===(i=w.product)||void 0===i?void 0:i.listingType}),(null==_?void 0:_.idValue)&&(0,o.tZ)(ak,{idValue:null==_?void 0:_.idValue,isExpired:null==_?void 0:_.isExpired,idType:null==_?void 0:_.idType,isOrderReview:!0}),eO&&(null==eR?void 0:eR.buyerRegistrationEnabled)&&(0,o.tZ)(a$,{taxDetails:eR,taxRegistration:eO,editable:!1})]})}),D&&M&&L&&(0,o.tZ)(lv.Z,{mt:"1rem",children:(0,o.tZ)(ll,{eligibilityDays:P})}),!ey&&(0,o.tZ)(la.Z,{}),!Y&&!ey&&(0,o.tZ)(le.Z,{...eF}),!ey&&(0,o.tZ)(rl,{}),(0,o.tZ)(rn,{bullets:ee,selectedLocalPaymentMethod:y,showCitconQRCode:k,pendingCitconLocalPayment:g,capturePendingPayment:a,onCitconQRCodeModalClose:p,onCitconQRCodeModalChangePaymentMethod:v}),(0,o.tZ)(aD,{}),eM&&V===t2.t.Bid&&!!(null==K?void 0:K.subtotal)&&(0,o.tZ)(lv.Z,{mt:{base:2,md:4},"data-testid":"subtotal-drawer",children:(0,o.tZ)(aA,{})}),ey&&(0,o.tZ)(J.x,{fontSize:"xs",color:"text-secondary",marginTop:{base:2,md:4},paddingX:{base:4,md:0},children:(0,o.tZ)(j.cC,{i18nKey:"GC Purchase description",ns:"feature.giftcards",components:[(0,o.tZ)(lt.Z,{href:z(aP.L),target:"_blank"},"1")]})}),Y&&!ey&&(0,o.tZ)(le.Z,{...eF}),(0,o.tZ)(rr,{isLoading:en||eS&&"idle"!==eN,onCancelClick:()=>ef(),onConfirmClick:ei,confirmButtonText:el,confirmButtonRef:x,isPayPalSelected:eZ})]})},rp=n(98547),rh=n(14620),rg=n(11335),ry=()=>{let e=eN.Z.use.step(),t=eN.Z.use.stepAndPaymentOptionsChanged();return(0,d.useMemo)(()=>({setStepWithPaymentOption:t,step:e}),[t,e])},rk=n(76738),rZ=n(30778),rf=e=>{var t,n,i,l,a,r;let{showSizeSelect:d,showSizeClick:s}=e,{t:u}=(0,j.$G)(),{selectedVariant:c,product:m,portfolioItem:v}=(0,F.Z)(),p=(0,nJ.Z)(),h=(null==m?void 0:m.contentGroup)&&m.contentGroup.includes("watch"),g=(null==c?void 0:null===(n=c.product)||void 0===n?void 0:null===(t=n.primaryCategory)||void 0===t?void 0:t.toLowerCase())==="trading cards",y=(null==c?void 0:null===(i=c.sizeChart)||void 0===i?void 0:i.baseSize)&&!g&&!h?null==c?void 0:null===(a=c.sizeChart)||void 0===a?void 0:null===(l=a.displayOptions[0])||void 0===l?void 0:l.size:(null==c?void 0:null===(r=c.traits)||void 0===r?void 0:r.size)||null,k=p({sizeChart:null==c?void 0:c.sizeChart}),Z=h||g||!k?y:k,f=e=>{switch(e){case"Grade":return"pdp_grade_label";case"Quantity":return"pdp_quantity_label";default:return"pdp_size_label"}};return Z&&d?v?(0,o.tZ)(lv.Z,{justifyContent:"space-between",flexDirection:"row",alignItems:"center",fontSize:{base:"xs",sm:"md"},cursor:"pointer",children:(0,o.BX)(H.k,{fontSize:{base:"sm",lg:"md"},alignItems:"center",children:[(0,o.tZ)(J.x,{mr:1,children:u(f(null==m?void 0:m.sizeDescriptor))}),(0,o.tZ)(J.x,{variant:"medium",children:Z})]})}):(0,o.BX)(lv.Z,{justifyContent:"space-between",flexDirection:"row",alignItems:"center",fontSize:{base:"xs",sm:"md"},cursor:"pointer",onClick:s||void 0,children:[(0,o.BX)(H.k,{fontSize:{base:"sm",lg:"md"},alignItems:"center",children:[(0,o.tZ)(J.x,{fontWeight:"400",mr:1,children:u(f(null==m?void 0:m.sizeDescriptor))}),(0,o.tZ)(J.x,{fontWeight:"500",variant:"medium",children:Z})]}),(0,o.tZ)(ee.z,{variant:"link",color:"brand-primary",fontSize:"xs",textTransform:"uppercase",height:"auto",padding:"0",children:u("Edit")})]}):null},rb=n(61049),rC=n.n(rb);let rS=(0,nr.m)("button"),r_=(0,nr.m)(e=>{let{active:t,context:n,children:i,...l}=e;return t?(0,o.tZ)(rS,{...l,boxShadow:"rgba( 0, 0, 0, 0.15 ) 0 1px 2px 0",color:"text-inverse",background:n===O.T.Sell?"error":"success",border:"1px solid",borderColor:n===O.T.Sell?"error":"success",children:i}):(0,o.tZ)(rS,{...l,color:"text-primary",children:i})},{baseStyle:{flexGrow:"1",cursor:"pointer",fontSize:{base:"12px",md:"16px"},textAlign:"center",letterSpacing:"0",borderRadius:"30px"}}),rx=(0,nr.m)(H.k,{baseStyle:{height:{base:"45px",md:"55px"},background:"background-accent-1",borderRadius:"30px",border:"1px solid",borderColor:"outline-secondary",fontFamily:["suisseIntlMedium","suisseIntlMedium","suisseIntlRegular"]}}),rN=(0,nr.m)(tR.xu,{baseStyle:{marginBottom:"6"}});var rw=e=>{let{options:t,onClickItem:n,context:i}=e,{action:l}=(0,t1.Z)(),{trackSegmentEvent:a}=(0,e3.Z)(),{lowestAsk:r}=(0,ie.Z)(),d=i===O.T.Buy&&!(null==r?void 0:r.amount),s=e=>{let{value:t,onClickItem:n}=e;rC()(n)&&n(t),a({eventName:e1.Z.CHECKOUT_FLOW_TOGGLE,screenName:e2.Z.AMOUNT_ENTRY,flow:t})};return(0,o.tZ)(rN,{children:(0,o.tZ)(rx,{children:t.map(e=>{let{value:t,display:a}=e;return(0,o.tZ)(r_,{fontSize:{base:"sm",md:"initial"},isDisabled:d&&t===t2.t.Buy,css:{cursor:d&&t===t2.t.Buy?"not-allowed":"pointer"},context:i,"data-testid":`bidask-pill-${a.toLowerCase().replace(/ /g,"")}`,active:t===l,onClick:()=>d&&t===t2.t.Buy?void 0:s({value:t,onClickItem:n}),children:a},t)})})})};let rE=(0,nr.m)(ee.z,{baseStyle:{w:"10",h:"10",fontSize:"1.25rem",fontWeight:"bold",borderRadius:"50%",border:"1px",borderStyle:"solid",borderColor:"outline-secondary",boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.05)",bgColor:"background-primary"}});var rT=e=>{let{stepDirection:t,increment:n,handleChange:i}=e,{amount:l}=(0,eE.Z)();return(0,o.tZ)(rE,{"data-testid":"bs-increment-button",onClick:e=>{e.preventDefault();let a=0;if("+"===t)l%n==0?a+=n:a+=n-l%n;else if(l%n==0?a-=n:a-=l%n,l<=0){i(0);return}i(l+a)},children:t})},rI=n(20694),rA=e=>{let t,{editable:n,context:i,currencySymbol:l,inputRef:a,emphasizedWarning:r,handleChange:d,increment:s,custom_placeholder:u}=e,{product:c,selectedVariant:m}=(0,F.Z)(),{t:v}=(0,j.$G)(),{action:p}=(0,t1.Z)(),{amount:h}=(0,eE.Z)(),{lowestAsk:g,highestBid:y}=(0,ie.Z)(),k=l||"$";if(n&&(null==m?void 0:m.id)){let e=h?tT.Z.getDollars(h).replace(/[^\d^,.]/g,""):"",t=u||v("Enter Bid"),n=i===O.T.Sell?v("Enter Ask"):t,l=s>1&&(!c||(null==c?void 0:c.listingType)!=="RESTOCK");return(0,o.BX)(rI._Z,{"data-tour":"bid-education",children:[l?(0,o.tZ)(rT,{increment:s,handleChange:d,stepDirection:"-"}):"",(0,o.BX)(rI.SP,{"data-component":"input-wrapper",emphasizedWarning:r,children:[(0,o.tZ)(t8.Z,{left:"16px",pointerEvents:"none",children:(0,o.tZ)(rI.Y9,{"data-testid":"currency-symbol",children:k})}),(0,o.tZ)(t9.I,{ref:a,"data-testid":`bidask-${p}-input`,placeholder:n,name:"ask-amount",value:e,type:"tel",onChange:e=>{let t=(tT.Z.convertFullToHalf(es()(e,"target.value"))||"0").replace(/^0+(?!$)/,"");(t=parseInt(t=t.replace(/[,.]/g,"").substring(0,8),10))<0&&(t=0),d(t)},isDisabled:c&&(null==c?void 0:c.listingType)==="RESTOCK",size:"lg",variant:"outline","data-qm-allow":"true",w:"100%",minHeight:"100%",fontSize:{base:"lg",lg:"2xl"},lineHeight:"3.75rem",pr:"5",pl:"16",borderColor:"outline-secondary",fontFamily:"suisseIntlBold",fontWeight:"700",borderRadius:"0",_placeholder:{color:"neutral.400"}})]}),l?(0,o.tZ)(rT,{increment:s,handleChange:d,stepDirection:"+"}):""]},"amount-input")}(null==m?void 0:m.id)||(t=v("bs_amount_input_no_selected_product",{sizeDescriptor:es()(c,"sizeDescriptor")})),(null==m?void 0:m.id)&&!(null==y?void 0:y.amount)&&i===O.T.Sell&&(t=v("No Bids Available")),(null==m?void 0:m.id)&&!(null==g?void 0:g.amount)&&i===O.T.Buy&&(t=v("No Asks Available"));let Z=t||tT.Z.getDollars(h).replace(/[^\d^,.]/g,"");return(0,o.tZ)(rI._Z,{"data-component":"amount-input",children:(0,o.BX)(rI.SP,{"data-component":"input-wrapper",emphasizedWarning:r,children:[(0,o.tZ)(t8.Z,{pointerEvents:"none",children:(0,o.tZ)(rI.Y9,{"data-testid":"currency-symbol",children:k})}),(0,o.tZ)(rI.vS,{"data-testid":"ask-amount","data-name":"ask-amount",children:Z})]})},"amount-input")},rB=n(73481),rD=n(58431),rP=e=>{let{onButtonClick:t,action:n,setValue:i,value:l,isOrderReview:a=!1}=e,{t:r}=(0,j.$G)(),{product:s}=(0,F.Z)(),u=(0,d.useMemo)(()=>[1,3,7,14,30,60].map(e=>({value:e,text:1===e?r("expiration_number_of_days.one",{count:e}):r("expiration_number_of_days.other",{count:e})})),[s,r]);return(0,o.BX)(ld,{"data-component":"settings-details-wrapper",children:[(0,o.BX)(ls,{isOrderReview:a,"data-component":"settings-details",children:[(0,o.tZ)(lu,{"data-component":"settings-decoration",children:(0,o.tZ)(rD.z,{boxSize:"5"})}),r(`${n.charAt(0).toUpperCase()+n.substring(1)} Expiration`)]}),(0,o.tZ)(rB.P,{"aria-label":"Select Expiration","data-testid":"expiration-select-list",onChange:e=>i(Number(e.target.value)),onClick:t,maxWidth:40,borderRadius:0,borderColor:"gray.300",fontSize:"sm",lineHeight:5,height:7,children:u.map(e=>(0,o.tZ)("option",{value:e.value,selected:l===e.value,children:e.text},e.value))})]})},rF=e=>{var t,n;let{deliveryMethod:i}=(0,ik.Z)();if(!e)return;let l=null==e?void 0:null===(n=e.deliveryOptions)||void 0===n?void 0:null===(t=n.methods)||void 0===t?void 0:t.find(e=>(null==e?void 0:e.type)===i);if(l)return null==l?void 0:l.shippingMethods},rL=n(67217),rM=n(39794),rz=n.n(rM),rR=()=>{let{shippingAddress:e}=(0,tH.Z)(),{region:t}=(0,n2.Z)(),n=null==e?void 0:e.countryCodeAlpha2,{data:i,loading:l,error:a}=(0,rL.Z)({enabled:"US"===(n||t)}),{amount:r}=(0,eE.Z)(),{product:o}=(0,F.Z)();return{loading:l,error:a,eligibleDiscountCodes:i.filter(e=>{var t,n;return(null==e?void 0:null===(t=e.discount)||void 0===t?void 0:t.userContext)==="buying"||(null==e?void 0:null===(n=e.discount)||void 0===n?void 0:n.userContext)===""}).filter(e=>{let{expiresAt:t}=e;return(0,e_.lX)((0,eC.Z)(""),(0,eC.Z)(t))}).filter(e=>{let{discount:{minPrice:t}}=e;return r>=t}).filter(e=>{let{discount:{verticalDetails:t}}=e;if(rz()(t,e=>null==e))return!0;let n=t[null==o?void 0:o.contentGroup];return r>=(null==n?void 0:n.minPrice)}).filter(e=>{let{discount:{products:t}}=e;return null==t||t&&(null==t?void 0:t.includes(null==o?void 0:o.id))}).map(e=>({discountCode:e,isActivated:(0,e_.lX)((0,eC.Z)(null==e?void 0:e.activatesAt),(0,eC.Z)(""))}))}},rO=n(72423),r$=e=>{let{value:t,onApply:n,onChange:i,error:l}=e,{t:a}=(0,j.$G)();return(0,o.BX)(H.k,{justifyContent:"flex-end",children:[(0,o.tZ)(t9.I,{width:"50%",padding:"0",borderRadius:0,border:0,borderBottom:"1px solid",borderColor:l?"error":"gray.300",height:"6",color:l&&"error",value:t,onChange:i,fontSize:"sm",textTransform:"uppercase",onKeyPress:e=>{"Enter"===e.key&&n()}}),(0,o.tZ)(ee.z,{variant:"secondary",size:"sm",marginLeft:"3",onClick:n,children:a("Apply")})]})},rG=()=>{var e;let{t}=(0,j.$G)(),{action:n}=(0,t1.Z)(),{pricing:i}=(0,tP.Z)(),{setStep:l}=(0,eT.Z)(),{discountCode:a,setDiscountCode:r}=(0,iZ.Z)(),[s,u]=(0,d.useState)(""),[c,m]=(0,d.useState)(!1),{shippingAddress:v}=(0,tH.Z)(),{region:p}=(0,n2.Z)(),[h,g]=(0,d.useState)((null==i?void 0:i.discount_error)??""),y="true"===(0,A.Z)(B.Z.ab_checkout_discount_codes_web),k=null==v?void 0:v.countryCodeAlpha2,{eligibleDiscountCodes:Z}=rR(),f=y&&"US"===(k||p)&&(null==Z?void 0:Z.length),{trackSegmentEvent:b}=(0,e3.Z)(),{currency:C}=(0,em.Z)(),S=(0,lM.Z)(C),_=(0,d.useMemo)(()=>{switch(n){case t2.t.Buy:return R.qK.BuyNowForm;case t2.t.Bid:return R.qK.PlaceBidForm;default:return null}},[n]);(0,d.useEffect)(()=>{(null==i?void 0:i.discount_error)&&g(i.discount_error)},[null==i?void 0:i.discount_error]);let x=(0,d.useCallback)(()=>{u(""),r(""),m(!1)},[r,u,m]),N=eN.Z.use.discountCodeImpressionChanged(),w=eN.Z.use.discountCodeAvailableChanged();(0,d.useEffect)(()=>{(null==Z?void 0:Z.length)&&w(!0)},[Z,w]),(0,d.useEffect)(()=>{f&&N(!0)},[f,N]),(0,d.useEffect)(()=>{""===s&&""===a&&x()},[s,a,x]);let E=(0,d.useCallback)(()=>{b({eventName:e1.Z.ADD_DISCOUNT,screenName:e2.Z.AMOUNT_ENTRY})},[_,b]),T=!!(null==i?void 0:i.adjustments.filter(e=>"discount_codes"===e.group_internal).length),I=null==i?void 0:null===(e=i.adjustments.filter(e=>"discount_codes"===e.group_internal))||void 0===e?void 0:e[0];return(0,o.BX)(H.k,{fontSize:"md",justifyContent:"space-between",alignItems:"center",borderColor:"outline-secondary",width:"100%",children:[T?(0,o.BX)(H.k,{justifyContent:"center",alignItems:"center",whiteSpace:"nowrap",children:[null==I?void 0:I.code,(0,o.tZ)(tR.xu,{position:"relative",top:"-1px",children:(0,o.tZ)(ly.h,{"aria-label":"Remove Discount",icon:(0,o.tZ)(lI.c,{boxSize:"5",cursor:"pointer",onClick:x})})})]}):(0,o.BX)(H.k,{justifyContent:"center",alignItems:"center",whiteSpace:"nowrap",children:[(0,o.tZ)(tR.xu,{w:"9",children:(0,o.tZ)(rO.b,{w:"9",boxSize:"5"})}),`${t("Discount Code")}`]}),T&&(0,o.tZ)(J.x,{children:tT.Z.getDollars(null==I?void 0:I.amount,!1,S,C)}),c&&!T&&(0,o.tZ)(r$,{"data-component":"discount-input",error:h,value:s,onChange:e=>{var t;h&&g(""),u(tT.Z.convertFullToHalf(null==e?void 0:null===(t=e.currentTarget)||void 0===t?void 0:t.value))},onApply:()=>{b({eventName:e1.Z.SAVE_CLICKED,screenName:e2.Z.AMOUNT_ENTRY}),r(s)}}),!c&&!T&&(0,o.BX)(tR.xu,{children:[f?(0,o.tZ)(nQ.Vp,{backgroundColor:"#D9F2E0",marginRight:"2",cursor:"pointer",onClick:()=>{E(),l(ew.j.DiscountCodes)},children:(0,o.tZ)(nQ.Sn,{children:t((null==Z?void 0:Z.length)===1?"active_discount_codes.one":"active_discount_codes.other",{count:null==Z?void 0:Z.length})})}):null,(0,o.tZ)(ee.z,{variant:"link-underline",color:"brand-primary",fontSize:"xs",textTransform:"uppercase",height:"auto","data-testid":"bidask-edit-payment",padding:"0",onClick:f?()=>{E(),l(ew.j.DiscountCodes)}:()=>{m(!0),E()},children:t("Add")})]})]})},rX=n(68671),rU=n(847),rV=e=>{let{shouldShowAddButton:t,countryEligibility:n,handleGCAddClick:i}=e,{t:l}=(0,j.$G)("feature.giftcards");return(0,o.BX)(H.k,{fontSize:"md",justifyContent:"space-between",alignItems:"center",borderColor:"outline-secondary",width:"100%",mb:t?0:5,children:[(0,o.BX)(H.k,{justifyContent:"center",alignItems:"center",whiteSpace:"nowrap",children:[(0,o.tZ)(tR.xu,{w:"9",mt:-1,children:(0,o.tZ)(lc,{"aria-label":l("Gift Card Icon"),w:"9",boxSize:"5"})}),l("Gift Cards")]}),t&&(0,o.tZ)(ee.z,{variant:"link-underline",color:"brand-primary",fontSize:"xs",textTransform:"uppercase",height:"auto",padding:"0",onClick:i,isDisabled:!n,children:l("Add")})]})},rj=n(87105),rH=n(24301),rW=e=>{let{isGCCurrencyUpdateModalOpen:t,setIsGCCurrencyUpdateModalOpen:n}=e,{t:i}=(0,j.$G)("feature.giftcards"),l="base"===(0,tD.EN)(),a=(0,C.Z)(),r=null==a?void 0:a.id,[s,u]=(0,d.useState)(!1),{setCurrency:c}=(0,eI.Z)(),{updateCustomer:m}=(0,rH.Z)({setError:()=>{},setLoading:u}),v=(0,d.useCallback)(()=>{N.Z.forceSetCookie("stockx_selected_currency",eA.NE.USD),c(eA.NE.USD)},[c]),p=(0,d.useCallback)(async()=>{await m(r,{Customer:{defaultCurrency:eA.NE.USD}},v),n(!1)},[v,r]),h=(0,d.useCallback)(()=>{n(!1)},[n]),g=(0,o.BX)(H.k,{alignItems:"center",direction:"column",px:l?3:24,children:[(0,o.tZ)(eM,{height:"97px",width:"137px",mb:8,mt:l?4:0}),(0,o.tZ)(J.x,{as:"b",fontSize:"24px",fontWeight:"700",ml:8,mb:4,children:i("GC Currency Error")}),(0,o.tZ)(J.x,{ml:8,mb:l?2:0,children:i("GC Currency Update Message")})]}),y=(0,o.BX)(H.k,{justifyContent:"space-between",width:"100%",children:[(0,o.tZ)(ee.z,{variant:"secondary",onClick:h,size:l?"lg":"md",children:i("Close")}),(0,o.tZ)(ee.z,{variant:"primary",onClick:p,isLoading:s,size:l?"lg":"md",children:i("Currency Update Button")})]});return l?(0,o.BX)(i3.d,{isOpen:t,onClose:h,closeOnOverlayClick:!1,placement:"bottom",children:[(0,o.tZ)(t$.Z,{}),(0,o.BX)(i4.s,{maxH:"80%",children:[(0,o.tZ)(t3.x,{children:(0,o.tZ)(tX.o,{onClick:h})}),(0,o.tZ)(tU.f,{children:g}),(0,o.tZ)(ne.m,{children:y})]})]}):(0,o.BX)(tO.u_l,{isOpen:t,onClose:h,closeOnOverlayClick:!1,isCentered:!0,scrollBehavior:"inside",trapFocus:!1,children:[(0,o.tZ)(t$.Z,{}),(0,o.BX)(tG.h,{minHeight:"400px",minWidth:"600px",children:[(0,o.tZ)(t3.x,{children:(0,o.tZ)(tX.o,{})}),(0,o.tZ)(tU.f,{children:g}),(0,o.tZ)(ne.m,{children:y})]})]})},rY=n(52929),rK=()=>{let{t:e}=(0,j.$G)("feature.giftcards"),t=(0,f.Z)(),n=(0,y.Z)(),i=(0,k.Z)();return(0,o.BX)(ic.b,{status:"error",variant:"error",justifyContent:"space-between",mt:2,gap:0,padding:1,children:[(0,o.tZ)(rY.z,{color:"error"}),(0,o.tZ)(im.X,{alignItems:"start",display:"flex",width:"80%",children:e("GC Enable MFA")}),(0,o.tZ)(ee.z,{variant:"unstyled",onClick:()=>n.push({pathname:t("/settings?GCMFA=true"),state:{prevPath:i.pathname,search:i.search}}),children:e("Update")})]})},rq=e=>{let{avlBalance:t,isFetchingUserHoldings:n,currencyEligibility:i,countryEligibility:l,onGCApplyClick:a,isGCApplied:r,mfaOnLogin:s}=e,{t:u}=(0,j.$G)("feature.giftcards"),c=t.toFixed(2),[m,v]=(0,d.useState)(!1),p=(0,d.useCallback)(e=>{if(e&&!i){v(!0);return}a(e)},[a,i]);return(0,tE.Z)(()=>{l&&s&&null!==r||a(l&&s,!1)}),(0,o.BX)(o.HY,{children:[(0,o.tZ)(rW,{isGCCurrencyUpdateModalOpen:m,setIsGCCurrencyUpdateModalOpen:v}),(0,o.tZ)(H.k,{fontSize:"md",justifyContent:"space-between",alignItems:"center",borderColor:"outline-secondary",width:"100%",mt:"1rem",children:r&&l?(0,o.BX)(o.HY,{children:[(0,o.BX)(H.k,{alignItems:"center",children:[(0,o.tZ)(J.x,{whiteSpace:"nowrap",size:"sm",color:"green.500",children:u("Balance Applied")}),(0,o.tZ)(ly.h,{"aria-label":u("Remove Gift Card"),size:"lg",icon:(0,o.tZ)(lI.c,{}),mt:"-1",onClick:()=>p(!1)})]}),(0,o.tZ)(lr.N,{isLoaded:!n,noOfLines:1,children:(0,o.BX)(J.x,{children:[" ",`$${c}`]})})]}):(0,o.BX)(o.HY,{children:[(0,o.tZ)(lr.N,{isLoaded:!n,noOfLines:1,children:(0,o.tZ)(J.x,{children:u("Available Balance",{balance:`$${c}`})})}),(0,o.tZ)(ee.z,{variant:"secondary",size:"sm",marginLeft:"3",onClick:()=>p(!0),isDisabled:!l||!s,children:u("Apply")})]})}),!s&&(0,o.tZ)(rK,{})]})},rQ=n(61762),rJ=()=>{var e;let{data:t,isLoading:n}=(0,rQ.Z)({sort:"EXPIRES",order:"DESC"}),{payments:i}=(0,d.useContext)(ea.Z),l=(0,d.useMemo)(()=>{var e,n;return(null==t?void 0:null===(e=t.items)||void 0===e?void 0:e.length)!==0&&new Date(null==t?void 0:null===(n=t.items[0])||void 0===n?void 0:n.expirationDate)>new Date},[t]),a=!n&&l,r=(null==i?void 0:null===(e=i.paymentAccounts)||void 0===e?void 0:e.length)===0;return(0,d.useMemo)(()=>a&&r,[a,r])},r0=n(58943),r1=n(3197);let r2=async()=>{let e=await r1.Z.get("/api/mfa");return es()(e,"data.mfaOnLogin")};var r5=e=>{let{availableBalance:t}=e;return(0,r0.a)({queryFn:r2,enabled:t>0})},r3=e=>{var t;let{countryEligibility:n,currencyEligibility:i,setCheckoutBanner:l,setCheckoutStep:a,bannerText:r}=e,{isOpen:s,onToggle:u}=(0,rU.q)(),{t:c}=(0,j.$G)("feature.giftcards"),{payments:{paymentAccountsActions:{updateIsGCApplied:m},isGCApplied:v}}=(0,d.useContext)(ea.Z),[p,h]=(0,d.useState)(v),{data:g,isLoading:y,isFetching:k,refetch:Z,isError:f}=(0,aT.Z)({isEnabled:!0}),{trackSegmentEvent:b}=(0,e3.Z)(),C=Number((null==g?void 0:g.localAvailableTotalAmount)??0),{data:S,isFetched:_}=r5({availableBalance:C}),{error:x}=(0,iO.Z)(),w="true"===(0,A.Z)(B.Z.web_enable_payment_method_error_banner)&&"object"==typeof x&&(null==x?void 0:null===(t=x.result)||void 0===t?void 0:t.errorType)==="Payment Error",E=rJ();(0,d.useEffect)(()=>{if(!E&&!w){if(f){l({bannerText:c("GC Fetch Error"),bannerVariant:"error",bannerStep:ew.j.BidEntry}),N.Z.scrollToTop();return}if(r!==c("GC Fetch Error")||f||l({bannerText:null,bannerStep:null}),!n&&C>0){l({bannerText:c("GC Shipping Redeem Error"),bannerActionText:c("Update Payment"),bannerAction:()=>{a(ew.j.Shipping)},bannerVariant:"error",bannerStep:ew.j.BidEntry}),N.Z.scrollToTop();return}i&&n||!(C>0)||r||l({bannerText:c("GC Eligibility Warning"),bannerVariant:"warning",bannerStep:ew.j.BidEntry}),i&&r===c("GC Eligibility Warning")&&l({bannerText:null,bannerStep:null}),n&&r===c("GC Shipping Redeem Error")&&l({bannerText:null,bannerStep:null}),N.Z.scrollToTop()}},[S,_,n,i,c,C,l,r,f,a,w,E]);let T=(0,d.useCallback)(()=>{u(),b({eventName:e1.Z.ADD_GIFT_CARD,screenName:e2.Z.AMOUNT_ENTRY})},[u]),I=()=>{b({eventName:e1.Z.REDEEM_GIFT_CARD_IMPRESSION,screenName:e2.Z.AMOUNT_ENTRY})};return(0,d.useEffect)(()=>{s&&I()},[s]),(0,o.BX)(o.HY,{children:[(0,o.tZ)(rV,{shouldShowAddButton:!s,countryEligibility:n,handleGCAddClick:T}),(0,o.tZ)(lk.U,{"data-testid":"collapseGiftCardRedemptionForm",startingHeight:0,in:s,children:(0,o.tZ)(rj.Z,{onGCAddFormToggle:u,onGiftCardRedemption:()=>{Z(),!p&&n&&i&&(h(!0),null==m||m(!0))},onSubmitAddGiftCardClick:()=>{b({eventName:e1.Z.REDEEM_GIFT_CARD_CLICKED,screenName:e2.Z.AMOUNT_ENTRY})},isCheckout:!0})}),!s&&C>0&&(0,o.BX)(lb.l,{isLoaded:_,mt:"1rem",width:"100%",height:"24px",children:[(0,o.tZ)(a_.i,{mt:2}),(0,o.tZ)(rq,{avlBalance:C,isFetchingUserHoldings:y||k,currencyEligibility:i,countryEligibility:n,onGCApplyClick:(e,t)=>{h(e),null==m||m(e),!e&&t&&b({eventName:e1.Z.REMOVE_GIFT_CARD,screenName:e2.Z.AMOUNT_ENTRY})},isGCApplied:p,mfaOnLogin:S})]})]})},r4=()=>{let{setStep:e}=(0,eT.Z)(),{product:t}=(0,F.Z)(),n=(0,d.useCallback)(()=>{N.Z.scrollToTop(),e(ew.j.Shipping)},[e]);return(0,$.Z)(null==t?void 0:t.listingType)?(0,o.tZ)(am,{}):(0,o.tZ)(av,{editShipping:n})},r7=e=>{let{children:t,componentGroup:n}=e;return(0,o.tZ)(lv.Z,{children:(0,o.tZ)(lo,{"data-component":n,"data-testid":n,children:(0,o.tZ)(iH.g,{spacing:5,divider:(0,o.tZ)(tR.xu,{ml:"0",width:{base:"calc(100% + 2rem)",sm:"calc(100% + 6rem)",md:"calc(100% + 2.50rem)"},children:(0,o.tZ)(iW.c,{borderColor:"background-accent-3"})}),children:t})})})},r9=e=>{let{editPaymentSettings:t,hideExpiration:n=!1,bnplPayment:i,regulatoryIdConfig:l,isCardExpiredEnabled:a,preferredAccountIsExpired:r}=e,d=(0,_.Z)(),{expiration:s,setExpiration:u}=(0,ib.Z)(),{product:c,selectedVariant:m}=(0,F.Z)(),{action:v}=(0,t1.Z)(),{setCheckoutBanner:p,bannerText:h}=(0,ex.Z)(),{setStep:g}=(0,eT.Z)(),y=(0,nH.Z)(),k=e=>{u(e),(0,aX.AV)(v,c,e,y)},{basicEligibility:Z,countryEligibility:f,currencyEligibility:b}=(0,rX.Z)({action:v,listingType:null==c?void 0:c.listingType}),C=rF(m),S=null==C?void 0:C.some(e=>"ACCESS_POINT"===e.type),{data:x}=(0,iK.Z)(O.T.Buy),{data:N}=(0,iq.Z)({registrationType:null==x?void 0:x.registrationType});return(0,o.BX)(o.HY,{children:[(0,o.BX)(r7,{componentGroup:"multi-settings",children:[!n&&(0,o.tZ)(rP,{value:s,setValue:e=>k(e),action:t2.t.Bid,isOrderReview:!1}),d&&(null==c?void 0:c.listingType)!==eA.IL.GIFT_CARD&&(0,o.tZ)(rG,{}),Z?null:(0,o.tZ)(ag,{bnplPayment:i,editPaymentSettings:t,isCardExpiredEnabled:a,preferredAccountIsExpired:r}),(null==c?void 0:c.listingType)!==eA.IL.GIFT_CARD&&!S&&(0,o.tZ)(r4,{}),(null==l?void 0:l.idValue)&&(0,o.tZ)(ak,{idValue:null==l?void 0:l.idValue,isExpired:null==l?void 0:l.isExpired,idType:null==l?void 0:l.idType,isOrderReview:!1}),N&&(null==x?void 0:x.buyerRegistrationEnabled)&&(0,o.tZ)(a$,{taxDetails:x,taxRegistration:N,editable:!0})]}),Z?(0,o.BX)(r7,{componentGroup:"payment-settings",children:[(0,o.tZ)(ag,{bnplPayment:i,editPaymentSettings:t,isCardExpiredEnabled:a,preferredAccountIsExpired:r}),(0,o.tZ)(r3,{countryEligibility:f,currencyEligibility:b,setCheckoutBanner:p,setCheckoutStep:g,bannerText:h})]}):null]})},r8=n(98200),r6=n(34071),oe=n(39429),ot=n(46164),on=n(48394),oi=n(37070),ol=n(36645),oa=()=>{let{selectedVariant:e,product:t}=(0,F.Z)(),{lowestAsk:n,highestBid:i}=(0,ie.Z)(),{t:l}=(0,j.$G)(),a=(0,nK.Z)(),r=(null==t?void 0:t.listingType)==="STANDARD",d=(0,it.Z)(null==e?void 0:e.id,{enabled:r}),{bidAmount:s}=iz(),u=(null==d?void 0:d.buyFaster)||0,c=s<=u;return u&&c&&!(u>((null==n?void 0:n.amount)||0))&&(null==i?void 0:i.amount)?(0,o.tZ)(H.k,{justifyContent:"center",alignItems:"center",mb:"2",children:(0,o.BX)(J.x,{color:"text-secondary",mx:1,fontSize:"sm",textAlign:"center",children:[(0,o.tZ)(oi.S,{colorized:!0,h:5,w:5}),l("chk_bid_guidance_buy_faster",{price:a({number:u})}),(0,o.BX)(r8.J,{placement:"top",children:[(0,o.tZ)(r6.x,{children:(0,o.tZ)(tR.xu,{display:"inline",children:(0,o.tZ)(ol.m,{cursor:"pointer",h:5,w:5,mt:"-4px"})})}),(0,o.BX)(oe.y,{backgroundColor:"#242424",children:[(0,o.tZ)(ot.Q,{backgroundColor:"#242424 !important"}),(0,o.tZ)(on.b,{padding:"2",children:(0,o.tZ)(H.k,{flexDir:"column",children:(0,o.tZ)(J.x,{color:"text-inverse",fontSize:"sm",children:l("chk_bid_guidance_buy_faster_tooltip")})})})]})]})]})}):null},or=()=>{let{currencyIncrement:e}=(0,em.Z)();return(0,d.useCallback)((t,n)=>t&&t%e==0&&t>=n,[e])},oo=n(63341),od=()=>{var e;let{error:t}=(0,iO.Z)(),n="true"===(0,A.Z)(B.Z.web_enable_payment_method_error_banner)&&"object"==typeof t&&(null==t?void 0:null===(e=t.result)||void 0===e?void 0:e.errorType)==="Payment Error",i=(0,d.useMemo)(()=>(0,oo.Z)(t),[t]);return(0,d.useMemo)(()=>({isPaymentMethodError:n,errorMessage:i}),[n,i])},os=e=>{let{selectLocalPaymentMethod:t}=e,{selectedPayment:n}=(0,iR.Z)(),{deliveryMethod:i}=(0,ik.Z)(),{payments:{paymentAccountsActions:l}}=(0,d.useContext)(ea.Z),a=null==l?void 0:l.updateSelectedPayment;(0,d.useEffect)(()=>{i===R.Gl.Express&&(null==n?void 0:n.paymentType)&&(null==n?void 0:n.paymentType)===n_.Lt.LPM&&(null==a||a({paymentType:null,paymentSubType:null}),t(void 0))},[i,t,n,a])},ou=e=>{let{selectLocalPaymentMethod:t}=e,{selectedPayment:n}=(0,iR.Z)(),{payments:{paymentAccountsActions:i,isGCApplied:l}}=(0,d.useContext)(ea.Z),a=null==i?void 0:i.updateSelectedPayment;(0,d.useEffect)(()=>{l&&(null==n?void 0:n.paymentType)&&(null==n?void 0:n.paymentType)===n_.Lt.LPM&&(null==a||a({paymentType:null,paymentSubType:null}),t(void 0))},[l,t,n,a])},oc=n(15414),om=()=>{let e=(0,_.Z)(),t=(0,D.getCookie)("nonce");return"true"===(0,A.Z)(B.Z.feature_guest_checkout)&&!!t&&!e};let ov=(0,nr.m)(lv.Z,{baseStyle:{cursor:"pointer"}});var op=e=>{let{onClick:t}=e,n=om(),{t:i}=(0,j.$G)(),{trackSegmentEvent:l}=(0,e3.Z)(),a="true"===(0,A.Z)(B.Z.ab_eu3zm_web),{deliveryOption:r}=(0,nk.Z)();return n||(null==r?void 0:r.topic)==="COLLECT_POINT_CONFIRMED"?null:(0,o.tZ)(ov,{flexDirection:"column","data-testid":"make-an-offer",onClick:()=>{l({eventName:e1.Z.MAKE_AN_OFFER_CLICKED,screenName:e2.Z.CHECKOUT_FLOW}),t()},children:(0,o.BX)(H.k,{justifyContent:"space-between",alignItems:"center",children:[(0,o.BX)(tR.xu,{children:[(0,o.tZ)(J.x,{fontSize:"md",fontWeight:"500",fontFamily:"suisseIntlMedium",lineHeight:"5",children:i(a?"Place Bid":"make_an_offer_text")}),(0,o.tZ)(J.x,{fontSize:"xs",fontFamily:"suisseIntlRegular",lineHeight:"5",children:i("make_an_offer_subtext")})]}),(0,o.tZ)(oc.N,{padding:"1",border:"solid 1px black",boxSize:"8"})]})})},oh=()=>{var e,t,n,i,l,a;let{product:r,selectedVariant:d}=(0,F.Z)(),s=(0,rk.Z)(),u=(0,nK.Z)(),c=(0,_.Z)(),{action:m}=(0,t1.Z)(),{trackSegmentEvent:v}=(0,e3.Z)(),{currency:p,currencySymbol:h}=(0,em.Z)(),{amount:g}=(0,eE.Z)(),{t:y}=(0,j.$G)(),k=(0,G.Z)(null==r?void 0:r.listingType),{isEligibleForBNPL:Z}=s({lowestAsk:null==d?void 0:null===(t=d.market)||void 0===t?void 0:null===(e=t.bidAskData)||void 0===e?void 0:e.lowestAsk,listingType:null==r?void 0:r.listingType});return(0,o.BX)(tR.xu,{children:[(0,o.tZ)(H.k,{justifyContent:"space-between",alignItems:{base:"flex-start",md:"center"},flexDirection:{base:"column-reverse",md:"row"},children:(0,o.tZ)(J.x,{fontSize:["sm","sm","md"],fontFamily:"suisseIntlMedium",fontWeight:"500",children:y("Buy Now")})}),(0,o.BX)(H.k,{children:[(0,o.tZ)(J.x,{fontSize:"lg",fontFamily:"suisseIntlMedium",fontWeight:"500",lineHeight:"unset",paddingTop:["2px","2px","6px"],children:h}),k?(0,o.tZ)(J.x,{fontSize:"3xl",fontFamily:"suisseIntlMedium",fontWeight:"500",lineHeight:"unset",marginLeft:"1",children:u({number:g}).replace(h,"")}):(0,o.tZ)(J.x,{fontSize:"3xl",fontFamily:"suisseIntlMedium",fontWeight:"500",lineHeight:"unset",marginLeft:"1",children:(null==d?void 0:null===(i=d.market)||void 0===i?void 0:null===(n=i.bidAskData)||void 0===n?void 0:n.lowestAsk)?u({number:null==d?void 0:null===(a=d.market)||void 0===a?void 0:null===(l=a.bidAskData)||void 0===l?void 0:l.lowestAsk}).replace(h,""):y("No Asks Available")})]}),Z&&c&&m===t2.t.Buy&&(0,o.tZ)(H.k,{justifyContent:"flex-start",mt:"2",children:(0,o.tZ)(lE,{currency:p,amount:g,learnMoreTracking:()=>{v({eventName:e1.Z.LEARN_MORE_CLICKED,screenName:e2.Z.AMOUNT_ENTRY,type:"PayPal BNPL"})},alignment:"left",linkStyle:"underline"})})]})},og=n(54843),oy=n(75584),ok=e=>{let{onItemClick:t,isSelected:n,amount:i,text:l,disabled:a,activeItemCount:r}=e,d=(0,nK.Z)();return(0,o.tZ)(oy.r,{label:d({number:i}),secondaryLabel:l,secondaryLabelColor:"text-primary",isActive:n,onClick:()=>{t&&t(i)},flex:"1 1 0px",isDisabled:a,backgroundColor:a?"background-tertiary":void 0,_first:r>1?{mr:"4"}:void 0,_last:r>2?{ml:"4"}:void 0})},oZ=e=>{let{isOpen:t,onClose:n}=e,{t:i}=(0,j.$G)();return(0,o.BX)(tO.u_l,{size:"lg",isOpen:t,onClose:()=>n(),isCentered:!0,scrollBehavior:"inside",children:[(0,o.tZ)(t$.Z,{}),(0,o.BX)(tG.h,{children:[(0,o.tZ)(t3.x,{children:i("pricing_options")}),(0,o.tZ)(tX.o,{}),(0,o.tZ)(tU.f,{children:(0,o.tZ)(tR.xu,{whiteSpace:"break-spaces",children:i("pricing_options_info_intra_zone")})}),(0,o.tZ)(ne.m,{justifyContent:"flex-end",children:(0,o.tZ)(ee.z,{variant:"secondary",size:"md",onClick:()=>n(),children:i("Close")})})]})]})},of=e=>{let{isOpen:t,onClose:n}=e,{t:i}=(0,j.$G)();return(0,o.BX)(i3.d,{isOpen:t,onClose:()=>n(),placement:"bottom",children:[(0,o.tZ)(t$.Z,{}),(0,o.tZ)(i4.s,{children:(0,o.BX)(tU.f,{children:[(0,o.tZ)(tX.o,{}),(0,o.tZ)(tR.xu,{py:"6",whiteSpace:"break-spaces",children:i("pricing_options_info_intra_zone")})]})})]})};let ob=(0,eL.I)({displayName:"QuestionIcon",path:(0,o.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",children:(0,o.tZ)("path",{fill:"#5F5F5F",d:"M6 .68C3.06.68.68 3.06.68 6c0 2.94 2.38 5.32 5.32 5.32 2.94 0 5.32-2.38 5.32-5.32C11.32 3.06 8.94.68 6 .68Zm.392 8.456H5.16v-1.26h1.232v1.26ZM7.12 6c-.56.308-.784.504-.784 1.12v.056H5.188v-.084c0-.84.308-1.204.896-1.54.532-.308.896-.588.896-1.036 0-.448-.448-.728-.896-.728-.616 0-1.092.336-1.12 1.148H3.816c0-1.232.98-2.016 2.268-2.016 1.036 0 2.044.476 2.044 1.54.028.784-.532 1.26-1.008 1.54Z"})}),viewBox:"0 0 12 12"});var oC=e=>{let t,n,{amount:i,averagePrice:l,betterBid:a,lowestAsk:r,highestBid:d,goodBid:s,retailPrice:u,onPricingOptionClick:c,changeAction:m}=e,{t:v}=(0,j.$G)(),p=(0,og.r)({base:"base",md:"md"}),{isOpen:h,onOpen:g,onClose:y}=(0,rU.q)(),{trackSegmentEvent:k}=(0,e3.Z)(),Z=(e,t)=>{k({eventName:e1.Z.PRICE_OPTION_SELECTED,screenName:e2.Z.AMOUNT_ENTRY,label:t}),c(e)},f=e=>t=>!!e&&!!t&&e<t||null==t,b=f(s),C=f(a),S=s&&(b(a)||0===a||null==a)&&b(r),_=a&&C(r),x=!S&&!_;l?(t=l,n=v("average_sale_price")):u?(t=u,n=v("retail_price")):d&&(t=d,n=v("highest_bid"));let N=[_,r,S,x&&t].filter(e=>e).length;return(0,o.BX)(tR.xu,{children:[(0,o.tZ)(H.k,{justifyContent:"space-between",alignItems:"center",mb:"2",children:s||a?(0,o.BX)(o.HY,{children:[(0,o.tZ)(J.x,{fontWeight:"500",fontFamily:"suisseIntlMedium",fontSize:{base:"sm",md:"md"},children:v("pricing_options")}),(0,o.BX)(H.k,{alignItems:"center",children:["base"===p?(0,o.tZ)(of,{isOpen:h,onClose:y}):(0,o.tZ)(oZ,{isOpen:h,onClose:y}),(0,o.BX)(H.k,{alignItems:"center",children:[(0,o.tZ)(ob,{boxSize:3,onClick:()=>{k({eventName:e1.Z.DISCLAIMER_CLICKED,screenName:e2.Z.AMOUNT_ENTRY}),g()},sx:{cursor:"pointer",color:"text-secondary",padding:0,mr:"2px"}}),(0,o.tZ)(J.x,{fontSize:"sm",color:"text-secondary",children:v("Info")})]})]})]}):null}),(0,o.BX)(H.k,{justifyContent:"space-between",children:[x&&t?(0,o.tZ)(ok,{activeItemCount:N,disabled:!0,amount:t,text:n}):null,S?(0,o.tZ)(ok,{activeItemCount:N,onItemClick:e=>Z(e,"Good Bid"),isSelected:s===i,amount:s,text:v("good_bid")}):null,_?(0,o.tZ)(ok,{activeItemCount:N,onItemClick:e=>Z(e,"Better Bid"),isSelected:a===i,amount:a,text:v("better_bid")}):null,r?(0,o.tZ)(ok,{activeItemCount:N,onItemClick:()=>{k({eventName:e1.Z.PRICE_OPTION_SELECTED,screenName:e2.Z.AMOUNT_ENTRY,label:"Buy Now"}),m(t2.t.Buy)},isSelected:r===i,amount:r,text:v("buy_now")}):null]}),r?null:(0,o.tZ)(H.k,{justifyContent:"center",mt:"2",children:(0,o.tZ)(J.x,{fontFamily:"suisseIntlRegular",size:["sm","sm","md"],color:"text-secondary",children:v("no_asks_disclaimer")})})]})},oS=e=>{let t,{amount:n,goodBid:i,betterBid:l,lowestAsk:a,minimumBid:r=0,isEditingBid:d}=e,{t:s}=(0,j.$G)(),u=n&&n<r,c=n&&i&&n<i&&n>=r,m=i&&l&&n&&n>=i&&n<l&&n>=r,v=l&&n===l&&(!a||n<a)&&n>=r;return(u?t=s("bs_tip_must_meet_minimum_bid_of",{minimumBid:tT.Z.getDollars(r,!1,!0,null,null)}):c&&!d?t=s("bid_lower_than_good_bid_disclaimer"):m&&!d?t=s("bid_is_good_bid_disclaimer"):v&&!d&&(t=s("bid_is_better_bid_disclaimer")),n)?(0,o.tZ)(J.x,{fontFamily:"suisseIntlRegular",fontSize:{base:"sm",md:"md"},textAlign:"center",color:"text-secondary",mt:"2",children:t}):null},o_=e=>{let{amount:t,onInputChange:n,goodBid:i,betterBid:l,lowestAsk:a,minimumBid:r=0,noAsksAndNoBids:d,averagePrice:s,isEditingBid:u}=e,{t:c}=(0,j.$G)(),m=(0,nK.Z)(),v=tT.Z.getCurrencySymbol()||"$",p="true"===(0,A.Z)(B.Z.ab_eu3zm_web),h=c(p?"or_enter_your_bid":"or_name_your_price"),g=c(p?"or_enter_your_bid":"name_your_price");return(0,o.tZ)(tR.xu,{children:(0,o.BX)(tR.xu,{children:[(0,o.tZ)(J.x,{fontFamily:"suisseIntlMedium",fontWeight:"500",mb:"1",fontSize:{base:"sm",md:"md"},children:i||l?h:g}),(0,o.BX)(t7.B,{children:[(0,o.tZ)(t8.Z,{children:(0,o.tZ)(J.x,{fontFamily:"suisseIntlMedium",fontSize:"xl",children:v})}),(0,o.tZ)(t9.I,{"data-testid":"bid-input",value:t?tT.Z.getDollars(t).replace(/[^\d^,.]/g,""):"",onChange:e=>{var t;n(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)},placeholder:c("enter_bid"),borderRadius:"0"})]}),d?(0,o.BX)(H.k,{flexDirection:"column",alignItems:"center",mt:"4",color:"text-secondary",children:[s?(0,o.tZ)(J.x,{fontFamily:"suisseIntlMedium",children:c("average_sale_price_disclaimer",{amount:m({number:s})})}):null,(0,o.tZ)(J.x,{children:c("no_asks_disclaimer")})]}):null,(0,o.tZ)(oS,{amount:t,goodBid:i,betterBid:l,lowestAsk:a,minimumBid:r,isEditingBid:u})]})})},ox=e=>{var t,n,i,l,a;let{changeAction:r}=e,{amount:s}=(0,eE.Z)(),{selectedVariant:u,portfolioItem:c}=(0,F.Z)(),{step:m}=(0,eT.Z)(),{setBatchedContextValues:v}=i$(),p=(0,d.useCallback)(e=>{v({amount:e||0,bidAmount:e})},[v]),h=(0,it.Z)(null==u?void 0:u.id,{enabled:!0}),g=null==u?void 0:null===(n=u.market)||void 0===n?void 0:null===(t=n.bidAskData)||void 0===t?void 0:t.lowestAsk,y=null==u?void 0:null===(l=u.market)||void 0===l?void 0:null===(i=l.bidAskData)||void 0===i?void 0:i.highestBid,k=null==h?void 0:h.averagePrice,Z=null==h?void 0:h.betterBid,f=null==h?void 0:h.goodBid,b=null==h?void 0:h.retailPrice,C=(null==u?void 0:null===(a=u.product)||void 0===a?void 0:a.minimumBid)||0,S=m!==ew.j.Review&&m!==ew.j.Success&&!!c,_=S&&(null==c?void 0:c.amount)===y;(0,d.useEffect)(()=>{if(!S&&!s){if(Z){p(Z);return}f&&p(f)}},[h,p,c,m,f,Z,S]);let x=!g&&!f&&!Z;return(0,o.BX)(o.HY,{children:[x?null:(0,o.tZ)(tR.xu,{mb:"6",children:(0,o.tZ)(oC,{amount:s,averagePrice:k,betterBid:Z,lowestAsk:g,highestBid:y,goodBid:_?y:f,retailPrice:b,onPricingOptionClick:e=>{p(e)},changeAction:r})}),(0,o.tZ)(tR.xu,{children:(0,o.tZ)(o_,{noAsksAndNoBids:x,amount:s,onInputChange:e=>{let t=(tT.Z.convertFullToHalf(e)||"0").replace(/^0+(?!$)/,"");(t=parseInt(t=t.replace(/[,.]/g,"").substring(0,8),10))<0&&(t=0),p(t)},betterBid:Z,lowestAsk:g,goodBid:_?y:f,averagePrice:k,isEditingBid:S,minimumBid:C})})]})},oN=n(97448),ow=n(98666);let oE=(0,ef.Z)(),oT=(0,ef.Z)((0,eb.zI)((0,eC.Z)(""),6));var oI=()=>{let{t:e}=(0,j.$G)("feature.giftcards"),{trackSegmentEvent:t}=(0,e3.Z)(),{giftCardBuyForm:n}=(0,d.useContext)(eo),{recEmail:i,setRecEmail:l,isInvalidRecEmail:a,confRecEmail:r,setConfRecEmail:s,isInvalidConfRecEmail:u,recName:c,setRecName:m,fromName:v,setFromName:p,message:h,setMessage:g,scheduledTime:y,setScheduledTime:k,isInvalidScheduledTime:Z}=n;return(0,o.BX)(lv.Z,{flexDirection:"column","data-testid":"gift-card-purchase-form",children:[(0,o.tZ)(J.x,{fontSize:["sm","sm","md"],fontFamily:"suisseIntlMedium",fontWeight:"500",children:e("Email Delivery")}),(0,o.BX)(iH.g,{mt:4,spacing:4,children:[(0,o.tZ)(oN.u,{inputLabel:e("Recipient Email"),name:"Recipient-Email",value:i,type:"email",isRequired:!0,onChange:l,fontSize:"md",lineHeight:"1.375rem",isInvalid:a,errorMessage:e("Invalid Email address"),maxLength:100}),(0,o.tZ)(oN.u,{inputLabel:e("Confirm Recipient Email"),name:"Confirm-Recipient-Email",value:r,type:"email",isRequired:!0,onChange:s,fontSize:"md",lineHeight:"1.375rem",isInvalid:u,errorMessage:e("Email address does not match"),maxLength:100}),(0,o.tZ)(oN.u,{inputLabel:e("Recipient Name"),name:"Recipient-Name",value:c,onChange:m,fontSize:"md",lineHeight:"1.375rem",maxLength:31}),(0,o.tZ)(oN.u,{inputLabel:e("From"),name:"From",value:v,onChange:p,isRequired:!0,fontSize:"md",lineHeight:"1.375rem",maxLength:31}),(0,o.tZ)(ow.Y,{inputLabel:e("Gift Message"),name:"Gift-Message",value:h,onChange:g,fontSize:"md",lineHeight:"1.375rem",maxLength:100,characterCount:100-h.length}),(0,o.tZ)(oN.u,{inputLabel:e("Date to be Sent"),name:"Date-to-be-Sent",value:y,type:"date",min:oE,max:oT,onChange:k,onClick:()=>{t({eventName:e1.Z.EDIT_CLICKED,screenName:e2.Z.AMOUNT_ENTRY,type:"Date to be Sent",addtlProps:{shipByDate:y}})},isRequired:!0,fontSize:"md",lineHeight:"1.375rem",isInvalid:Z,errorMessage:e("Invalid Date")})]}),(0,o.tZ)(J.x,{fontSize:"sm",color:"text-secondary",mt:"4",children:e(new Date(y.substring(0,10))>new Date(oE)?"Email will be sent at noon ET":"Email will be sent within 1 hour")})]})},oA=e=>{let{onCancelClick:t,onConfirmClick:n,isLoading:i,isDisabled:l,confirmButtonText:a}=e,{t:r}=(0,j.$G)(),d="variant"===(0,A.Z)(B.Z.ab_checkout_secure_payment_disclaimer);return(0,o.tZ)(et.Z,{children:(0,o.BX)(o.HY,{children:[(0,o.tZ)(ee.z,{variant:"secondary",onClick:t,size:"lg",padding:d?{base:"3",md:void 0}:void 0,children:d?(0,o.BX)(o.HY,{children:[(0,o.tZ)(ra.h,{width:"18px",height:"18px"})," ",(0,o.tZ)(J.x,{marginLeft:"2",display:{base:"none",md:"inline"},children:r("Back")})]}):(0,o.tZ)(o.HY,{children:r("Cancel")})}),(0,o.tZ)(ee.z,{marginLeft:d?"2":void 0,width:d?{base:"100%",md:"50%"}:void 0,maxWidth:d?"275px":void 0,variant:"primary",bgColor:"brand-primary",onClick:n,isLoading:i,isDisabled:l,size:"lg",children:a})]})})},oB=n(38363),oD=()=>(0,d.useContext)(oB.Z),oP=e=>{let{trackScreen:t,trackEvent:n}=e,i=(0,C.Z)(),l=(0,_.Z)(),[a]=oD(),[r,o]=(0,d.useState)({firstName:(null==i?void 0:i.firstName)||"",lastName:(null==i?void 0:i.lastName)||""}),{deliveryOption:s,setDeliveryOption:u}=(0,nk.Z)(),c=(0,d.useRef)(null),{shippingAddress:m}=(0,tH.Z)(),v=(0,l4.Z)(),[p]=(0,d.useState)((null==m?void 0:m.postalCode)||v),h=(0,d.useCallback)(()=>{a&&(a.iframeElem.remove(),a.resetMessageManager(),a.events.emit(a.topics.emit.RESET_STATE))},[a]),g=(0,d.useCallback)(e=>{c.current&&(c.current.open=!1),u({...e,pickupPerson:r}),h(),n({eventName:e1.Z.PICKUP_LOCATION_SELECTED,screenName:e2.Z.PICKUP_LOCATION})},[c,u,h,n,r]),y=(0,d.useCallback)(()=>{c&&a&&p&&(a.events.emit(a.topics.emit.MAP_SEARCH_QUERY,p),c.current&&(c.current.appendChild(a.iframeElem),c.current.open=!0),a.events.subscribe(a.topics.subscribe.COLLECT_POINT_CONFIRMED,g))},[c,a,p,h]),k=(0,d.useCallback)(()=>{y(),t({pageType:e2.Z.PICKUP_LOCATION})},[y]),Z=(0,d.useMemo)(()=>!!(a&&c&&p),[a,c,p]),f=(0,d.useMemo)(()=>(null==s?void 0:s.topic)==="COLLECT_POINT_CONFIRMED"&&(!(null==r?void 0:r.firstName)||!(null==r?void 0:r.lastName))&&l,[null==r?void 0:r.firstName,null==r?void 0:r.lastName,null==s?void 0:s.topic,l]);return{modalRef:c,initiateSearch:k,isHubBoxReady:Z,pickupPerson:r,setPickupPerson:o,pickupPersonRequired:f}},oF=n(29117),oL=e=>{let{pickupAddress:t,pickupPerson:n,changeHandler:i,initiateSearch:l}=e,{t:a}=(0,j.$G)("feature.hubbox"),r=(0,C.Z)(),d=!n.firstName||!n.lastName;return(0,o.BX)(iH.g,{mt:"4",spacing:"4",alignItems:"flex-start","data-testid":"hubbox-pick-up-location",children:[(0,o.tZ)(J.x,{fontSize:"sm",color:"text-secondary",children:a("Your order will be sent to your chosen Access Point ready for secure pick up within 7 days of arrival.")}),(0,o.BX)(H.k,{justifyContent:"space-between",alignItems:"center",borderColor:"outline-secondary",width:"100%",children:[(0,o.tZ)(J.x,{children:t}),(0,o.tZ)(ee.z,{variant:"link-underline",color:"brand-primary",fontSize:"xs",textTransform:"uppercase",height:"auto",padding:"0","data-testid":"bidask-edit-shipping",onClick:l,children:a("Edit")})]}),((null==r?void 0:r.firstName)||(null==r?void 0:r.lastName))&&(0,o.BX)(o.HY,{children:[(0,o.tZ)(J.x,{fontSize:"sm",fontFamily:"suisseIntlMedium",children:a("Pickup Person")}),(0,o.BX)(t4.NI,{isInvalid:d,children:[(0,o.BX)(oF.U,{children:[(0,o.tZ)(oN.u,{inputLabel:a("First Name"),name:n.firstName,onChange:i,defaultValue:(null==r?void 0:r.firstName)||"",id:"pickup-first-name",isRequired:!0,isInvalid:!n.firstName,mr:["0","0","2"]}),(0,o.tZ)(oN.u,{inputLabel:a("Last Name"),name:n.lastName,defaultValue:(null==r?void 0:r.lastName)||"",onChange:i,id:"pickup-last-name",isRequired:!0,isInvalid:!n.lastName})]}),(0,o.tZ)(t6.J1,{"data-testid":"pickup-form-error",children:a("pickup_person_form_error")})]})]})]})},oM=()=>{let{t:e}=(0,j.$G)("feature.hubbox"),{inlineShippingAddress:t}=(0,tH.Z)(),{setStep:n}=(0,eT.Z)();return(0,_.Z)()?t?(0,o.BX)(oF.U,{mt:"4",justifyContent:"space-between","data-testid":"hubbox-home-shipping",children:[(0,o.tZ)(J.x,{children:t}),(0,o.tZ)(ee.z,{variant:"link-underline",color:"brand-primary",fontSize:"xs",textTransform:"uppercase",height:"auto",padding:"0",onClick:()=>n(ew.j.Shipping),children:e("Edit")})]}):(0,o.BX)(oF.U,{mt:"4",justifyContent:"space-between","data-testid":"hubbox-home-shipping",children:[(0,o.tZ)(J.x,{fontSize:"md",children:e("enter_shipping_address")}),(0,o.tZ)(ee.z,{variant:"link-underline",color:"brand-primary",fontSize:"xs",textTransform:"uppercase",height:"auto",padding:"0",onClick:()=>n(ew.j.Shipping),children:e("ADD")})]}):(0,o.tZ)(J.x,{fontSize:"md",mt:"4",children:e("shipping_address_add_next_step")})},oz=e=>{let{initiateSearch:t,selectedVariant:n,trackEvent:i,isGuestUser:l}=e,{setDeliveryOption:a,deliveryOption:r}=(0,nk.Z)(),{t:d}=(0,j.$G)("feature.hubbox"),s=rF(n),u=e=>{"HOME_DELIVERY"===e&&a({topic:"HOME_DELIVERY"}),"ACCESS_POINT"===e&&t(),i({eventName:e1.Z.DELIVERY_METHOD_CLICKED,screenName:e2.Z.AMOUNT_ENTRY})};return(0,o.tZ)(H.k,{"data-testid":"hubbox-options",children:null==s?void 0:s.map((e,t)=>{if(!e.type)return null;let n=e.type===(null==r?void 0:r.topic)||"HOME_DELIVERY"!==e.type&&(null==r?void 0:r.topic)==="COLLECT_POINT_CONFIRMED",i="ACCESS_POINT"===e.type&&l;return(0,o.tZ)(oy.r,{id:`${e.type}-${i}`,size:"md",flex:"1",mr:0===t?4:0,fontFamily:"suisseIntlMedium","data-testid":`${null==e?void 0:e.type}-selected-${n}`,isActive:n,cursor:i?"not-allowed":"pointer",onClick:()=>i?null:u(e.type||""),label:"ACCESS_POINT"===e.type?d("Pickup"):d("Ship to Address")},e.type)})})},oR=n(1083),oO=()=>{let{t:e}=(0,j.$G)("feature.hubbox"),t=(0,oR.Z)(),n=(0,d.useCallback)(()=>{t("login",{state:{forceLogin:!0}})},[t]);return(0,o.BX)(ic.b,{mt:"4",justifyContent:"space-between",variant:"warning",children:[(0,o.BX)(im.X,{alignItems:"center",display:"flex",children:[(0,o.tZ)(rY.z,{}),e("pickup_gxo_warning")]}),(0,o.tZ)(ee.z,{onClick:n,variant:"unstyled",textDecoration:"underline",children:e("Login")})]})},o$=e=>{let{selectedVariant:t,trackEvent:n,modalRef:i,initiateSearch:l,isHubBoxReady:a,pickupPerson:r,setPickupPerson:s,isGuestUser:u}=e,{t:c}=(0,j.$G)("feature.hubbox"),{setDeliveryOption:v,deliveryOption:p}=(0,nk.Z)(),h=rF(t);(0,m.Z)(()=>{v({...p,pickupPerson:r})});let g=(0,d.useCallback)(e=>{"pickup-first-name"===e.target.id&&s({...r,firstName:e.target.value}),"pickup-last-name"===e.target.id&&s({...r,lastName:e.target.value})},[s,r]),y=(null==p?void 0:p.topic)==="COLLECT_POINT_CONFIRMED",k=(0,d.useMemo)(()=>{var e;return(null==p?void 0:null===(e=p.message)||void 0===e?void 0:e.address)?`${p.message.address.street1}, ${p.message.address.city}, ${p.message.address.region}`:""},[p]),Z=null==h?void 0:h.some(e=>"ACCESS_POINT"===e.type);return a&&Z?(0,o.BX)(H.k,{_empty:{display:"none"},bg:"background-primary",w:"100%",flexDirection:"column","data-testid":"CheckoutSection",children:[(0,o.BX)(H.k,{mr:"3",alignItems:"center",whiteSpace:"nowrap",p:[4,5],children:[(0,o.tZ)(tR.xu,{w:"9",children:(0,o.tZ)(aF.J,{boxSize:6})}),(0,o.tZ)(J.x,{children:c("Delivery Method")})]}),(0,o.tZ)(a_.i,{}),(0,o.BX)(tR.xu,{p:[4,5],children:[(0,o.tZ)(oz,{initiateSearch:l,selectedVariant:t,trackEvent:n,isGuestUser:u}),!y&&(0,o.tZ)(oM,{}),y&&(0,o.tZ)(oL,{pickupAddress:k,pickupPerson:r,changeHandler:g,initiateSearch:l}),u&&(0,o.tZ)(oO,{})]}),(0,o.tZ)("hb-widget-modal",{"no-header":!0,id:"modal-no-header",ref:i})]}):null},oG=()=>{var e;let{selectedVariant:t}=(0,F.Z)(),n=null==t?void 0:null===(e=t.deliveryOptions)||void 0===e?void 0:e.methods,i=null==n?void 0:n.find(e=>{var t;return(null==e?void 0:null===(t=e.type)||void 0===t?void 0:t.toUpperCase())===R.Gl.Standard}),l=null==n?void 0:n.find(e=>{var t;return(null==e?void 0:null===(t=e.type)||void 0===t?void 0:t.toUpperCase())===R.Gl.ExpressStandard}),a=null==n?void 0:n.find(e=>{var t;return(null==e?void 0:null===(t=e.type)||void 0===t?void 0:t.toUpperCase())===R.Gl.ExpressExpedited});return{deliveryMethods:n,standardDeliveryMethod:i,expressStandard:l,expressExpedited:a,expressMethod:l||a,expressMethodCount:[l,a].filter(e=>e).length}},oX=n(10579),oU=n(2081),oV=n(57855),oj=()=>{let{pricing:e}=(0,tP.Z)(),{action:t}=(0,t1.Z)(),{product:n}=(0,F.Z)(),{currency:i}=(0,em.Z)(),{refetch:l}=(0,oV.Z)({includeTax:!0}),{basicEligibility:a}=(0,rX.Z)({action:t,listingType:null==n?void 0:n.listingType}),r=(0,d.useRef)({isEnabled:a&&t===t2.t.Buy}),[o,s]=(0,d.useState)(!1),[u,c]=(0,d.useState)(!1),m=(0,A.Z)(B.Z.ab_checkout_sales_tax_web),v="variant_1"===m||"variant_2"===m,{data:p,refetch:h,isLoading:g,isFetching:y,fetchStatus:k}=(0,aT.Z)(r.current),Z=(0,d.useCallback)(e=>{(async()=>{r.current={price:null==e?void 0:e.total,currency:i,includeEligibleAmount:!0,isEnabled:!0},await h(),s(!0),c(!1)})()},[h,i,s,c]),f=async()=>{if(c(!0),v){Z(e);return}let{data:t}=await l();Z(t)},{remainingAmount:b,eligibleAmount:C}=(null==p?void 0:p.eligibleAmount)||{remainingAmount:null,eligibleAmount:null},S=o&&!!b,_=!1;return S&&(_=!!(S=Number(null==b?void 0:b.value)>0)&&Number(null==e?void 0:e.subtotal)<Number(null==C?void 0:C.value)),{isBillingConditionEvaluated:o,isBillingRequiredForGC:S,fetchIsBillingStepRequired:f,isPaymentBannnerRequired:_,giftCardDependenciesLoading:g&&"idle"!==k||y||u}},oH=e=>{let{cancelTransaction:t,showLoginSignup:n,regulatoryIdConfig:i,bnplPayment:l,clearPaymentSelection:a,isPaymentMethodExpired:r}=e,{t:o}=(0,j.$G)(),{product:s,selectedVariant:u,portfolioItem:c}=(0,F.Z)(),{pricing:m,isPricingFetching:v}=(0,tP.Z)(),p=(0,_.Z)(),{action:h}=(0,t1.Z)(),{currency:g}=(0,em.Z)(),y=(0,C.Z)(),{amount:k}=(0,eE.Z)(),{setStep:Z}=(0,eT.Z)(),{setDiscountCode:f}=(0,iZ.Z)(),{setError:b}=(0,iO.Z)(),S=or(),{shippingAddress:x}=(0,tH.Z)(),{trackSegmentEvent:w}=(0,e3.Z)(),{t:E}=(0,j.$G)("feature.giftcards"),{fetchIsBillingStepRequired:T,isBillingConditionEvaluated:I,isBillingRequiredForGC:A,giftCardDependenciesLoading:B,isPaymentBannnerRequired:D}=oj(),{payments:P}=(0,d.useContext)(ea.Z),{selectedLocalPaymentMethod:L}=(0,d.useContext)(ij.Z),M=(0,d.useMemo)(()=>iE({payments:P,selectedLocalPaymentMethod:L,bnplPayment:l,customer:y}),[P,L,l.isPreset,l.paymentMethod,y]),z=(0,G.Z)(null==s?void 0:s.listingType),R=null==P?void 0:P.isGCApplied,{setCheckoutBanner:O}=(0,ex.Z)(),$=(0,d.useCallback)(()=>{w({eventName:e1.Z.CANCEL_CLICKED,screenName:p?e2.Z.AMOUNT_ENTRY:e2.Z.UNAUTHENTICATED_CHECKOUT,label:"Cancel"}),t()},[h,g,u,c,t,s,p]);return(0,d.useEffect)(()=>{if(I&&!B){if(I&&A&&null===M){Z(ew.j.Billing),D&&O({bannerText:E("GC Balance lower than Subtotal"),bannerVariant:"warning",bannerStep:ew.j.Billing});return}R&&I&&!A&&a(),Z(ew.j.Review)}},[I,A,Z,B,a,R,D,O]),{leftButtonClickMethod:$,rightButtonClickMethod:(0,d.useCallback)(()=>{if(!p){w({eventName:e1.Z.NEXT_CLICKED,screenName:e2.Z.UNAUTHENTICATED_CHECKOUT}),n();return}if(r){Z(ew.j.Billing);return}if((null==i?void 0:i.required)&&!(null==i?void 0:i.idValue)){Z(ew.j.RegulatoryId);return}if(v)return;w({eventName:e1.Z.REVIEW_CLICKED,screenName:e2.Z.REVIEW});let e=null===M||z&&M===n_.Lt.Paypal;if(!k){N.Z.scrollToTop(),b(o("You must enter a bid amount to proceed"));return}if(S(null==k?void 0:k.toFixed(0),null==s?void 0:s.minimumBid)){if((null==m?void 0:m.discount_error)&&f(""),N.Z.scrollToTop(),b(null),p||w({eventName:e1.Z.CHK_OPTIMIZED_NEXT_CTA_WITH_CANCEL_CLICKED,screenName:e2.Z.REVIEW}),!x&&!z){Z(ew.j.Shipping);return}if(R){T();return}if(e){Z(ew.j.Billing);return}Z(ew.j.Review)}},[p,v,h,k,u,c,n,M,s,y,x,S,m,i,f,b,Z,o,T,R,z,r]),bidEntryStepLoading:B}},oW=n(78291);let oY=(0,nr.m)(oW.Z,{baseStyle:{textDecoration:"underline"}}),oK=(0,nr.m)(aj.r,{baseStyle:{textDecoration:"underline"}});var oq=n(63519),oQ=n(1653),oJ=e=>{var t,n;let{shouldCrossBuyShow:i=!1}=e,{t:l}=(0,j.$G)(),a=(0,nK.Z)(),{action:r}=(0,t1.Z)(),{setDeliveryMethod:s}=(0,ik.Z)(),{selectedVariant:u}=(0,F.Z)();(0,d.useEffect)(()=>{var e;(0,$.Z)(null==u?void 0:null===(e=u.product)||void 0===e?void 0:e.listingType)&&s(R.Gl.Vault)},[null==u?void 0:null===(t=u.product)||void 0===t?void 0:t.listingType,s]);let c=(0,d.useMemo)(()=>{var e,t,n,d,s,c;if(i){if(r===t2.t.Buy){let e=null==u?void 0:null===(d=u.deliveryOptions)||void 0===d?void 0:null===(n=d.methods)||void 0===n?void 0:n.filter(e=>(null==e?void 0:e.type)===R.Gl.Express||(null==e?void 0:e.type)===R.Gl.Standard);return null==e?void 0:e.map(e=>{switch(null==e?void 0:e.type){case R.Gl.Express:return{...e,icon:(0,o.tZ)(oQ.Z,{width:"24px",height:"24px"})};case R.Gl.Vault:return{...e,icon:(0,o.tZ)(al.N,{width:"24px",height:"24px"})};default:return{...e}}})}return null==u?void 0:null===(t=u.deliveryOptions)||void 0===t?void 0:null===(e=t.methods)||void 0===e?void 0:e.filter(e=>(null==e?void 0:e.type)===R.Gl.Standard)}return r===t2.t.Buy?null==u?void 0:null===(c=u.deliveryOptions)||void 0===c?void 0:null===(s=c.methods)||void 0===s?void 0:s.map(e=>{var t,n;switch(null==e?void 0:e.type){case R.Gl.Express:return{...e,icon:(0,o.tZ)(oQ.Z,{width:"24px",height:"24px"}),emphasizedText:l("chk_xpress_upgrade_price",{price:a({number:null==e?void 0:null===(t=e.upgrade)||void 0===t?void 0:t.price})}),cost:void 0};case R.Gl.Vault:return{...e,icon:(0,o.tZ)(al.N,{width:"24px",height:"24px"}),emphasizedText:l("chk_vault_upgrade_savings",{price:a({number:null==e?void 0:null===(n=e.upgrade)||void 0===n?void 0:n.price})}),cost:l("Free")};default:return{...e}}}):null},[r,null==u?void 0:null===(n=u.deliveryOptions)||void 0===n?void 0:n.methods,i]);return{hasSameAskAmount:(0,d.useMemo)(()=>{if((null==c?void 0:c.length)>1){var e,t;return(null==c?void 0:null===(e=c[0])||void 0===e?void 0:e.lowestAsk)===(null==c?void 0:null===(t=c[1])||void 0===t?void 0:t.lowestAsk)}return!1},[c]),deliveryOptions:c}},o0=e=>{let{method:t,updateDeliveryMethod:n,isExpress:i}=e,{setAmount:l}=(0,eE.Z)(),a=(0,A.Z)(B.Z.feature_flex_131_web),{t:r}=(0,j.$G)(),s=(0,nK.Z)(),{hasSameAskAmount:u}=oJ({shouldCrossBuyShow:!1}),{deliveryMethod:c}=(0,ik.Z)(),m=(0,d.useCallback)(()=>{l((null==t?void 0:t.lowestAsk)??0),n()},[null==t?void 0:t.lowestAsk]),v=!1;return v=!!a&&!!i&&(null==t?void 0:t.type)!==R.Gl.Standard&&c!==R.Gl.Standard||c===(null==t?void 0:t.type),(0,o.BX)(iH.g,{flex:1,flexDir:"column",justifyContent:"space-between",px:3,py:3,alignItems:"center",cursor:"pointer",onClick:m,borderWidth:"1px",borderColor:v?"brand-primary":"",backgroundColor:v?"background-accent-1":"grey.300",children:[(0,o.BX)(oF.U,{children:[(null==t?void 0:t.type)===R.Gl.Express&&(0,o.tZ)(ai.c,{"data-testid":"express-ship-icon"}),(0,o.tZ)(J.x,{fontWeight:"600",fontSize:"sm",children:null==t?void 0:t.secondaryTitle})]}),(0,o.tZ)(J.x,{align:"center",fontSize:"xs",children:null==t?void 0:t.description}),(0,o.tZ)(J.x,{fontWeight:"600",fontSize:"lg",color:"brand-primary",children:s({number:(null==t?void 0:t.lowestAsk)||0})}),u&&(0,o.BX)(J.x,{fontSize:"xs",children:["+",r("Shipping")]})]})},o1=()=>{var e,t;let[n,i]=(0,d.useState)(!1),{selectedVariant:l}=(0,F.Z)(),{trackSegmentEvent:a}=(0,e3.Z)(),{deliveryMethod:r,setDeliveryMethod:s}=(0,ik.Z)(),u=(0,A.Z)(B.Z.feature_flex_131_web),{deliveryOptions:c}=oJ({shouldCrossBuyShow:!1}),{standardDeliveryMethod:m,expressMethod:v}=oG(),{pricing:p}=(0,tP.Z)(),h=(0,ie.Z)(),{query:g}=(0,k.Z)(),y=(null==g?void 0:g["xpress-ship"])==="true",Z=e=>{s(e.type),i(!0)},f=(0,d.useMemo)(()=>{var e,t;return null==l?void 0:null===(t=l.deliveryOptions)||void 0===t?void 0:null===(e=t.methods)||void 0===e?void 0:e.find(e=>(null==e?void 0:e.type)===r)},[r,null==l?void 0:l.deliveryOptions]),b=(0,d.useMemo)(()=>{var e,t;let n=null==l?void 0:null===(t=l.deliveryOptions)||void 0===t?void 0:null===(e=t.methods)||void 0===e?void 0:e.find(e=>(null==e?void 0:e.type)===R.Gl.Express);return null==n?void 0:n.lowestAsk},[r,null==l?void 0:l.deliveryOptions]);return((0,d.useEffect)(()=>{var e;if(!n&&y){s(u?R.Gl.ExpressStandard:R.Gl.Express),i(!0);return}!n&&(null==h?void 0:null===(e=h.lowestAsk)||void 0===e?void 0:e.amount)&&b<=1.1*h.lowestAsk.amount&&Z({type:R.Gl.Express})},[y,u,b,r,n,null==h?void 0:null===(e=h.lowestAsk)||void 0===e?void 0:e.amount,Z]),(0,d.useEffect)(()=>{n&&((null==f?void 0:f.type)!==R.Gl.Express||(null==p?void 0:p.shippingType)===oq.r.EXPRESS)&&((null==f?void 0:f.type)!==R.Gl.ExpressStandard||(null==p?void 0:p.shippingType)===oq.r.EXPRESS_STANDARD)&&((null==f?void 0:f.type)!==R.Gl.ExpressExpedited||(null==p?void 0:p.shippingType)===oq.r.EXPRESS_EXPEDITED)&&((null==f?void 0:f.type)!==R.Gl.Standard||(null==p?void 0:p.shippingType)===oq.r.STANDARD)&&a({eventName:e1.Z.SHIPMENT_TYPE_CLICKED,screenName:e2.Z.AMOUNT_ENTRY,label:null==f?void 0:f.secondaryTitle})},[n,f,null==p?void 0:p.shippingType]),(0,$.Z)(null==l?void 0:null===(t=l.product)||void 0===t?void 0:t.listingType)||!c||(null==c?void 0:c.length)<=1||(null==v?void 0:v.lowestAsk)&&(null==m?void 0:m.lowestAsk)&&(null==v?void 0:v.lowestAsk)<=(null==m?void 0:m.lowestAsk))?null:u?(0,o.BX)(oF.U,{alignItems:"stretch",spacing:"6","data-testid":"DeliveryOptions",children:[m?(0,o.tZ)(o0,{method:m,updateDeliveryMethod:()=>Z(m)},null==m?void 0:m.title):null,v?(0,o.tZ)(o0,{isExpress:!0,method:v,updateDeliveryMethod:()=>Z(v)},null==v?void 0:v.title):null]}):(0,o.tZ)(oF.U,{alignItems:"stretch",spacing:"6","data-testid":"DeliveryOptions",children:null==c?void 0:c.map(e=>(0,o.tZ)(o0,{method:e,updateDeliveryMethod:()=>Z(e)},null==e?void 0:e.title))})},o2=()=>{let{selectedVariant:e,refetch:t}=(0,F.Z)(),{error:n,setError:i}=(0,iO.Z)(),l=(0,y.Z)(),a=(0,f.Z)(),r=(0,v.I0)(),{setAction:o}=(0,t1.Z)(),s=(0,og.r)({base:!0,md:!1}),[u,c]=(0,d.useState)(!1),m=(0,d.useCallback)(()=>r((0,I.y$)(null)),[r]),p=(0,d.useCallback)(e=>{let{shouldFetchProduct:n,shouldToggleBid:l}=e;i(null),m(),l&&o(t2.t.Bid),n&&t()},[i,m,o,t]),h=(0,d.useMemo)(()=>{var t,i,r,o,d,s;return"string"!=typeof n&&(null==e?void 0:null===(i=e.market)||void 0===i?void 0:null===(t=i.bidAskData)||void 0===t?void 0:t.numberOfAsks)<=1&&(null==n?void 0:null===(r=n.result)||void 0===r?void 0:r.reason)==="LOWEST_ASK_CHANGED"?{isOpen:!u,title:"item_sold_out",primaryCopy:"no_lowest_ask_available",secondaryCopy:"can_place_bid",buttons:[{text:"continue_shopping",action:()=>{var t;p({shouldFetchProduct:!1,shouldToggleBid:!1}),l.push({pathname:a(`/${(null==e?void 0:null===(t=e.product)||void 0===t?void 0:t.productCategory)||"sneakers"}/most-popular`),state:{as:b.a.Browse}})}},{text:"place_a_bid",action:()=>{p({shouldFetchProduct:!0,shouldToggleBid:!0})}}]}:"string"!=typeof n&&(null==n?void 0:null===(o=n.result)||void 0===o?void 0:o.reason)==="LOWEST_ASK_CHANGED"&&(null==e?void 0:null===(s=e.market)||void 0===s?void 0:null===(d=s.bidAskData)||void 0===d?void 0:d.numberOfAsks)>1?{isOpen:!u,title:"price_has_changed",primaryCopy:"new_lowest_ask_price",secondaryCopy:"",buttons:[{text:"review_new_price",action:()=>{p({shouldFetchProduct:!0,shouldToggleBid:!1})}}]}:{title:"",primaryCopy:"",secondaryCopy:"",buttons:[],isOpen:!1}},[n,e,l,a,p]);return(0,d.useMemo)(()=>({modalState:h,setIsOpen:c,isMobile:s}),[h,c,s])},o5=n(75768),o3=e=>{var t;let{modalState:n,setIsOpen:i}=e,{t:l}=(0,j.$G)("page.checkout"),a=(0,d.useRef)(null),r=n.buttons[n.buttons.length-1].action;return(0,o.tZ)(i3.d,{isOpen:null==n?void 0:n.isOpen,onClose:()=>i(!1),finalFocusRef:a,placement:"bottom",children:(0,o.tZ)(t$.Z,{children:(0,o.BX)(i4.s,{children:[(0,o.tZ)(tX.o,{size:"lg",onClick:r}),(0,o.tZ)(t3.x,{"data-testid":"buy-to-bid-error-drawer",children:l(null==n?void 0:n.title)}),(0,o.BX)(tU.f,{children:[(null==n?void 0:n.primaryCopy)&&(0,o.tZ)(J.x,{children:l(null==n?void 0:n.primaryCopy)}),(null==n?void 0:n.secondaryCopy)&&(0,o.tZ)(J.x,{mt:"4",children:l(null==n?void 0:n.secondaryCopy)})]}),(0,o.tZ)(ne.m,{children:(0,o.tZ)(o5.h,{display:"flex",justifyContent:(null==n?void 0:null===(t=n.buttons)||void 0===t?void 0:t.length)>1?"space-between":"flex-end",width:"100%",children:null==n?void 0:n.buttons.map((e,t)=>{let i=0===t&&(null==n?void 0:n.buttons.length)===1||1===t&&(null==n?void 0:n.buttons.length)===2;return(0,o.tZ)(ee.z,{onClick:e.action,variant:i?"primary":"secondary",children:l(e.text)},t)})})})]})})})},o4=e=>{var t;let{modalState:n,setIsOpen:i}=e,{t:l}=(0,j.$G)("page.checkout"),a=n.buttons[n.buttons.length-1].action;return(0,o.BX)(tO.u_l,{isOpen:null==n?void 0:n.isOpen,onClose:()=>i(!1),size:"lg",isCentered:!0,children:[(0,o.tZ)(t$.Z,{}),(0,o.BX)(tG.h,{children:[(0,o.tZ)(t3.x,{"data-testid":"buy-to-bid-error-modal",children:l(null==n?void 0:n.title)}),(0,o.tZ)(tX.o,{onClick:a}),(0,o.BX)(tU.f,{children:[(null==n?void 0:n.primaryCopy)&&(0,o.tZ)(J.x,{children:l(null==n?void 0:n.primaryCopy)}),(null==n?void 0:n.secondaryCopy)&&(0,o.tZ)(J.x,{mt:"4",children:l(null==n?void 0:n.secondaryCopy)})]}),(0,o.tZ)(ne.m,{children:(0,o.tZ)(o5.h,{display:"flex",justifyContent:(null==n?void 0:null===(t=n.buttons)||void 0===t?void 0:t.length)>1?"space-between":"flex-end",width:"100%",children:null==n?void 0:n.buttons.map((e,t)=>{let i=0===t&&(null==n?void 0:n.buttons.length)===1||1===t&&(null==n?void 0:n.buttons.length)===2;return(0,o.tZ)(ee.z,{onClick:e.action,variant:i?"primary":"secondary",children:l(e.text)},t)})})})]})]})},o7=()=>{let{modalState:e,isMobile:t,setIsOpen:n}=o2();return(null==e?void 0:e.title)===""?null:(0,o.tZ)(o.HY,{children:t?(0,o.tZ)(o3,{modalState:e,setIsOpen:n}):(0,o.tZ)(o4,{modalState:e,setIsOpen:n})})},o9=n(7344),o8=n(43297),o6=n(59905),de=()=>{var e,t,n,i,l,a,r,s;let{t:u}=(0,j.$G)(),{deliveryMethod:c,setDeliveryMethod:m}=(0,ik.Z)(),[v,p]=(0,d.useState)(!1),{expressMethod:h,expressStandard:g,standardDeliveryMethod:y,expressExpedited:k,expressMethodCount:Z}=oG(),f=(0,A.Z)(B.Z.feature_flex_131_web),b=(0,nK.Z)(),C=(0,ar.Z)(),S=f&&(null==h?void 0:h.lowestAsk)&&(null==y?void 0:y.lowestAsk)&&(null==h?void 0:h.lowestAsk)<=(null==y?void 0:y.lowestAsk);(0,d.useEffect)(()=>{!v&&S&&(m(R.Gl.ExpressStandard),p(!0))},[v,S]);let _=(0,d.useMemo)(()=>{var e,t,n,i,l,a;let r=null==h?void 0:null===(t=h.delivery)||void 0===t?void 0:null===(e=t.cutoffSummary)||void 0===e?void 0:e.message,o=null==h?void 0:null===(i=h.delivery)||void 0===i?void 0:null===(n=i.latestDeliveryDateSummary)||void 0===n?void 0:n.context,d=RegExp(`\\w*({${null==o?void 0:null===(l=o[0])||void 0===l?void 0:l.key}})\\w*`),s=new Date,u=Math.floor((new Date(null==o?void 0:null===(a=o[0])||void 0===a?void 0:a.value).getTime()-s.getTime())/6e4),c=Math.floor(u/60),m=c?`${c} hours`:"",v=`${u%60} mins`,p=`${m} ${v}`;return null==r?void 0:r.replace(d,`${p}`)},[null==h?void 0:null===(e=h.delivery)||void 0===e?void 0:e.cutoffSummary]),x=(0,d.useMemo)(()=>{var e,t,n,i,l,a,r,o,d;let s=null==h?void 0:null===(t=h.delivery)||void 0===t?void 0:null===(e=t.cutoffDeliveryDateSummary)||void 0===e?void 0:e.message,u=null==h?void 0:null===(i=h.delivery)||void 0===i?void 0:null===(n=i.cutoffDeliveryDateSummary)||void 0===n?void 0:n.context,c=RegExp(`\\w*({${null==u?void 0:null===(l=u[0])||void 0===l?void 0:l.key}})\\w*`),m=RegExp(`\\w*({${null==u?void 0:null===(a=u[1])||void 0===a?void 0:a.key}})\\w*`),v=C(null==u?void 0:null===(r=u[0])||void 0===r?void 0:r.value,"month_long_and_day"),p=C(null==u?void 0:null===(o=u[1])||void 0===o?void 0:o.value,"month_long_and_day");return null==s?void 0:null===(d=s.replace(c,`${v}`))||void 0===d?void 0:d.replace(m,`${p}`)},[null==h?void 0:null===(t=h.delivery)||void 0===t?void 0:t.cutoffDeliveryDateSummary]),N=(0,d.useMemo)(()=>{var e,t,n;let i=null==h?void 0:null===(t=h.delivery)||void 0===t?void 0:null===(e=t.latestDeliveryDateSummary)||void 0===e?void 0:e.context,l=new Date,a=Math.floor((new Date(null==i?void 0:null===(n=i[0])||void 0===n?void 0:n.value).getTime()-l.getTime())/6e4);return a>0&&a<=240},[null==h?void 0:null===(n=h.delivery)||void 0===n?void 0:n.latestDeliveryDateSummary]),w=(0,d.useMemo)(()=>{var e,t,n,i,l,a;let r=null==h?void 0:null===(t=h.delivery)||void 0===t?void 0:null===(e=t.cutoffSummary)||void 0===e?void 0:e.message,o=null==h?void 0:null===(i=h.delivery)||void 0===i?void 0:null===(n=i.latestDeliveryDateSummary)||void 0===n?void 0:n.context,d=RegExp(`\\w*({${null==o?void 0:null===(l=o[0])||void 0===l?void 0:l.key}})\\w*`),s=new Date,u=Math.floor((new Date(null==o?void 0:null===(a=o[0])||void 0===a?void 0:a.value).getTime()-s.getTime())/6e4),c=Math.floor(u/60),m=c?`${c} hours`:"",v=`${u%60} mins`,p=`${m} ${v}`;return null==r?void 0:r.replace(d,`${p}`)},[null==h?void 0:null===(i=h.delivery)||void 0===i?void 0:i.latestDeliveryDateSummary]),E=(e,t)=>e&&t?`${C(e,"month_long_and_day")} - ${C(t,"month_long_and_day")}`:C(e,"month_long_and_day");return f?1===Z?(0,o.BX)(H.k,{justifyContent:"space-between",children:[(0,o.BX)(H.k,{width:"100%",display:"inline",my:"2",flexDirection:"column",children:[(0,o.BX)(tR.xu,{children:[(0,o.tZ)(ai.c,{boxSize:5,mr:2}),u("xpress_shipping")]}),(0,o.tZ)(J.x,{display:"inline",fontWeight:"600",children:(0,o.tZ)(tR.xu,{children:N&&(0,o.BX)(o.HY,{children:[(0,o.tZ)(J.x,{display:"inline",color:"green.500",children:_})," ",(0,o.tZ)(J.x,{display:"inline",children:x})]})})})]}),(0,o.tZ)(tR.xu,{children:(0,o.tZ)(J.x,{fontWeight:"600",children:(null==h?void 0:h.expressShippingPrice)?b({number:null==h?void 0:h.expressShippingPrice,round:!1}):null})})]}):(0,o.BX)(iH.g,{divider:(0,o.tZ)(tR.xu,{ml:"0",width:{base:"calc(100% + 2rem)",sm:"calc(100% + 6rem)",md:"calc(100% + 2.50rem)"},children:(0,o.tZ)(iW.c,{borderColor:"background-accent-3"})}),children:[(0,o.BX)(tR.xu,{width:"100%",display:"inline",my:"2",children:[(0,o.BX)(tR.xu,{children:[(0,o.tZ)(ai.c,{boxSize:5,mr:2}),u("Shipping Speed"),N&&(0,o.tZ)(J.x,{display:"inline",fontWeight:"600",color:"green.500",ml:"2",children:w})]}),S&&(0,o.tZ)(tR.xu,{fontWeight:"600",children:u("verified_xpress_ship")})]}),(0,o.tZ)(tR.xu,{width:"100%",my:"2",children:(0,o.tZ)(o9.E,{onChange:e=>{m(e)},value:c,sx:{".chakra-radio__label":{display:"flex",width:"100%"}},children:(0,o.BX)(o8.K,{children:[(0,o.tZ)(o6.Y,{"data-testId":"express-standard-radio-button",className:"speed-radio",width:"100%",value:R.Gl.ExpressStandard,children:(0,o.BX)(H.k,{justifyContent:"space-between",width:"100%",children:[E(null==g?void 0:null===(l=g.delivery)||void 0===l?void 0:l.date,null==g?void 0:null===(a=g.delivery)||void 0===a?void 0:a.latestDeliveryDate),(0,o.tZ)(J.x,{fontWeight:"600",children:(null==g?void 0:g.expressShippingPrice)?b({number:null==g?void 0:g.expressShippingPrice,round:!1}):null})]})}),(0,o.tZ)(o6.Y,{"data-testId":"express-expedited-radio-button",value:R.Gl.ExpressExpedited,children:(0,o.BX)(H.k,{justifyContent:"space-between",width:"100%",children:[E(null==k?void 0:null===(r=k.delivery)||void 0===r?void 0:r.date,null==k?void 0:null===(s=k.delivery)||void 0===s?void 0:s.latestDeliveryDate),(0,o.tZ)(J.x,{fontWeight:"600",children:(null==k?void 0:k.expressShippingPrice)?b({number:null==k?void 0:k.expressShippingPrice,round:!1}):null})]})})]})})})]}):null},dt=e=>{var t,n,i,l,a,r,s,u,c,m,v,p,h,g,y,k,Z,b,S,x,w,E,T,I,D,L,M;let{cancelTransaction:z,changeAction:$,editPaymentSettings:X,bnplPayment:U,showLoginSignup:V,showSizeSelectPane:W,regulatoryIdConfig:K,selectLocalPaymentMethod:q,clearPaymentSelection:et}=e,en=(0,A.Z)(B.Z.feature_flex_131_web),ei="true"===(0,A.Z)(B.Z.ab_ljut9_web),{payments:el}=(0,d.useContext)(ea.Z),er=null==el?void 0:null===(t=el.paymentAccounts)||void 0===t?void 0:t.find(e=>(null==e?void 0:e.isPreferred)&&(null==e?void 0:e.isExpired)),{selectedPayment:ed}=(0,iR.Z)(),es=null==ed?void 0:ed.paymentType,eu=ei&&!!er&&es===n_.Lt.CreditCard,[ec,ev]=(0,d.useState)(!1),{product:ep,selectedVariant:eh,portfolioItem:eg}=(0,F.Z)(),{trackSegmentEvent:ey,trackSegmentScreen:ek}=(0,e3.Z)(),{leftButtonClickMethod:eZ,rightButtonClickMethod:ef,bidEntryStepLoading:eb}=oH({cancelTransaction:z,showLoginSignup:V,regulatoryIdConfig:K,bnplPayment:U,clearPaymentSelection:et,isPaymentMethodExpired:eu}),{deliveryMethod:eC}=(0,ik.Z)(),eS=P(),{t:e_}=(0,j.$G)(),eN="base"===(0,tD.EN)(),{setBatchedContextValues:eI}=i$(),{currencyIncrement:eA,currency:eB}=(0,em.Z)(),eD=(0,nK.Z)(),{shippingAddress:eP}=(0,tH.Z)(),{standardDeliveryMethod:eF,expressMethod:eL}=oG(),eM="true"===(0,A.Z)(B.Z.ab_checkout_hubbox),ez=(0,G.Z)(null==ep?void 0:ep.listingType),{giftCardBuyForm:eR}=(0,d.useContext)(eo),eO=(null==ep?void 0:ep.listingType)==="STANDARD",e$=eC===R.Gl.Express||eC===R.Gl.ExpressExpedited||eC===R.Gl.ExpressStandard,eG=null==eh?void 0:null===(i=eh.deliveryOptions)||void 0===i?void 0:null===(n=i.methods)||void 0===n?void 0:n.some(e=>(null==e?void 0:e.type)===R.Gl.Express||(null==e?void 0:e.type)===R.Gl.ExpressExpedited||(null==e?void 0:e.type)===R.Gl.ExpressStandard),{isPricingFetching:eX,pricing:eU}=(0,tP.Z)(),{error:eV}=(0,iO.Z)(),{action:ej}=(0,t1.Z)(),{amount:eH}=(0,eE.Z)(),eW=or(),{isPaymentMethodError:eY,errorMessage:eK}=od(),eq=rJ(),{setStepWithPaymentOption:eQ}=ry();os({selectLocalPaymentMethod:q}),ou({selectLocalPaymentMethod:q});let eJ=(0,C.Z)(),e0=(0,_.Z)(),e5=(0,f.Z)(),{urlPrefix:e4}=(0,rh.Z)(),e7=(0,l4.Z)(),e9=(0,Y.Z)(),{modalRef:e8,initiateSearch:e6,isHubBoxReady:te,pickupPerson:tt,setPickupPerson:tn,pickupPersonRequired:ti}=oP({trackScreen:ek,trackEvent:ey}),{setStep:tl}=(0,eT.Z)(),{setCheckoutBanner:ta,bannerText:tr,clearCheckoutBanner:to}=(0,ex.Z)(),td=(0,d.useRef)(),ts=(0,d.useMemo)(()=>{let e=!!ep&&(null==ep?void 0:ep.listingType)==="RAFFLE",t=!!ep&&(null==ep?void 0:ep.listingType)==="RESTOCK",n=!!ep&&(null==ep?void 0:ep.listingType)==="CHARITY",i=!!ep&&(null==ep?void 0:ep.listingType)==="DROPX"&&(null==ep?void 0:ep.lockSelling);return!t&&!n&&!e&&!i&&!ez},[ep]),tu=(0,d.useMemo)(()=>({display:e_("Place Bid"),value:t2.t.Bid}),[e_]),tc=(0,d.useMemo)(()=>({display:e_("Buy Now"),value:t2.t.Buy}),[e_]),tm=(0,d.useMemo)(()=>{let e=!!ep&&(null==ep?void 0:ep.listingType)==="RESTOCK",t=!!ep&&(null==ep?void 0:ep.listingType)==="CHARITY";return ej===t2.t.Buy||e||t||ez},[ep,ej]),{isEligibleForBNPL:tv}=(0,rk.Z)()({lowestAsk:null==eh?void 0:null===(a=eh.market)||void 0===a?void 0:null===(l=a.bidAskData)||void 0===l?void 0:l.lowestAsk,listingType:null==ep?void 0:ep.listingType});(0,d.useEffect)(()=>{tv&&ey({eventName:e1.Z.BADGE_VIEWED,screenName:e2.Z.AMOUNT_ENTRY,type:"PayPal BNPL"})},[tv]),(0,d.useEffect)(()=>{!ec&&eh&&(null==eU?void 0:eU.total)&&(ev(!0),ek({pageType:e2.Z.AMOUNT_ENTRY}))},[eh,null==eU?void 0:eU.total]);let tp=(0,d.useMemo)(()=>(null==eh?void 0:eh.id)&&e0?(null==eg?void 0:eg.product)&&ej===t2.t.Bid?e_("Update Bid"):(null==eJ?void 0:eJ.Billing)&&(eP||ez)?eu?e_("Update Payment Method"):ej===t2.t.Buy?e_("Review Order"):e_("Review Bid"):e_("Next"):e_("Next"),[null==eh?void 0:eh.id,U.isPreset,U.paymentMethod,e0,eg,ej,eJ,eP,e_,ez,ei,er]),th=(0,d.useMemo)(()=>!!e0&&(eX||eb),[e0,eX,eb]),tg=(0,d.useMemo)(()=>{var e;return th||!eW(null==eH?void 0:eH.toFixed(0),null==ep?void 0:ep.minimumBid)||(null==eH?void 0:eH.toFixed(2))!==(null==eU?void 0:null===(e=eU.subtotal)||void 0===e?void 0:e.toFixed(2))||ti||ez&&e0&&(null==eR?void 0:eR.isGCSubmitDisabled)},[th,ez,e0,null==eR?void 0:eR.isGCSubmitDisabled,eU,eH,null==ep?void 0:ep.minimumBid,ti]),ty=()=>{ey({eventName:e1.Z.LEARN_MORE_CLICKED,screenName:e2.Z.AMOUNT_ENTRY,type:"PayPal BNPL"})},tk=(0,d.useCallback)(e=>{ey({eventName:e1.Z.BADGE_VIEWED,screenName:e2.Z.AMOUNT_ENTRY,type:"Purchase payment error",label:e}),ta({bannerText:e,bannerActionText:e_("Update"),bannerAction:()=>{tl(ew.j.Billing),ey({eventName:e1.Z.EDIT_CLICKED,screenName:e2.Z.AMOUNT_ENTRY,type:"Payment method"})},bannerVariant:"error",bannerStep:ew.j.BidEntry})},[ey,ta,tl,e_]);(0,d.useEffect)(()=>{eY&&eK?(tk(eK),N.Z.scrollToTop()):eq&&tr!==e_("buyer_card_ping")&&(ta({bannerText:e_("buyer_card_ping"),bannerActionText:e_("Add"),bannerAction:()=>{eQ(ew.j.Billing,n_.Lt.CreditCard)},bannerVariant:"error",bannerStep:ew.j.BidEntry}),N.Z.scrollToTop()),eq||eY||tr!==e_("buyer_card_ping")||to()},[eY,eK,eq,ta,tl,tk,to,eQ,tr]);let tZ=en&&(null==eL?void 0:eL.lowestAsk)&&(null==eF?void 0:eF.lowestAsk)&&(null==eL?void 0:eL.lowestAsk)<=(null==eF?void 0:eF.lowestAsk),tf=en&&(null==eL?void 0:eL.lowestAsk)&&(null==eF?void 0:eF.lowestAsk)&&(null==eL?void 0:eL.lowestAsk)===(null==eF?void 0:eF.lowestAsk);return(0,o.BX)(o.HY,{children:[(0,o.tZ)(iJ.Z,{error:eV,screen:ej===t2.t.Bid?iY.a.BuyingPlaceBidForm:iY.a.BuyingBuyNowForm,handlePaymentMethodError:tk,trackError:!0}),(0,o.tZ)(oX.Z,{}),(0,o.tZ)(oU.Z,{context:O.T.Buy}),!eN&&!ez&&(0,o.tZ)(n6,{}),(0,o.BX)(iH.g,{marginTop:[2,4],spacing:[2,4],"data-xpress-ship":e$,children:[!eN&&!ez&&(0,o.tZ)(rf,{showSizeClick:W,showSizeSelect:(0,n1.Z)(ep)}),ez&&(0,o.tZ)(lv.Z,{flexDirection:"column","data-testid":"buy-now-price",children:(0,o.tZ)(oh,{})}),eO&&ts&&(0,o.BX)(o.HY,{children:[ej===t2.t.Buy&&!eG&&(0,o.BX)(o.HY,{children:[(0,o.tZ)(lv.Z,{flexDirection:"column","data-testid":"buy-now-price",children:(0,o.tZ)(oh,{})}),ts&&(!e$||tf)&&(0,o.tZ)(op,{onClick:()=>$(t2.t.Bid)})]}),ej===t2.t.Bid&&(0,o.tZ)(lv.Z,{flexDirection:"column","data-testid":"pricing-options",children:(0,o.tZ)(ox,{changeAction:$})}),!tZ&&ej===t2.t.Buy&&eG&&(0,o.BX)(lv.Z,{children:[(0,o.tZ)(o1,{}),tv&&e0&&ej===t2.t.Buy&&(0,o.tZ)(H.k,{justifyContent:"center",mt:"4",children:(0,o.tZ)(lE,{currency:eB,amount:eH,learnMoreTracking:ty,alignment:"left",linkStyle:"underline"})})]})]}),!eO&&(0,o.BX)(lv.Z,{flexDirection:"column","data-testid":"bid-entry-step-wrapper",children:[ts&&(0,o.BX)(o.HY,{children:[(0,o.tZ)(rw,{options:[tu,tc],context:O.T.Buy,onClickItem:$},"switch"),(0,o.tZ)(o1,{})]}),!!eh&&ej===t2.t.Bid&&(0,o.BX)(tR.xu,{className:"market-summary",textAlign:"center",mt:"2",mb:"1",children:[(0,o.tZ)(rp.u,{mr:2}),(0,o.BX)("span",{className:"grey",children:[e_("bid_guidance_highest_bid",{price:eD({number:(null==eh?void 0:null===(s=eh.market)||void 0===s?void 0:null===(r=s.bidAskData)||void 0===r?void 0:r.highestBid)&&(null==eh?void 0:null===(c=eh.market)||void 0===c?void 0:null===(u=c.bidAskData)||void 0===u?void 0:u.highestBid)<25?25:(null==eh?void 0:null===(v=eh.market)||void 0===v?void 0:null===(m=v.bidAskData)||void 0===m?void 0:m.highestBid)||0})})," "]})]}),ej===t2.t.Buy&&!eG&&!ez&&(0,o.tZ)(o.HY,{children:(null==eh?void 0:null===(h=eh.market)||void 0===h?void 0:null===(p=h.bidAskData)||void 0===p?void 0:p.lowestAsk)?(0,o.tZ)(Q.X,{size:"3xl",variant:"bold",children:eD({number:null==eh?void 0:null===(y=eh.market)||void 0===y?void 0:null===(g=y.bidAskData)||void 0===g?void 0:g.lowestAsk})}):(0,o.tZ)(Q.X,{size:"2rem",variant:"bold",children:e_("No Asks Available")})}),ej===t2.t.Bid&&(0,o.BX)(o.HY,{children:[(0,o.tZ)(oa,{}),(0,o.tZ)(rA,{context:O.T.Buy,handleChange:e=>eI({amount:e||0,bidAmount:e}),editable:!0,increment:eA,emphasizedWarning:eH%eA!=0,currencySymbol:tT.Z.getCurrencySymbol()||"$",inputRef:td,custom_placeholder:""},"amountInput")]}),ej===t2.t.Bid&&(0,o.BX)(nt.M,{className:"market-summary",mt:"2",children:[(0,o.BX)("span",{className:"grey",children:[e_("Highest Bid"),": \xa0"]}),(0,o.tZ)(J.x,{fontWeight:"bold",children:(null==eh?void 0:null===(Z=eh.market)||void 0===Z?void 0:null===(k=Z.bidAskData)||void 0===k?void 0:k.highestBid)&&(null==eh?void 0:null===(S=eh.market)||void 0===S?void 0:null===(b=S.bidAskData)||void 0===b?void 0:b.highestBid)>0?eD({number:null==eh?void 0:null===(w=eh.market)||void 0===w?void 0:null===(x=w.bidAskData)||void 0===x?void 0:x.highestBid}):"--"}),(null==eh?void 0:null===(T=eh.market)||void 0===T?void 0:null===(E=T.bidAskData)||void 0===E?void 0:E.lowestAsk)&&(null==eh?void 0:null===(D=eh.market)||void 0===D?void 0:null===(I=D.bidAskData)||void 0===I?void 0:I.lowestAsk)>0&&(0,o.BX)(o.HY,{children:[(0,o.tZ)(a_.i,{h:"6",orientation:"vertical",borderColor:"brand-secondary",marginX:"4"}),(0,o.tZ)(j.cC,{i18nKey:"buy_now_for",values:{amount:eD({number:null==eh?void 0:null===(M=eh.market)||void 0===M?void 0:null===(L=M.bidAskData)||void 0===L?void 0:L.lowestAsk})},components:[(0,o.tZ)(ee.z,{variant:"link-underline",onClick:()=>$(t2.t.Buy),fontSize:"md"},"amount")]})]})]}),tv&&e0&&ej===t2.t.Buy&&(0,o.tZ)(H.k,{justifyContent:"center",mt:"4",children:(0,o.tZ)(lE,{currency:eB,amount:eH,learnMoreTracking:ty,alignment:"left",linkStyle:"underline"})})]}),!ez&&(0,o.tZ)(i6.Z,{amount:eH,context:ej,screenName:e2.Z.AMOUNT_ENTRY,track:ey}),ej===t2.t.Buy&&eO&&eG&&ts&&(!e$||tf)&&(0,o.tZ)(op,{onClick:()=>$(t2.t.Bid)}),ej===t2.t.Buy&&!ez&&(0,o.tZ)(o.HY,{children:e$||tZ?(0,o.BX)(o.HY,{children:[tZ&&(0,o.tZ)(lv.Z,{flexDirection:"column","data-testid":"buy-now-price",children:(0,o.tZ)(oh,{})}),(0,o.tZ)(lv.Z,{children:(0,o.tZ)(de,{})})]}):(0,o.tZ)(au,{deliveryMethod:eC})}),eM&&ej===t2.t.Buy&&(0,o.tZ)(o$,{selectedVariant:eh,trackEvent:ey,modalRef:e8,initiateSearch:e6,isHubBoxReady:te,pickupPerson:tt,setPickupPerson:tn,isGuestUser:eS}),ez&&e0&&(0,o.tZ)(oI,{}),e0&&(0,o.tZ)(r9,{bnplPayment:U,hideExpiration:tm,editPaymentSettings:X,regulatoryIdConfig:K,isCardExpiredEnabled:ei,preferredAccountIsExpired:er},"multi-settings"),"DE"===e7&&(0,o.BX)(tR.xu,{px:4,py:2,children:[(0,o.tZ)(J.x,{fontSize:{base:"xs",md:"md"},children:(0,o.tZ)(j.cC,{i18nKey:"germany_compliance_disclaimer_line_1",components:[(0,o.tZ)(oY,{to:(0,rg.cG)(e5("terms")),color:"brand-primary"},"terms"),(0,o.tZ)(oK,{isExternal:!0,color:"brand-primary",href:"/de-de/"===e4?"https://help.stockx.com/s/article/Als-ein-EU-Einwohner-was-ist-das-Widerrufsrecht?language=de":`https://help.stockx.com/s/article/As-an-EU-or-UK-resident-what-is-my-right-to-withdrawal?language=${e9}`},"return"),(0,o.tZ)(oY,{to:(0,rg.cG)(`${e4}privacy`),color:"brand-primary"},"privacy")]})}),(0,o.tZ)(J.x,{fontSize:{base:"xs",md:"md"},children:(0,o.tZ)(j.cC,{i18nKey:"germany_compliance_disclaimer_line_2",components:[(0,o.tZ)(oY,{to:"/de-de/"===e4?"/de-de/impressum":"/impressum",color:"brand-primary"},"impressum")]})})]}),(null==eU?void 0:eU.subtotal)&&!ez&&(0,o.tZ)(lv.Z,{children:(0,o.tZ)(lo,{"data-component":"multi-settings",children:(0,o.tZ)(aA,{})})})]}),(0,o.tZ)(oA,{onCancelClick:eZ,onConfirmClick:ef,confirmButtonText:tp,isLoading:(null==el?void 0:el.fetching)||th,isDisabled:tg}),(0,o.tZ)(rZ.Z,{}),(0,o.tZ)(o7,{})]})},dn=n(68824),di=n(73891),dl=n(84853),da=n(24255),dr=n(77768),dd=n(40852),ds=n(77153),du=n(63130),dc=n(62052),dm=n(82108),dv=n.n(dm);(l=r||(r={})).facebook="Facebook",l.twitter="Twitter",l.pinterest="Pinterest",l.email="Email";let dp={facebook:dd.Z,twitter:ds.Z,pinterest:du.Z,email:ro.e};var dh=e=>{let{href:t,tracking:n,type:i,selectedVariant:l}=e,a=(0,ih.Z)(),s=(0,d.useMemo)(()=>"email"!==i?dv()(i):i,[i]),u=(0,d.useCallback)(e=>{if(a===dr.G.Product){var t,n;(0,e0.Z)(e1.Z.PRODUCT_SHARED,{vertical:null==l?void 0:null===(t=l.product)||void 0===t?void 0:t.browseVerticals,productUUID:null==l?void 0:l.productUuid,skuUUID:null==l?void 0:l.id,productName:null==l?void 0:null===(n=l.product)||void 0===n?void 0:n.title,screenName:a,socialPlatform:s})}e.preventDefault();let i=e.target.href||e.target.parentNode.href,r=window.open(i,"Share StockX","height=420,width=550");(null==r?void 0:r.focus)&&r.focus()},[a,l,s,i,n]),c=(0,d.useCallback)(()=>{if(a===dr.G.Product){var e,t;(0,e0.Z)(e1.Z.PRODUCT_SHARED,{vertical:null==l?void 0:null===(e=l.product)||void 0===e?void 0:e.browseVerticals,productUUID:null==l?void 0:l.productUuid,skuUUID:null==l?void 0:l.id,productName:null==l?void 0:null===(t=l.product)||void 0===t?void 0:t.title,screenName:a,socialPlatform:s})}},[a,l,s,n]),m=dp[i];return(0,o.BX)(ee.z,{as:aj.r,variant:"secondary",textDecoration:"none",width:{base:"47%",md:"auto"},m:{base:1,md:0},mt:{base:1,md:1},href:t,onClick:"email"===i?c:u,"data-testid":"share-button-wrapper",children:[(0,o.tZ)(m,{boxSize:4,color:"twitter"!==i?dc.Z[i.toUpperCase()]:"currentColor",fill:"twitter"!==i?dc.Z[i.toUpperCase()]:"currentColor"}),(0,o.tZ)(J.x,{ml:"2",children:r[i]})]})},dg=n(21902),dy=n(63257),dk=n(29523);let dZ=(0,nr.m)(tR.xu,{baseStyle:{pt:{base:"5",md:"7"}}}),df=(0,nr.m)(dk.s,{baseStyle:{p:"0",m:"0",ml:"3","li::marker":{content:'""',fontSize:"1.50rem",color:"brand-primary",verticalAlign:"bottom",lineHeight:1},li:{fontSize:{base:"sm",md:"md"}}}}),db=(0,c.F4)("0%{background-color:white;}25%{background-color:white;}55%{background-color:#F4F3F1;}100%{background-color:#F4F3F1;}"),dC=(0,c.F4)("0%{transform:scale(0.75) translate(500px,-500px);}30%{transform:scale(0.75) translate(-500px,500px);}100%{transform:scale(0.75) translate(-500px,500px);}"),dS=(0,c.F4)("0%{opacity:0;transform:translate(0px,0px);}2.5%{opacity:0;transform:translate(0px,0px);}12.5%{opacity:1;transform:translate(0px,-35px);}17.5%{opacity:1;transform:translate(0px,-15px);}22.5%{opacity:1;transform:translate(0px,-25px);}60%{opacity:0;transform:translate(0px,0px);}100%{opacity:0;transform:translate(0px,0px);}"),d_=(0,c.F4)("0%{opacity:0;transform:translate(0px,0px) scale(1);;}2.5%{opacity:0;transform:translate(0px,0px) scale(1);}22.5%{opacity:0.5;transform:translate(0px,-35px) scale(1.5);}60%{opacity:0;transform:translate(0px,0px) scale(1.5);}100%{opacity:0;transform:translate(0px,0px)scale(1.5);}"),dx=(0,c.F4)("0%{opacity:0;transform:translateY(-50%);}50%{opacity:0;transform:translateY(-50%);}62.5%{opacity:1;transform:translateY(0);}100%{opacity:1;transform:translateY(0);}"),dN=(0,c.F4)("0%{opacity:0;}60%{opacity:0;}73%{opacity:1;}75%{opacity:0;}77%{opacity:1;}100%{opacity:1;}"),dw=(0,c.F4)("0%{opacity:1;}35%{opacity:1;}50%{opacity:0;}65%{opacity:1;}100%{opacity:1;}"),dE=(0,c.F4)("0%{transform:rotate(45deg) translateY(1000px);}20%{transform:rotate(45deg) translateY(50px);}50%{transform:rotate(45deg) translateY(-35px);}85%{transform:rotate(45deg) translateY(15px);}100%{transform:rotate(45deg) translateY(-15px);}"),dT=(0,c.F4)("0%{transform:rotate(45deg) translateY(-15px);}50%{transform:rotate(45deg) translateY(-35px);}100%{transform:rotate(45deg) translateY(-15px);}"),dI=(0,c.F4)("0%{transform:rotate(180deg) scaleX(0.75) scaleY(0.75);}20%{transform:rotate(180deg) scaleX(0.75)  scaleY(0.85);}40%{transform:rotate(180deg) scaleX(0.75) scaleY(0.775);}80%{transform:rotate(180deg) scaleX(0.75)  scaleY(0.825);}100%{transform:rotate(180deg) scaleX(0.75) scaleY(0.75);}"),dA=(0,c.F4)("0%{transform:rotate(180deg) scaleX(0.55) scaleY(0.55);}20%{transform:rotate(180deg) scaleX(0.55) scaleY(0.65);}40%{transform:rotate(180deg) scaleX(0.55) scaleY(0.575);}80%{transform:rotate(180deg) scaleX(0.55) scaleY(0.625);}100%{transform:rotate(180deg) scaleX(0.55) scaleY(0.55);}"),dB={margin:"auto",position:"absolute",bottom:0,left:0,top:0,right:0},dD=(0,nr.m)(tR.xu,{baseStyle:{width:{base:"calc(100% + 56px)",xl:"calc(100% + 142px)"},marginLeft:{base:"-28px",xl:"-70px"},height:{base:"240px",md:"300px"},position:"relative",overflow:"hidden",animation:`${db} 7.5s ease-in forwards`}}),dP=(0,nr.m)(tR.xu,{baseStyle:{position:"absolute",height:"100%",width:"100%",background:"linear-gradient(to top, var(--chakra-colors-background-accent-1), var(--chakra-colors-background-accent-3))",animation:`${dx} 7.5s ease-in-out forwards`}}),dF=(0,nr.m)(tR.xu,{baseStyle:{position:"absolute",top:"30px",left:"3%",height:"5px",width:"5px",borderRadius:"50%",backgroundColor:"white","&:nth-of-type(even)":{height:"3.5px",width:"3.5px"},"&:nth-of-type(2)":{left:"7.5%",top:"80px"},"&:nth-of-type(3)":{left:"10%",top:"40px",animationName:`${dN}, ${dw}`,animationDuration:"7500ms, 2200ms",animationDelay:"0ms, 7615ms",animationTimingFunction:"ease-in-out, ease-in-out",animationIterationCount:"1, infinite"},"&:nth-of-type(4)":{left:"14.5%",top:"25px"},"&:nth-of-type(5)":{left:"20%",top:"75px",animationName:`${dN}, ${dw}`,animationDuration:"7500ms, 1625ms",animationDelay:"600ms, 8085ms",animationTimingFunction:"ease-in-out, ease-in-out",animationIterationCount:"1, infinite"},"&:nth-of-type(6)":{left:"22.5%",top:"50px"},"&:nth-of-type(7)":{left:"35%",top:"90px"},"&:nth-of-type(8)":{left:"42.5%",top:"30px",animationName:`${dN}, ${dw}`,animationDuration:"7500ms, 2000ms",animationDelay:"900ms, 8425ms",animationTimingFunction:"ease-in-out, ease-in-out",animationIterationCount:"1, infinite"},"&:nth-of-type(9)":{left:"52.5%",top:"40px"},"&:nth-of-type(10)":{left:"60%",top:"40px"},"&:nth-of-type(11)":{left:"70%",top:"70px"},"&:nth-of-type(12)":{left:"80%",top:"50px"},"&:nth-of-type(13)":{left:"85%",top:"30px",animationName:`${dN}, ${dw}`,animationDuration:"7500ms, 1725ms",animationDelay:"400ms, 9050ms",animationTimingFunction:"ease-in-out, ease-in-out",animationIterationCount:"1, infinite"},"&:nth-of-type(14)":{left:"92.5%",top:"30px"}}}),dL=(0,nr.m)(tR.xu,{baseStyle:{position:"absolute",width:"full",height:"full"}}),dM=(0,nr.m)(tR.xu,{baseStyle:{...dB,display:"block",width:"30px",height:"30px",top:"-20px",left:"20px",transform:"translate(1000px, -1000px)",animation:`${dC} 7.5s ease-in-out forwards`,fill:"background-accent-1",animationDelay:"350ms","&:nth-of-type(2n)":{animationDuration:"12s",right:"50%",width:"60%"},"&:nth-of-type(3n)":{right:"-50%",width:"40%"},"&:nth-of-type(2)":{animationDelay:"700ms"},"&:nth-of-type(3)":{animationDelay:"1050ms"},"&:nth-of-type(4)":{animationDelay:"1400ms"},"&:nth-of-type(5)":{animationDelay:"1750ms"},"&:nth-of-type(6)":{animationDelay:"2000ms"},"&:nth-of-type(7)":{animationDelay:"2350ms"},"&:nth-of-type(8)":{animationDelay:"2700ms"},"&:nth-of-type(9)":{animationDelay:"3050ms"}}}),dz=(0,nr.m)(tR.xu,{baseStyle:{...dB,height:"150px",width:"150px",top:{base:"300px",md:"350px"},borderRadius:"50%",backgroundColor:"background-accent-1",transform:"translate(0px, 0px)",animation:`${dS} 7.5s ease-in-out forwards`,zIndex:"5","&:nth-of-type(2n)":{height:"175px",width:"175px",animationDelay:"300ms"},"&:nth-of-type(3n)":{height:"125px",width:"125px",animationDelay:"600ms",animation:`${d_} 7.5s ease-in-out forwards`},"&:nth-of-type(4n)":{height:"135px",width:"135px",animationDelay:"900ms"},"&:nth-of-type(2)":{right:"0"},"&:nth-of-type(3)":{right:"10%"},"&:nth-of-type(4)":{right:"20%"},"&:nth-of-type(5)":{right:"30%"},"&:nth-of-type(6)":{right:"40%"},"&:nth-of-type(7)":{right:"50%"},"&:nth-of-type(8)":{right:"60%"},"&:nth-of-type(9)":{right:"70%"},"&:nth-of-type(10)":{right:"80%"},"&:nth-of-type(11)":{right:"90%"},"&:nth-of-type(12)":{right:"100%",animationDelay:"0s",animation:`${d_} 7.5s ease-in-out forwards`},"&:nth-of-type(13)":{right:"110%"},"&:nth-of-type(14)":{right:"-10%"},"&:nth-of-type(15)":{right:"-20%"},"&:nth-of-type(16)":{right:"-30%"},"&:nth-of-type(17)":{right:"-40%"},"&:nth-of-type(18)":{right:"-50%"},"&:nth-of-type(19)":{right:"-60%"},"&:nth-of-type(20)":{right:"-70%"},"&:nth-of-type(21)":{right:"-80%"},"&:nth-of-type(22)":{right:"-90%"},"&:nth-of-type(23)":{right:"-100%"},"&:nth-of-type(24)":{right:"-110%"}}}),dR=(0,nr.m)(tR.xu,{baseStyle:{...dB,transform:{base:"scale(.75)",md:"scale(1)"}}}),dO=(0,nr.m)(tR.xu,{baseStyle:{...dB,transform:"rotate(45deg)",animationName:`${dE}, ${dT}`,animationDuration:"7500ms, 3500ms",animationDelay:"0ms, 7500ms",animationTimingFunction:"ease-in-out, ease-in-out",animationIterationCount:"1, infinite"}}),d$=(0,nr.m)(tR.xu,{baseStyle:{...dB,right:"55px",top:"40px",width:"30px",height:"60px",clipPath:"polygon(100% 0, 0 40%, 0 100%, 90% 60%)",backgroundColor:"brand-secondary",zIndex:1}}),dG=(0,nr.m)(tR.xu,{baseStyle:{...dB,width:"150px",height:"150px",zIndex:"7"}}),dX=(0,nr.m)(tR.xu,{baseStyle:{...dB,bottom:"35px",height:"42.5px",width:"42.5px",borderRadius:"50%",border:"2px solid",backgroundColor:"brand-primary",zIndex:8,svg:{...dB,top:"7.5px",left:"3.5px",fill:"brand-tertiary",zIndex:5}}}),dU=(0,nr.m)(tR.xu,{baseStyle:{...dB,left:"60px",top:"40px",width:"30px",height:"60px",clipPath:"polygon(0 0, 100% 40%, 100% 100%, 10% 60%)",backgroundColor:"brand-secondary",zIndex:1}}),dV=(0,nr.m)(tR.xu,{baseStyle:{...dB,top:"-20px",right:"18.5px",width:"100px",height:"100px",backgroundColor:"success",clipPath:'path("M 37.5 0 C 0 39 0 82 20 89 L 55 89 C 75 82 75 39 37.5 0")',transform:"rotate(180deg) scaleX(0.75) scaleY(0.75)",opacity:"0.5",transformOrigin:"bottom",animation:`${dI} 1.5s infinite`,zIndex:"4"}}),dj=(0,nr.m)(tR.xu,{baseStyle:{...dB,top:"-20px",right:"13.5px",width:"100px",height:"100px",backgroundColor:"brand-primary",clipPath:'path("M 37.5 0 C 0 39 0 82 20 89 L 55 89 C 75 82 75 39 37.5 0")',transform:"rotate(180deg) scaleX(0.55) scaleY(0.55)",opacity:"0.9",transformOrigin:"bottom",animation:`${dA} 1.5s infinite`,animationDelay:"150ms",zIndex:"5"}}),dH=(0,nr.m)(tR.xu,{baseStyle:{...dB,top:"102.5px",width:"20px",height:"15px",backgroundColor:"white",borderBottomLeftRadius:"50%",borderBottomRightRadius:"50%",zIndex:"6"}});var dW=()=>(0,o.BX)(dD,{children:[(0,o.tZ)(dP,{children:Array.from({length:14}).map((e,t)=>(0,o.tZ)(dF,{},`star-${t}`))}),(0,o.BX)(n3.iJ,{children:[(0,o.tZ)(dL,{children:Array.from({length:9}).map((e,t)=>(0,o.tZ)(dM,{children:(0,o.tZ)("svg",{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 600 200",xmlSpace:"preserve",children:(0,o.BX)("g",{children:[(0,o.tZ)("path",{d:"M20.9,156.2h-0.3C20.7,156.2,20.8,156.2,20.9,156.2z"}),(0,o.tZ)("path",{d:"M20.9,156.2l508.8-0.5c0-3.2-1.7-13-1.7-13c-5.7-21.1-25-36.6-47.8-36.6c-13.8,0-26.2,5.6-35.2,14.7 c-10-27.7-36.6-47.6-67.7-47.6c-14,0-27,4-38.1,10.9c-7-32.4-35.8-56.6-70.3-56.6c-31.3,0-57.9,19.9-67.8,47.8 c-5.4-1.3-11.1-2-16.9-2c-34.7,0-63.7,24.6-70.5,57.3c-8.6-14.6-24.5-24.4-42.7-24.4c-22.9,0-42.5,15.4-47.8,36.6 C21.7,147.9,20.9,156.2,20.9,156.2z"})]})},`cloud-${t}`)}))}),(0,o.tZ)(dL,{children:Array.from({length:23}).map((e,t)=>(0,o.tZ)(dz,{},`overcast-${t}`))}),(0,o.tZ)(dR,{children:(0,o.BX)(dO,{children:[(0,o.tZ)(d$,{}),(0,o.tZ)(dG,{children:(0,o.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",viewBox:"-115 8 600 1000",xmlSpace:"preserve",children:(0,o.BX)("g",{children:[(0,o.tZ)("path",{fill:"rgb(232,232,226)",d:"M 188.5 16.3 c 0 0 212.2 174.9 63.3 469.6 H 129.1 C 129.1 485.9 -32.9 246.5 188.5 16.3 z"}),(0,o.tZ)("path",{fill:"rgb(0,0,0)",d:"M 255.5 491.9 H 125.9 l -1.8 -2.6 c -1.7 -2.5 -41.4 -62 -54.3 -151 c -7.6 -52.3 -4.1 -103.8 10.2 -153.2 C 98 123.5 133 65.3 184.2 12.1 l 3.9 -4 l 4.3 3.5 c 2.2 1.8 54.6 45.6 89.2 126.6 c 20.3 47.6 30.2 98.1 29.2 150.1 c -1.2 64.9 -19.2 132.3 -53.6 200.3 L 255.5 491.9 z M 132.4 479.9 h 115.8 c 32.4 -65.1 49.4 -129.5 50.6 -191.4 c 1 -50.3 -8.5 -99 -28 -145 c -27.9 -65.5 -68.8 -106.7 -81.8 -118.8 c -47.7 50.7 -80.4 105.7 -97.3 163.8 c -13.9 47.7 -17.2 97.5 -9.9 148.1 C 92.7 412.6 124.6 467.5 132.4 479.9 z"}),(0,o.tZ)("path",{fill:"rgb(213,210,198)",d:"M 187.3 27.3 c 8 -22.4 -92.1 248 -21.8 450.3 l -33.8 0.2 C 131.6 477.8 -23.4 251.5 187.3 27.3 z"})]})})}),(0,o.tZ)(dX,{children:(0,o.tZ)("svg",{viewBox:"160 0 55 55",children:(0,o.tZ)("path",{d:"M186.401 27.5001L201.001 40V30L189.328 20.0056L201.001 10V0L180.601 17.4859V12.4999L166.001 0V10L177.674 19.9944L166.001 30V40L186.401 22.5144V27.5001Z"})})}),(0,o.tZ)(dU,{}),(0,o.tZ)(dV,{}),(0,o.tZ)(dj,{}),(0,o.tZ)(dH,{})]})})]})]});let dY=(0,ef.Z)();var dK=e=>{var t,n,i,l,a,r,s,u,c,m,v,p,h,g,k,Z,b,S,x,N,w,E,T,I,A,B,D,L,M,z,$,X,U,V,Y,K,q,J,en;let ei,{blurbs:el,context:ea=O.T.Sell,portfolioItem:er,finish:ed,payments:es}=e,{product:eu,selectedVariant:ec}=(0,F.Z)(),{trackSegmentEvent:em,trackSegmentScreen:ev}=(0,e3.Z)({chainId:null==er?void 0:er.chainId}),{t:ep}=(0,j.$G)(),eh=(0,_.Z)(),eg=(0,C.Z)(),ey=(0,f.Z)(),{amount:ek}=(0,eE.Z)(),{action:eZ}=(0,t1.Z)(),ef="base"===(0,tD.EN)(),eb=(0,ar.Z)(),{pricing:eC}=(0,tP.Z)(),eS=P(),e_=(0,y.Z)(),{deliveryMethod:ex}=(0,ik.Z)(),{deliveryOption:eN}=(0,nk.Z)(),ew=ex===R.Gl.Express||ex===R.Gl.ExpressStandard||ex===R.Gl.ExpressExpedited,eT=ex===R.Gl.Express||ex===R.Gl.ExpressExpedited,eI=ex===R.Gl.ExpressStandard,{giftCardBuyForm:eA}=(0,d.useContext)(eo),eB=(0,G.Z)(null==eu?void 0:eu.listingType),{fireRoktAction:eD}=(0,dl.Z)(),eP=(0,d.useMemo)(()=>{var e,t;return null==ec?void 0:null===(t=ec.deliveryOptions)||void 0===t?void 0:null===(e=t.methods)||void 0===e?void 0:e.find(e=>(null==e?void 0:e.type)===ex)},[ex,null==ec?void 0:ec.deliveryOptions]),{loadingIsRepeatBuyer:eF,isRepeatBuyer:eL}=i5(),{selectedPayment:eM}=(0,iR.Z)(),ez=(null==es?void 0:null===(n=es.paymentAccounts)||void 0===n?void 0:null===(t=n.find(e=>null==e?void 0:e.bin))||void 0===t?void 0:t.bin)??"",eR=!!(null==es?void 0:es.isGCApplied)&&!!eC.total&&Number(eC.total)>0&&!!(null==er?void 0:er.localCurrency),{data:eO}=(0,aT.Z)({price:null==eC?void 0:eC.total,currency:null==er?void 0:er.localCurrency,includeEligibleAmount:!0,isEnabled:eR}),e$=(0,d.useCallback)(()=>{em({eventName:e1.Z.FINISH_CLICKED,screenName:e2.Z.CONFIRMATION,type:eL?"repeat":"new",addtlProps:{orderId:(null==er?void 0:er.orderId)??(null==er?void 0:er.orderNumber)}}),ed()},[ed,eL,null==er?void 0:er.orderId,null==er?void 0:er.orderNumber]),eG=d.useRef(!1);(0,d.useEffect)(()=>{eF||eG.current||("buy"===ea&&((null==er?void 0:er.chainId)||eB)&&(eB&&eD({conversionType:"giftCard",amount:ek,currency:"USD",paymenttype:null==eM?void 0:eM.paymentType,confirmationref:null==eA?void 0:eA.gCPurchaseOrderId,ccbin:ez,cartItems:JSON.stringify([{majorcat:null==eu?void 0:eu.productCategory,minorcat:null==eu?void 0:eu.primaryCategory,productname:null==eu?void 0:eu.title,sku:null==ec?void 0:ec.id}]),flow:"buy"}),em({eventName:e1.Z.BUY_OR_BID_COMPLETED,screenName:e2.Z.CONFIRMATION,type:eL?"repeat":"new",addtlProps:{orderId:(null==er?void 0:er.orderId)??(null==er?void 0:er.orderNumber)}})),ev({pageType:e2.Z.CONFIRMATION}),eG.current=!0)},[eF,eL,null==er?void 0:er.chainId,null==er?void 0:er.orderId,null==er?void 0:er.orderNumber]);let eX=e=>{if(el&&el[e]){var t,n;let i=el[e],l=((null==i?void 0:null===(n=i.share)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.messages)||[]).reduce((e,t)=>{let[[n,i]]=Object.entries(t);return e[n]=i,e},{});return{...i,share:{messages:l}}}return"matched"===e?"buy"===ea?{header:ep("Order confirmed"),sub_header:ep("Congrats, the goods are yours")}:{header:ep("Sale Confirmed"),sub_header:""}:"placed"===e?"buy"===ea?{header:ep("Success!"),sub_header:ep("Your Bid is Live!")}:{header:ep("Success!"),sub_header:ep("Your Ask is Live!")}:{header:ep("Something went wrong"),sub_header:ep("Try again later, or contact support@stockx.com")}};ei=eX((null==er?void 0:er.statusMessage)==="Payment Failed"?"payment_failed":(null==er?void 0:er.statusMessage)==="Authorization Failed"?"authorization_failed":(null==er?void 0:er.matchedWith)?"matched":"placed");let eU=ep("Next Steps"),eV=[(0,o.tZ)("li",{children:aH.Z.interpolateContentStack(ep("chk_order_success_xpress_message"),{product:eu,portfolioItem:er})})];if((null==ei?void 0:ei.reminder)&&(null==ei?void 0:null===(l=ei.reminder)||void 0===l?void 0:null===(i=l[0])||void 0===i?void 0:i.bullets)&&!ew&&(eU=(null==ei?void 0:null===(Z=ei.reminder)||void 0===Z?void 0:null===(k=Z[0])||void 0===k?void 0:k.bulletsTitle)?null==ei?void 0:null===(S=ei.reminder)||void 0===S?void 0:null===(b=S[0])||void 0===b?void 0:b.bulletsTitle:ep("Reminders"),eV=null==ei?void 0:null===(N=ei.reminder)||void 0===N?void 0:null===(x=N[0])||void 0===x?void 0:x.bullets.map((e,t)=>{let{message:n=""}=e;return(0,o.tZ)("li",{children:aH.Z.interpolateContentStack(n,{product:eu,portfolioItem:er})},t)})),(null==eN?void 0:eN.topic)==="COLLECT_POINT_CONFIRMED"&&(null==ei?void 0:null===(s=ei.reminder)||void 0===s?void 0:null===(r=s[0])||void 0===r?void 0:null===(a=r.pick_up_bullets)||void 0===a?void 0:a.length)){let e=null==ei?void 0:null===(T=ei.reminder)||void 0===T?void 0:null===(E=T[0])||void 0===E?void 0:null===(w=E.pick_up_bullets)||void 0===w?void 0:w.map((e,t)=>{let{message:n=""}=e;return(0,o.tZ)("li",{children:aH.Z.interpolateContentStack(n,{product:eu,portfolioItem:er})},t)});null==eV||eV.push(...e)}eB&&(eU=(null===(A=(ei={...ei=eX(new Date(null==eA?void 0:eA.scheduledTime.substring(0,10))>new Date(dY)?"placed":"matched"),sub_header:aH.Z.interpolateContentStack((null==ei?void 0:ei.sub_header)??ep("redeem_confirmation_details_order_total",{price:tT.Z.getDollars(ek,!1,!0,"USD")}),{localAmount:tT.Z.getDollars(ek,!1,!0,"USD")})}).reminder)||void 0===A?void 0:null===(I=A[0])||void 0===I?void 0:I.header)??ep("Next Steps"),eV=null==ei?void 0:null===(D=ei.reminder)||void 0===D?void 0:null===(B=D[0])||void 0===B?void 0:B.bullets.map((e,t)=>{let{message:n=""}=e;return(0,o.tZ)("li",{children:aH.Z.interpolateContentStack(n,{localAmount:`$${Math.round(Number(ek||0))}`,scheduledTime:eb(null==eA?void 0:eA.scheduledTime,"date_without_dow","",!1)})},t)}));let ej=`https://stockx.com${ey(null==eu?void 0:eu.urlKey)}`,eH={category:null==eu?void 0:eu.productCategory,label:null==eu?void 0:eu.title},eW="",eY="",eK="",eq=`mailto:?subject=${eK}&body=${eY}`,eQ="",eJ=(0,d.useMemo)(()=>ea===O.T.Buy?(null==er?void 0:er.matchedWith)!==null?ep("Share your Purchase"):ep("Share your Bid"):ea===O.T.Sell?(null==er?void 0:er.matchedWith)!==null?ep("Share your Sale"):ep("Share your Ask"):void 0,[er,ea,ep]);(null==ei?void 0:ei.share)&&(eW=null==ei?void 0:null===(z=ei.share)||void 0===z?void 0:null===(M=z.messages)||void 0===M?void 0:null===(L=M.twitter)||void 0===L?void 0:L.message,eW=aH.Z.insertContentStackTemplates(eW,eu,eg,er),eY=null==ei?void 0:null===(U=ei.share)||void 0===U?void 0:null===(X=U.messages)||void 0===X?void 0:null===($=X.email)||void 0===$?void 0:$.message,eY=aH.Z.insertContentStackTemplates(eY,eu,eg,er),eK=null==ei?void 0:null===(K=ei.share)||void 0===K?void 0:null===(Y=K.messages)||void 0===Y?void 0:null===(V=Y.email)||void 0===V?void 0:V.subject,eK=aH.Z.insertContentStackTemplates(eK,eu,eg,er),eq=`mailto:?subject=${eK}&body=${eY}`,eQ=null==ei?void 0:null===(en=ei.share)||void 0===en?void 0:null===(J=en.messages)||void 0===J?void 0:null===(q=J.pinterest)||void 0===q?void 0:q.message,eQ=aH.Z.insertContentStackTemplates(eQ,eu,eg,er));let e0=(e=>{let t=new URL(e);return t.searchParams.append("utm_source","web"),t.searchParams.append("utm_medium","nativeshare"),t.searchParams.append("utm_campaign",`${eZ}complete`),encodeURIComponent(t.href)})(ej),e5=eW.replace(ej,e0),e4=(0,d.useCallback)(()=>{var e;let t={pathname:ey(`/buying/${null==er?void 0:er.chainId}&isGuest=true`),state:{prevPath:ey(`/buy/${null==er?void 0:null===(e=er.product)||void 0===e?void 0:e.urlKey}`)}};e_.push(t)},[ey,e_,null==er?void 0:er.chainId,null==er?void 0:null===(u=er.product)||void 0===u?void 0:u.urlKey]),e7=ea===O.T.Buy?et.Z:da.Z,e9=(null==es?void 0:es.isGCApplied)?{localTotal:null==eO?void 0:null===(m=eO.eligibleAmount)||void 0===m?void 0:null===(c=m.remainingAmount)||void 0===c?void 0:c.value}:{},e8=(0,d.useMemo)(()=>({identifier:`${eZ||"buy"}.success`,screenName:e2.Z.CONFIRMATION,attributes:{amount:Math.round(Number((null==er?void 0:er.localAmount)||0)),currency:null==er?void 0:er.localCurrency,paymenttype:null==eM?void 0:eM.paymentType,confirmationref:null==er?void 0:er.chainId,ccbin:ez,cartItems:JSON.stringify([{majorcat:null==eu?void 0:eu.productCategory,minorcat:null==eu?void 0:eu.primaryCategory,productname:null==eu?void 0:eu.title,sku:null==er?void 0:er.skuUuid}]),flow:`${eZ||"buy"}`},segmentProps:{orderId:null==er?void 0:er.chainId,flow:eZ,vertical:null==eu?void 0:eu.browseVerticals,primaryProductCategory:null==eu?void 0:eu.primaryCategory}}),[eZ,ez,er,eu,eM]);return(0,o.BX)(dZ,{"data-testid":"order-success-wrapper",pt:ew?0:{base:"5",md:"7"},children:[ew&&(0,o.tZ)(dW,{}),(0,o.tZ)(dg.Z,{action:eZ,customer:eg}),(0,o.tZ)(dy.Z,{}),(0,o.BX)(tR.xu,{mx:"4",children:[ea&&(0,o.tZ)(i0.Z,{position:ea===O.T.Sell?i1.v.post_ask_checkout:i1.v.post_bid_checkout}),(0,o.tZ)(Q.X,{as:"h2",variant:"medium",size:"xl","data-xpress-ship":ex===R.Gl.Express,children:null==ei?void 0:ei.header}),(0,o.tZ)(Q.X,{as:"h3",fontSize:"md",mt:"1",children:aH.Z.interpolateContentStack(null==ei?void 0:ei.sub_header,{portfolioItem:{...er,...e9}},null==er?void 0:er.localCurrency)}),eT&&(0,o.tZ)(Q.X,{fontSize:{base:"md",md:"lg"},fontWeight:"semibold",mb:{base:"5",md:"7"},mt:"1",children:ep("chk_order_success_xpress_ship_copy",{date:eb(null==eP?void 0:null===(v=eP.delivery)||void 0===v?void 0:v.date,"month_long_and_day")})}),eI&&(0,o.tZ)(Q.X,{fontSize:{base:"md",md:"lg"},fontWeight:"semibold",mb:{base:"5",md:"7"},mt:"1",children:ep("chk_order_success_xpress_range_ship_copy",{startDate:eb(null==eP?void 0:null===(p=eP.delivery)||void 0===p?void 0:p.date,"month_long_and_day"),endDate:eb(null==eP?void 0:null===(h=eP.delivery)||void 0===h?void 0:h.latestDeliveryDate,"month_long_and_day")})})]}),!!eS&&(0,o.tZ)(ee.z,{"data-testid":"guest-view-details-btn",variant:"primary",backgroundColor:"brand-primary",size:"lg",m:"4",fontFamily:"suisseIntlMedium",fontWeight:"500",onClick:e4,children:ep("View Details")}),!eB&&(0,o.tZ)(tR.xu,{marginY:"0.75rem",children:(0,o.tZ)(i6.Z,{amount:ek,context:eZ,screenName:e2.Z.CONFIRMATION,track:em})}),(0,o.tZ)(lv.Z,{mb:"1rem",children:(0,o.tZ)(aM,{trackScreen:ev,trackEvent:em})}),(0,o.BX)(tD.ij,{children:[(0,o.tZ)(W.Ee,{alt:"",w:"1",h:"1","data-testid":"order-success-mobile-img",src:`
          //action.dstillery.com/orbserv/nspix?adv=cl1024295&ns=2949&nc=${eh?"LIP":"GSP"}&ncv=52&dstOrderId=${null==er?void 0:er.chainId}&dstOrderAmount=${ek}`}),(0,o.tZ)(tR.xu,{backgroundColor:"background-primary",paddingY:"6",paddingX:"4",width:"100vw",children:(0,o.tZ)(id,{hideMarket:!0},"summary")})]}),(0,o.BX)(tR.xu,{mx:"4",children:[er&&eu&&!["Payment Failed","Authorization Failed"].includes(null==er?void 0:er.statusMessage)&&(0,o.tZ)(le.Z,{...e8}),(0,o.BX)(tR.xu,{mt:{base:8,md:9},"data-component":"success-bullets",children:[(0,o.tZ)(Q.X,{variant:"medium",size:"md","data-component":"bullets-title",mb:{base:2},children:eU}),(0,o.tZ)(df,{children:eV})]}),!eB&&(0,o.BX)(tR.xu,{mt:{base:8,md:9},"data-component":"success-share",children:[(0,o.tZ)(Q.X,{size:"md","data-component":"share-header",fontWeight:"500",fontFamily:"suisseIntlMedium",mb:"2",children:eJ}),(0,o.BX)(H.k,{alignItems:"center","data-component":"share-buttons",justifyContent:{base:"space-evenly",md:"space-between"},flexWrap:"wrap",children:[(0,o.tZ)(dh,{classNames:"share facebook-share",flat:!0,href:`https://www.facebook.com/sharer/sharer.php?app_id=113869198637480&sdk=joey&u=${e0}&display=popup&ref=plugin`,iconclass:"facebook",text:`${ep("Share")}`,"data-testid":"fb-share-btn",tracking:eH,type:"facebook",selectedVariant:ec}),(0,o.tZ)(dh,{classNames:"share twitter-share",flat:!0,href:`https://twitter.com/intent/tweet?text=${e5}`,iconclass:"twitter",text:`${ep("Share")}`,tracking:eH,type:"twitter",selectedVariant:ec}),(0,o.tZ)(dh,{classNames:"share-button-flat pinterest-share",flat:!0,href:`https://www.pinterest.com/pin/create/button/?url=${e0}&media=${null==eu?void 0:null===(g=eu.media)||void 0===g?void 0:g.imageUrl}&description=${eQ}`,iconclass:"pinterest",text:`${ep("Share")}`,tracking:eH,type:"pinterest",selectedVariant:ec}),(0,o.tZ)(dh,{classNames:"share share-button mail-share",flat:!0,href:eq,iconclass:"envelope",text:`${ep("Share")}`,tracking:eH,type:"email",selectedVariant:ec})]})]}),(0,o.BX)(e7,{zIndex:ea===O.T.Buy?9:10,children:[(0,o.tZ)("span",{}),(0,o.tZ)(ee.z,{variant:"primary",backgroundColor:"brand-primary",onClick:e$,size:"lg",fontFamily:"suisseIntlMedium",fontWeight:"500",width:{base:"100%",md:"auto"},children:ef?ep("Continue Shopping"):ep("Finish")})]})]})]})},dq=n(76747),dQ=n(89964),dJ=n(9480),d0=n(26852),d1=e=>{var t,n,i,l,a,r;let{variant:d,handleSizeChange:s,primaryCategory:u,context:c,variantCount:m,contentGroup:v,productCategory:p,onGuestCheckoutModalOpen:h}=e,{t:g}=(0,j.$G)(),{currency:y}=(0,em.Z)(),k=(0,nK.Z)(),{action:Z}=(0,t1.Z)(),f=null==d?void 0:null===(n=d.deliveryOptions)||void 0===n?void 0:null===(t=n.methods)||void 0===t?void 0:t.find(e=>(null==e?void 0:e.type)===R.Gl.Express),b=(null==u?void 0:u.toLowerCase())==="trading cards",C=v&&v.includes("watch"),S=g(c===O.T.Buy?"Bid":"Ask"),{sizeChart:_,market:x,traits:N}=d,w=c===O.T.Buy?null==x?void 0:null===(i=x.bidAskData)||void 0===i?void 0:i.lowestAsk:null==x?void 0:null===(l=x.bidAskData)||void 0===l?void 0:l.highestBid,E=!C&&!b&&(null==_?void 0:_.baseSize)?null==_?void 0:null===(a=_.displayOptions[0])||void 0===a?void 0:a.size:null==N?void 0:N.size,T=(0,d0.Z)({sizeChart:_,productCategory:p}),I=P(),A="text-primary";return w&&(A="buy"===c?"success":"error"),(0,o.tZ)(oy.r,{"data-testid":`size-${null==d?void 0:null===(r=d.traits)||void 0===r?void 0:r.size}`,size:"lg",label:C||b||!T?E:T,secondaryLabel:w?k({number:w}):S,secondaryLabelColor:A,bottomRightIcon:f?(0,o.tZ)(ai.c,{boxSize:"20px",right:"10px",bottom:"10px",position:"absolute"}):void 0,onClick:()=>{var e,t,n,i,l,a,r,o;if(!w&&I){h();return}s(d.id),(0,e0.Z)(e1.Z.SIZE_TILE,{label:T,currency:y,flow:Z,screenName:e2.Z.SIZE_SELECTOR,vertical:null==d?void 0:null===(e=d.product)||void 0===e?void 0:e.browseVerticals,productUUID:null==d?void 0:null===(t=d.product)||void 0===t?void 0:t.uuid,productName:null==d?void 0:null===(n=d.product)||void 0===n?void 0:n.title,skuUUID:null==d?void 0:d.id,amount:c===O.T.Sell?(null==d?void 0:null===(l=d.market)||void 0===l?void 0:null===(i=l.bidAskData)||void 0===i?void 0:i.highestBid)||0:(null==d?void 0:null===(r=d.market)||void 0===r?void 0:null===(a=r.bidAskData)||void 0===a?void 0:a.lowestAsk)||0,size:null==d?void 0:null===(o=d.traits)||void 0===o?void 0:o.size})},sx:{minWidth:m<=3?"100%":"128px"}},d.id)};let d2=(0,nr.m)(e=>{let{inGroup:t,children:n,...i}=e;return(0,o.tZ)(H.k,{ml:t?"-2":"0",...i,"data-testid":"grid-tiles-wrapper",children:n})},{baseStyle:{flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:{base:"space-between",md:"unset",lg:"space-between"},gap:{md:"18px",xl:"10px"},rowGap:{base:"12px"}}}),d5=(0,nr.m)(e=>{let{primary:t,children:n,...i}=e;return(0,o.tZ)(H.k,{justifyContent:t?"flex-end":"space-between",...i,children:n})},{baseStyle:{alignItems:["center","baseline"],fontSize:"sm",mb:3,height:"10"}});var d3=e=>{let{isOpen:t,onClose:n}=e,i=(0,og.r)({base:!0,md:!1}),{t:l}=(0,j.$G)("feature.guestcheckout"),a=(0,oR.Z)();return(0,o.BX)(tO.u_l,{isOpen:t,closeOnOverlayClick:!0,onClose:n,isCentered:!0,size:i?"sm":"lg",children:[(0,o.tZ)(t$.Z,{}),(0,o.BX)(tG.h,{bg:"brand-tertiary",children:[(0,o.tZ)(t3.x,{children:(0,o.tZ)(tX.o,{})}),(0,o.tZ)(tU.f,{fontWeight:"bold",fontSize:"lg",textAlign:"center",children:l("guest_checkout_login_modal_text")}),(0,o.BX)(ne.m,{justifyContent:"space-between",children:[(0,o.tZ)(ee.z,{variant:"secondary",size:"lg",onClick:()=>n(),children:l("guest_checkout_login_cancel_modal_button")}),(0,o.tZ)(ee.z,{variant:"primary",size:"lg",onClick:()=>a(),children:l("guest_checkout_login_primary_modal_button")})]})]})]})},d4=e=>{var t;let{handleSizeChange:n,segmentContext:i,context:l=O.T.Sell,cancelTransaction:a}=e,{t:r}=(0,j.$G)(),{currency:s}=(0,em.Z)(),{action:u}=(0,t1.Z)(),{step:c}=(0,eT.Z)(),{product:m}=(0,F.Z)(),{trackSegmentEvent:v}=(0,e3.Z)(),{isOpen:p,onOpen:h,onClose:g}=(0,rU.q)(),y=(null==m?void 0:null===(t=m.availableSizeConversions)||void 0===t?void 0:t.length)>1,k=(0,E.Z)();(0,d.useEffect)(()=>{l===O.T.Buy&&k({action:u,context:l,product:m,step:c})},[u,l,k,c]),(0,d.useEffect)(()=>{(0,dq.Z)(e2.Z.SIZE_SELECTOR,{label:i,vertical:null==m?void 0:m.browseVerticals,productUUID:null==m?void 0:m.uuid,productName:null==m?void 0:m.title,flow:u})},[null==m?void 0:m.browseVerticals,null==m?void 0:m.uuid,null==m?void 0:m.title,i]);let Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object.entries(null==e?void 0:e.reduce((e,t)=>{var n;let i=(null==t?void 0:null===(n=t.group)||void 0===n?void 0:n.shortCode)||"";return e[i]=[...e[i]?e[i]:[],t],e},{}))}(null==m?void 0:m.variants),f=(0,d.useCallback)(()=>{v({eventName:e1.Z.CANCEL_CLICKED,screenName:e2.Z.SIZE_SELECTOR,label:"Cancel"}),a()},[l,s,m,a]),b=(0,d.useMemo)(()=>l===O.T.Buy&&(null==m?void 0:m.productCategory)==="sneakers"&&["Nike","Jordan","adidas","New Balance"].includes(null==m?void 0:m.brand)&&["men","women"].includes(null==m?void 0:m.gender),[l,m]),C=l===O.T.Buy?et.Z:da.Z,S=((e,t)=>{switch(null==e?void 0:e.contentGroup){case"sneakers":var n;return[null==e?void 0:e.sizeDescriptor,null==e?void 0:null===(n=e.defaultSizeConversion)||void 0===n?void 0:n.name].join(": ");case"trading-cards":return t("Grades");default:return null}})(m,r),_=(0,d.useMemo)(()=>l===O.T.Buy?"Lowest Asks":"Highest Bids",[l]),x={2:"49%",3:"23%"};return(0,o.BX)(o.HY,{children:[(0,o.BX)(tR.xu,{"data-testid":"product-size-grid",p:{base:"3",md:"0"},pt:{base:"3",md:"7"},children:[(0,o.tZ)(Q.X,{as:"h2",variant:"medium",fontSize:["xl","2xl"],"data-testid":"size-select-grid-heading",children:r("bs_size_select_grid_title",{sizeDescriptor:null==m?void 0:m.sizeDescriptor})}),(0,o.BX)(d5,{"data-component":"size-subtitle",children:[!y&&S,!y&&b&&" | ",b&&r(_),y&&(0,o.BX)(o.HY,{children:[(0,o.tZ)(tD.yG,{children:(0,o.tZ)(dQ.Z,{backgroundColor:"background-primary",sizeConversions:null==m?void 0:m.availableSizeConversions,productCategory:null==m?void 0:m.productCategory,gender:null==m?void 0:m.gender,noXMargins:!0})}),(0,o.tZ)(tD.ij,{children:(0,o.tZ)(dJ.Z,{sizeConversions:null==m?void 0:m.availableSizeConversions,productCategory:null==m?void 0:m.productCategory,gender:null==m?void 0:m.gender})})]})]}),null==Z?void 0:Z.map((e,t)=>{let[i,l]=e;return(0,o.BX)(d.Fragment,{children:[!!i&&(0,o.tZ)(J.x,{fontWeight:"bold",mt:"4",children:i}),(0,o.tZ)(d2,{inGroup:!!i,title:i,_after:{content:'""',width:["33%",x[l.length%4]]},children:null==l?void 0:l.map(e=>{if(!(null==e?void 0:e.hidden)){var t;return(0,o.tZ)(d1,{variant:e,handleSizeChange:n,primaryCategory:null==m?void 0:m.primaryCategory,context:O.T.Buy,variantCount:null==l?void 0:l.length,contentGroup:null==m?void 0:m.contentGroup,productCategory:null==m?void 0:m.productCategory,onGuestCheckoutModalOpen:h},null==e?void 0:null===(t=e.traits)||void 0===t?void 0:t.size)}return null})})]},`variant-group-${t}`)})]}),(0,o.tZ)(C,{children:(0,o.tZ)(ee.z,{variant:"secondary",onClick:f,size:"lg",children:r("Cancel")})}),(0,o.tZ)(d3,{isOpen:p,onClose:g})]})},d7=n(47877),d9=n(92037),d8=e=>{let{onApplyDiscount:t}=e,{t:n}=(0,j.$G)(),[i,l]=(0,d.useState)(""),{setDiscountCode:a}=(0,iZ.Z)(),{pricing:r,getCustomerPricing:s,isPricingFetching:u}=(0,tP.Z)(),[c,m]=(0,d.useState)((null==r?void 0:r.discount_error)??"");(0,tE.Z)(()=>{a("")});let v=async()=>{await a(i),await s()};(0,d.useEffect)(()=>{if((null==r?void 0:r.discount_error)&&m(n("Invalid discount code")),!(null==r?void 0:r.discount_error)){var e;(null==r?void 0:null===(e=r.adjustments.find(e=>"Discount Codes"===e.group))||void 0===e?void 0:e.text)===i&&(m(""),t())}},[r]);let p=!!c;return(0,o.BX)(tR.xu,{children:[(0,o.tZ)(J.x,{fontFamily:"suisseIntlMedium",fontWeight:"500",marginTop:"4",children:n("add_a_discount_code")}),(0,o.BX)(H.k,{justifyContent:"space-between",alignItems:"center",marginTop:"4",marginBottom:p?"10":void 0,flexDirection:{base:"column",md:"row"},children:[(0,o.tZ)(tR.xu,{backgroundColor:"background-primary",width:"100%",height:"64px",children:(0,o.tZ)(oN.u,{inputLabel:n("Discount Code"),placeholder:n("Discount Code"),errorMessage:c,isInvalid:p,onChange:e=>{var t;l(tT.Z.convertFullToHalf(null==e?void 0:null===(t=e.currentTarget)||void 0===t?void 0:t.value))},textTransform:"uppercase",onKeyDown:e=>{"Enter"===e.key&&v()}})}),(0,o.tZ)(ee.z,{width:{base:"100%",md:"initial"},variant:"primary",backgroundColor:"brand-primary",isDisabled:u||!i,marginTop:{base:p?"8":"4",md:0},marginLeft:{base:0,md:3},size:"lg",onClick:v,children:n("Apply")})]})]})},d6=e=>{var t,n,i,l,a,r,o,s,u,c,m;let v;let p=(0,ar.Z)(),h=(0,d.useCallback)(e=>p(e,"date_and_time","EN"),[p]),g=(0,nK.Z)();if(!e)return null;let y=new Date,k=new Date(e.expiresAt),Z=new Date(e.activatesAt);if(e.expiresAt&&"0001-01-01T00:00:00Z"!==e.expiresAt&&y>k)return null;let f=null===(n=e.discount)||void 0===n?void 0:null===(t=n.value)||void 0===t?void 0:t.toFixed(2);if(!f)return null;let b="Offer is";(null===(i=e.discount)||void 0===i?void 0:i.flat)?b+=` ${g({number:f,round:!1})} off`:(b+=` ${100*+f}% off`,e.discount.upperLimit&&(v=g({number:null==e?void 0:null===(s=e.discount)||void 0===s?void 0:s.upperLimit,round:!1}),b+=` with a maximum discount of ${v}`)),(null===(l=e.discount)||void 0===l?void 0:l.minPrice)&&(v=g({number:null==e?void 0:null===(u=e.discount)||void 0===u?void 0:u.minPrice}),b+=` limited to a minimum purchase price of ${v}`),e.activatesAt&&"0001-01-01T00:00:00Z"!==e.activatesAt&&Z>y?e.expiresAt&&"0001-01-01T00:00:00Z"!==e.expiresAt?b+=` on purchases made between ${h(e.activatesAt)} and ${h(e.expiresAt)}`:b+=` on purchases made after ${h(e.activatesAt)}`:e.expiresAt&&"0001-01-01T00:00:00Z"!==e.expiresAt&&(b+=` on purchases made before ${h(e.expiresAt)}`);let C=Object.entries(null===(a=e.discount)||void 0===a?void 0:a.verticalDetails).map(e=>{let[t,n]=e;return n?t:null}).filter(Boolean);return C.length>0?(b+=`. This is applicable only for ${C.join(", ")}`,(null===(c=e.discount)||void 0===c?void 0:c.products)&&(null===(m=e.discount.products)||void 0===m?void 0:m.length)>0&&(b+=" and for selected products only")):(null===(r=e.discount)||void 0===r?void 0:r.products)&&(null===(o=e.discount.products)||void 0===o?void 0:o.length)>0&&(b+=". This is applicable for selected products only"),b+="."},se=e=>{let{isOpen:t,onClose:n,discountDetails:i}=e;return(0,o.BX)(tO.u_l,{isOpen:t,onClose:()=>n(),closeOnOverlayClick:!1,isCentered:!0,scrollBehavior:"inside",children:[(0,o.tZ)(t$.Z,{}),(0,o.BX)(tG.h,{children:[(0,o.tZ)(t3.x,{children:"Discount Details"}),(0,o.tZ)(tX.o,{}),(0,o.tZ)(tU.f,{children:i})]})]})},st=e=>{let{isOpen:t,onClose:n,discountDetails:i}=e;return(0,o.BX)(i3.d,{isOpen:t,onClose:()=>n(),closeOnOverlayClick:!1,placement:"bottom",children:[(0,o.tZ)(t$.Z,{}),(0,o.BX)(i4.s,{maxH:"80%",children:[(0,o.tZ)(t3.x,{children:"Discount Details"}),(0,o.tZ)(tX.o,{}),(0,o.tZ)(tU.f,{children:i})]})]})},sn=e=>{let{discountCode:t}=e,{t:n}=(0,j.$G)(),i=d6(t),{isOpen:l,onClose:a,onOpen:r}=(0,rU.q)(),{trackSegmentEvent:d}=(0,e3.Z)(),s=(0,og.r)({base:!0,md:!1});return(0,o.BX)(o.HY,{children:[(0,o.tZ)(ee.z,{variant:"link-underline",color:"brand-primary",onClick:()=>{d({eventName:e1.Z.DETAILS_CLICKED,screenName:e2.Z.DISCOUNT_CODES}),r()},children:n("discount_details")}),(0,o.tZ)(s?st:se,{isOpen:l,onClose:a,discountDetails:i})]})},si=e=>{let{discountCode:t,isActivated:n,onApplyDiscount:i}=e,{t:l}=(0,j.$G)(),{setDiscountCode:a}=(0,iZ.Z)(),r=(0,ar.Z)(),{code:d,expiresAt:s,discount:{name:u}}=t;return(0,o.BX)(tR.xu,{width:"100%",background:"background-primary",p:"6",children:[(0,o.tZ)(J.x,{fontFamily:"suisseIntlMedium",fontWeight:"500",children:u}),(0,o.tZ)(J.x,{color:"text-secondary",mt:"2",children:l("discount_code_expires_at",{expiresAt:r(s,"date_and_time")})}),(0,o.tZ)(J.x,{fontFamily:"suisseIntlMedium",fontWeight:"500",mt:"2",children:d}),(0,o.BX)(H.k,{justifyContent:"space-between",mt:"4",children:[n?(0,o.tZ)(ee.z,{variant:"primary",onClick:()=>{a(d),i()},children:l("Apply")}):null,(0,o.tZ)(sn,{discountCode:t})]})]})},sl=e=>{let{onApplyDiscount:t}=e,{t:n}=(0,j.$G)(),{eligibleDiscountCodes:i,loading:l}=rR();return l?(0,o.tZ)(h.Q,{}):(0,o.tZ)(tR.xu,{children:(null==i?void 0:i.length)?(0,o.BX)(o.HY,{children:[(0,o.tZ)(J.x,{fontFamily:"suisseIntlMedium",fontWeight:"500",my:"4",children:n("available_discounts")}),(0,o.tZ)(iH.g,{spacing:"4",children:i.map(e=>{let{discountCode:n,isActivated:i}=e;return(0,o.tZ)(si,{discountCode:n,isActivated:i,onApplyDiscount:t})})})]}):(0,o.BX)(H.k,{flexDirection:"column",alignItems:"center",children:[(0,o.tZ)(rO.b,{h:16,w:16,color:"neutral.400"}),(0,o.tZ)(J.x,{fontWeight:"600",children:n("discount_code_list_empty")})]})})},sa=()=>{let{t:e}=(0,j.$G)(),{setStep:t}=(0,eT.Z)(),{setDiscountCode:n}=(0,iZ.Z)(),{trackSegmentEvent:i,trackSegmentScreen:l}=(0,e3.Z)();(0,d9.Z)(()=>{n(""),l({pageType:e2.Z.DISCOUNT_CODES})});let a=()=>{i({eventName:e1.Z.DISCOUNT_CODE_APPLIED,screenName:e2.Z.DISCOUNT_CODES}),t(ew.j.BidEntry)};return(0,o.BX)(tR.xu,{padding:"2",paddingTop:"4",children:[(0,o.tZ)(J.x,{fontFamily:"suisseIntlMedium",fontWeight:"500",fontSize:"xl",children:e("discount_codes")}),(0,o.tZ)(d8,{onApplyDiscount:a}),(0,o.tZ)(a_.i,{marginY:"6"}),(0,o.tZ)(sl,{onApplyDiscount:a}),(0,o.tZ)(et.Z,{children:(0,o.BX)(ee.z,{variant:"secondary",size:"lg",onClick:()=>{t(ew.j.BidEntry)},children:[(0,o.tZ)(ra.h,{width:"18px",height:"18px",mr:"1"})," ",e("Back")]})})]})},sr=e=>{let{showSizeSelectPane:t,changeAction:n,bnplPayment:i,editPaymentSettings:l,payments:a,blurbs:r,finalPortfolioItem:s,handleSubmitBid:u,createPendingLocalPayment:c,capturePendingLocalPayment:m,selectedLocalPaymentMethod:v,toggleBNPLPresetPaymentMode:p,selectLocalPaymentMethod:h,handleSizeChange:g,showCitconQRCode:y,pendingCitconLocalPayment:k,onCitconQRCodeModalClose:Z,onCitconQRCodeModalChangePaymentMethod:f,cancelTransaction:b,showLoginSignup:S,localPaymentFetching:_,finish:x,handleUpdateId:w,regulatoryIdConfig:E,tempId:T,setTempId:I,idError:A,handleCancel:B,paymentBtnRef:D,clearPaymentSelection:P}=e,{t:L}=(0,j.$G)(),{action:M}=(0,t1.Z)(),{step:z,setStep:R}=(0,eT.Z)(),{expiration:$}=(0,ib.Z)(),{amount:G}=(0,eE.Z)(),{trackSegmentEvent:X}=(0,e3.Z)(),{product:U,portfolioItem:V}=(0,F.Z)(),H=(0,d.useCallback)(()=>{N.Z.scrollToTop(),R(ew.j.BidEntry)},[U,G,V,R]),W=(0,d.useCallback)(()=>{X({eventName:e1.Z.CANCEL_CLICKED,screenName:e2.Z.SHIPPING,label:"Cancel"}),R(ew.j.BidEntry)},[R,X]),Y=(0,C.Z)(),K=(0,d.useMemo)(()=>iE({payments:a,selectedLocalPaymentMethod:v,bnplPayment:i,customer:Y}),[a,v,i.isPreset,i.paymentMethod,Y]),q=(0,d.useCallback)(()=>{X({eventName:e1.Z.SHIPPING_ADDRESS_SUCCESS,screenName:e2.Z.SHIPPING}),null===K?R(ew.j.Billing):R(ew.j.BidEntry)},[K,R,X]);switch(z){case ew.j.DiscountCodes:return(0,o.tZ)(sa,{});case ew.j.SizeSelect:return(0,o.tZ)(d4,{handleSizeChange:g,context:O.T.Buy,segmentContext:"Buy Or Bid",cancelTransaction:b});case ew.j.BidEntry:return(0,o.tZ)(dt,{showSizeSelectPane:t,changeAction:n,bnplPayment:i,editPaymentSettings:l,cancelTransaction:b,showLoginSignup:S,regulatoryIdConfig:E,selectLocalPaymentMethod:h,clearPaymentSelection:P});case ew.j.Billing:return(0,o.tZ)(di.Z,{toggleBNPLPresetPaymentMode:p,changeContext:n,action:M,isCheckout:!0,payments:a,selectedLocalPaymentMethod:v,selectLocalPaymentMethod:h,subtitle:"Please choose your payment method",handleRouting:H,title:"Payment Method"});case ew.j.Shipping:return(0,o.tZ)(dn.Z,{title:L("Shipping"),subtitle:L("Please provide your shipping info"),cancel:W,success:q,isCheckout:!0});case ew.j.RegulatoryId:return(0,o.tZ)(d7.Z,{handleCancel:B,regulatoryIdConfig:E,handleUpdateId:w,tempId:T,setTempId:I,idError:A});case ew.j.Review:{let e=L(M===t2.t.Bid?"Review Bid":"Review Order"),t=L(M===t2.t.Bid?"Please confirm your Bid details below":"Please confirm your purchase details below");return(0,o.tZ)(rv,{blurbs:r,capturePendingPayment:m,context:O.T.Buy,createPendingPayment:c,expiration:$,bnplPayment:i,onCitconQRCodeModalChangePaymentMethod:f,onCitconQRCodeModalClose:Z,payments:a,pendingCitconLocalPayment:k,selectedLocalPaymentMethod:v,showCitconQRCode:y,submit:u,subtitle:t,title:e,localPaymentFetching:_,regulatoryIdConfig:E,paymentBtnRef:D})}case ew.j.Success:return(0,o.tZ)(dK,{blurbs:r,context:O.T.Buy,expiration:$,portfolioItem:s,finish:x,payments:a});default:return null}},so=n(67693),sd=e=>{let{reason:t}=e,{t:n}=(0,j.$G)(),i=(0,y.Z)();return(0,o.tZ)(so.Z,{imageUrl:(null==t?void 0:t.iconImageUrl)||"/svg/tps/page_block_v3.svg",heading:n(null==t?void 0:t.title)||n("tps_restricted_header"),message:n(null==t?void 0:t.description)||n("tps_restricted_subheader"),buttonConfig:{onClick:()=>{i.push("/")},text:n("tps_restricted_browse_button")}})},ss=e=>{var t,n,i,l,a,r,s;let{blurbs:u,braintreeClient:c,exitCheckoutFlow:p,payments:y}=e,{t:k}=(0,j.$G)(),{step:Z}=(0,eT.Z)(),f="base"===(0,tD.EN)(),b=(0,C.Z)(),{shippingAddress:S}=(0,tH.Z)(),x=(0,_.Z)(),N=(0,v.I0)(),w=(0,iu.Z)(),{urlPrefix:T,isGDPR:D,countryCode:P}=(0,n2.Z)(),L=eN.Z.use.reset();(0,m.Z)(()=>{L()});let{product:M,productLoading:z,portfolioItemLoading:R}=(0,F.Z)(),$=(null==S?void 0:S.countryCodeAlpha2)==="US"&&!tj.includes(null==S?void 0:S.region),{isErrorRecoverable:G,newPortfolioItem:X,portfolioItemError:U}=(0,v.v9)(e=>({isErrorRecoverable:tQ(e),newPortfolioItem:tK(e),portfolioItemError:tq(e)})),{deviceData:V}=y,{clearCheckoutBanner:H,bannerStep:W,bannerText:Y}=(0,ex.Z)(),{createPendingPayment:K,capturePendingPayment:q,clearPendingPayment:Q,localPaymentError:et,localPaymentFetching:en,selectedLocalPaymentMethod:ei,selectLocalPaymentMethod:el,localPaymentSuccess:ea,localPaymentPortfolioItem:er,citconRedirectUrl:eo,citconPaymentComplete:ed,citconPaymentLinkOpened:es,onCloseCitconRedirectModal:eu}=nW({braintreeClient:c,deviceData:V});(0,t0.Z)();let ec=(0,d.useCallback)(()=>{el(void 0),p()},[el,p]),em=(0,d.useCallback)(()=>N((0,I.y$)(null)),[N]);ig();let{action:ev}=(0,t1.Z)(),ep=ev===t2.t.Buy,eh="true"===(0,A.Z)(B.Z.feature_guest_checkout),{capturePendingLocalPayment:eg,changeAction:ey,createPendingLocalPayment:ek,editPaymentSettings:eZ,finalPortfolioItem:ef,handleCancel:eb,handleSizeChange:eC,handleSubmitBid:eS,bnplPayment:e_,handleUpdateId:eE,onCitconQRCodeModalChangePaymentMethod:eI,onCitconQRCodeModalClose:eA,pendingCitconLocalPayment:eB,recover:eD,regulatoryIdConfig:eP,setTempId:eF,showBsEditBar:eL,showCitconQRCode:eM,showLoginSignup:ez,showSizeSelectPane:eR,tempId:eO,toggleBNPLPresetPaymentMode:e$,idError:eG,paymentBtnRef:eX,clearPaymentSelection:eU}=iV({capturePendingPayment:q,clearPendingPayment:Q,clearPortfolioItemError:em,createPendingPayment:K,getUniversalAuthPage:(0,d.useCallback)((e,t)=>N((0,tV.p)(e,t,void 0,{isCheckoutFlow:!0,isGuestCheckout:eh&&ep,currency:w,langUrlCode:T,isGDPR:D,countryCode:P})),[N,w,T,D,P,ep]),isErrorRecoverable:G,localPaymentError:et,localPaymentPortfolioItem:er,localPaymentSuccess:ea,newPortfolioItem:X,payments:y,portfolioItemError:U,selectedLocalPaymentMethod:ei,selectLocalPaymentMethod:el,braintreeClient:c}),eV=(0,E.Z)();(0,d.useEffect)(()=>{eV({context:O.T.Buy,product:M,action:ev,step:Z})},[ev,M,eV,Z]),(0,d.useEffect)(()=>{Z!==W&&Y&&H()},[H,Z,W,Y]);let ej=!!M&&(null==M?void 0:M.listingType)==="RAFFLE",eH=!!M&&(null==M?void 0:M.listingType)==="RESTOCK",eW=Z===ew.j.SizeSelect||Z===ew.j.BidEntry?"SIXTY":"HIDE_ON_MOBILE",eY=(0,d.useMemo)(()=>({selectLocalPaymentMethod:el,selectedLocalPaymentMethod:ei}),[el,ei]);return z||R?(0,o.tZ)("div",{"data-testid":"bidpage-loading",children:(0,o.tZ)(h.Q,{})}):!x||(null==M?void 0:null===(t=M.tradePolicy)||void 0===t?void 0:t.tradeEnabled)?x&&((null==M?void 0:null===(i=M.tradePolicy)||void 0===i?void 0:null===(n=i.policyTrait)||void 0===n?void 0:n.productLithiumIonBucket)==="ONE"||(null==M?void 0:null===(a=M.tradePolicy)||void 0===a?void 0:null===(l=a.policyTrait)||void 0===l?void 0:l.productLithiumIonBucket)==="TWO")&&b&&S&&!is(b,S,"Shipping")||x&&(null==M?void 0:null===(r=M.hazardousMaterial)||void 0===r?void 0:r.lithiumIonBucket)&&!$?(0,o.tZ)(nY.Z,{}):(0,o.BX)(ij.Z.Provider,{value:eY,children:[eD&&(0,o.tZ)(ni,{submit:eS,isOpen:eD}),(0,o.BX)(tz.W,{"data-component":"bid-page","data-testid":"bid-page",maxW:"100%",p:0,m:0,position:"relative",overflowY:"hidden",children:[eL&&(0,o.tZ)(nm,{context:O.T.Buy,success:p}),(0,o.BX)(nv,{children:[f&&(0,o.tZ)(ip,{}),(0,o.tZ)(ns,{type:nl[eW],children:(0,o.tZ)(tR.xu,{mt:{base:"5",md:"0"},px:"4",children:(0,o.tZ)(id,{hideMarket:ej||eH,showLowInventoryBadge:Z===ew.j.BidEntry&&f,showSizeSelectPane:eR},"summary")})}),(0,o.BX)(ns,{type:nl.FORTY,style:{position:"relative",overflowY:"hidden",minHeight:"100vh"},children:[(0,o.BX)(tO.u_l,{isOpen:es&&!ed,onClose:()=>eu(),closeOnOverlayClick:!1,isCentered:!0,size:"xl",scrollBehavior:"inside",children:[(0,o.tZ)(t$.Z,{}),(0,o.BX)(tG.h,{children:[(0,o.tZ)(tX.o,{}),(0,o.BX)(tU.f,{alignItems:"center",children:[(0,o.tZ)(J.x,{p:2,pt:4,fontSize:"md",fontWeight:"bold",children:k("citcon_redirect_modal_header")}),(0,o.tZ)(J.x,{fontSize:"sm",pb:4,children:k("citcon_redirect_modal_body")}),(0,o.tZ)(tR.xu,{pb:4,children:(0,o.tZ)(ee.z,{variant:"primary",as:"a",href:eo,target:"_blank",rel:"opener",children:k("continue_with_local_payment_method",{paymentMethod:null==ei?void 0:ei.alt})})})]})]})]}),!f&&(0,o.tZ)(ip,{mt:4}),(0,o.tZ)(sr,{showSizeSelectPane:eR,changeAction:ey,bnplPayment:e_,editPaymentSettings:eZ,payments:y,handleSubmitBid:eS,createPendingLocalPayment:ek,capturePendingLocalPayment:eg,selectedLocalPaymentMethod:ei,blurbs:u,finish:()=>p("finish"),finalPortfolioItem:ef,toggleBNPLPresetPaymentMode:e$,selectLocalPaymentMethod:el,handleSizeChange:eC,showCitconQRCode:eM,pendingCitconLocalPayment:eB,onCitconQRCodeModalClose:eA,onCitconQRCodeModalChangePaymentMethod:eI,cancelTransaction:ec,showLoginSignup:ez,localPaymentFetching:en,handleUpdateId:eE,regulatoryIdConfig:eP,tempId:eO,setTempId:eF,idError:eG,handleCancel:eb,paymentBtnRef:eX,clearPaymentSelection:eU})]})]})]})]}):(0,o.tZ)(g.L,{paddingTop:"40","data-testid":"bidpage-tps-restriction",children:(0,o.tZ)(sd,{reason:null==M?void 0:null===(s=M.tradePolicy)||void 0===s?void 0:s.reason})})},su=d.memo(e=>{let{braintreeClient:t,deviceData:n}=(0,tM.Z)({shouldCollectDeviceData:!0}),{paymentAccounts:i,selectedPayment:l,isGCApplied:a,paymentAccountsActions:r}=eK(),s=tL({braintreeClient:t,deviceData:n,paymentAccountsActions:r,isGCApplied:a}),u=(0,d.useMemo)(()=>({...s,paymentAccounts:i,selectedPayment:l,isGCApplied:a,paymentAccountsActions:r}),[s,l,i,r,a]),c={...e,payments:u,braintreeClient:t},m=(0,d.useMemo)(()=>({payments:u}),[u]);return(0,o.tZ)(ea.Z.Provider,{value:m,children:(0,o.tZ)(eO,{children:(0,o.tZ)(ss,{...c})})})}),sc=()=>{var e,t,n;(0,T.Z)();let i=(0,y.Z)(),l=(0,k.Z)(),a=(0,Z.Z)(),r=S(),s=(0,C.Z)(),{shippingAddress:u}=(0,tH.Z)(),c=(0,_.Z)(),D=(0,f.Z)(),L=(0,p.NL)(),U=P();(0,m.Z)(()=>{L.invalidateQueries(["chk.getPortfolioItem"]),L.invalidateQueries(["chk.getProduct"]),L.removeQueries(["ThreeDS"]),L.removeQueries(["repeatBuyer.pending"]),L.removeQueries(["repeatBuyer.history"])});let{product:V,selectedVariant:j,portfolioItem:H}=(0,F.Z)(),{data:W}=M({contentGroup:(null==V?void 0:null===(e=V.browseVerticals)||void 0===e?void 0:e.find(e=>"shoes"===e))?"shoes":null==V?void 0:V.contentGroup}),{allCountries:Y}=(0,z.Z)(O.T.Buy,null==V?void 0:V.productCategory),Q=(0,v.I0)(),J=(0,E.Z)(),ee=(0,d.useCallback)(()=>setTimeout(()=>Q((0,I.VZ)())),[Q]);(0,m.Z)(()=>{ee(),N.Z.removeHistorySessionStorage()});let et=null==s?void 0:null===(n=s.Billing)||void 0===n?void 0:null===(t=n.Address)||void 0===t?void 0:t.countryCodeAlpha2,en=(0,d.useMemo)(()=>"US"===et,[et]),ea=(0,d.useMemo)(()=>!r&&(null==V?void 0:V.lockBuying),[r,V]),er=(0,d.useMemo)(()=>(0,G.Z)(null==V?void 0:V.listingType),[null==V?void 0:V.listingType]),eo=(0,d.useMemo)(()=>{if(!c||!(null==s?void 0:s.Billing)||!u||(null==Y?void 0:Y.length)===0||er)return!1;let e=null==u?void 0:u.countryCodeAlpha2;return!!Y&&!Y.find(t=>{let{id:n}=t;return n===e})},[c,s,Y,u]),ed=(0,d.useMemo)(()=>(0,$.Z)(null==V?void 0:V.listingType),[null==V?void 0:V.listingType]),es=(0,d.useMemo)(()=>c&&ed&&et&&!en,[c,ed,en,et]),eu=(0,d.useMemo)(()=>c&&(null==s?void 0:s.suspendedBid),[c,null==s?void 0:s.suspendedBid]),{userIsMFAEnrolled:ec,isMFAEnrollmentLoading:em}=(0,x.Z)({enabled:ed}),ev=(0,d.useMemo)(()=>c&&ed&&!1===ec,[c,ed,ec]),ep=(0,d.useMemo)(()=>{let e;return ea&&(e=R.qK.LockedAction),eo&&(e=R.qK.InternationalNotAllowed),ev&&(e=R.qK.MFARequired),e},[eo,ea,ev]);(0,d.useEffect)(()=>{ep&&j?J({context:O.T.Buy,page:ep,product:j||V}):j||J({context:O.T.Buy})},[ep,J,j]);let eh=(0,A.Z)(B.Z.web_platform_hard_navigation_flow_exit)&&w.j,eg=(0,d.useCallback)(function(){var e,t,n;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cancel",o=null==l?void 0:null===(e=l.state)||void 0===e?void 0:e.prevPath,d=null==H?void 0:null===(t=H.product)||void 0===t?void 0:t.urlKey,s=null==a?void 0:a.product;if(eh&&(null===(n=window)||void 0===n||n.dispatchEvent(new Event("pagehide"))),U||U&&"finish"===r||er&&"finish"===r){null==i||i.push(D("/"));return}o?null==i||i.push(`${o}`):d?null==i||i.push(D(`${d}`)):s&&(null==i||i.push(D(`${s}`),{as:b.a.Product}))},[i,a,D,l,H,er,eh,U]);return em||(null==Y?void 0:Y.length)===0?(0,o.tZ)("div",{"data-testid":"bps-loading",children:(0,o.tZ)(h.Q,{})}):eu?(0,o.tZ)(g.L,{paddingTop:"40","data-testid":"bps-account-on-hold",children:(0,o.tZ)(g.H,{children:(0,o.tZ)(el.Z,{})})}):es?(0,o.tZ)(g.L,{paddingTop:"40","data-testid":"bps-nft-country-restriction",children:(0,o.tZ)(g.H,{children:(0,o.tZ)(ei,{context:O.T.Buy})})}):ev?(0,o.tZ)(g.L,{paddingTop:"40","data-testid":"bps-mfa-required-nft",children:(0,o.tZ)(g.H,{children:(0,o.tZ)(q.Z,{context:O.T.Buy})})}):eo?(0,o.tZ)(g.L,{"data-testid":"bps-intl-seller-lock",children:(0,o.tZ)(g.H,{children:(0,o.tZ)(K,{clickHandler:eg})})}):ea?(0,o.tZ)(g.L,{"data-testid":"bps-locked-action-pane",children:(0,o.tZ)(g.H,{children:(0,o.tZ)(X.Z,{clickHandler:eg,context:O.T.Buy})})}):(0,o.tZ)(su,{"data-testid":"bps-bid-page-container",blurbs:W,exitCheckoutFlow:eg})},sm=n(85637);let sv={type:dr.G.Other,tracking:{dataDogViewName:sm.o["chk.checkout.buy"],segmentScreenName:dr.G.Other},namespaces:["feature.guestcheckout","feature.vaulting","feature.giftcards","page.blackfriday","feature.hubbox","page.checkout"],disableServerSidePageRendering:!0,enableApolloProvider:!0},sp=(0,c.iv)(".adyen-checkout-sr-panel--sr-only{display:none;}");var sh=(0,s.Z)(()=>(0,o.BX)(u.Z,{children:[(0,o.tZ)(c.xB,{styles:[sp]}),(0,o.tZ)(sc,{})]}),sv),sg=!0},52125:function(e,t,n){"use strict";var i=n(52903);n(2784);var l=n(77533);t.Z=e=>{let{disclaimers:t}=e;return(0,i.tZ)(i.HY,{children:t.map((e,t)=>(0,i.tZ)(l.x,{fontSize:"sm","data-testid":`disclaimer-${t}`,children:"string"==typeof e?`*${e}`:e},`disclaimer-${t}`))})}},77476:function(e,t,n){"use strict";var i=n(52903);n(2784);var l=n(72242),a=n(28535),r=n(11082),o=n(38035),d=n(74409),s=n(77533),u=n(62614);t.Z=e=>{let{support:t=!1,title:n,children:c,message:m,btnClass:v,buttonText:p,clickHandler:h,helpLanguage:g="en_US"}=e,y="";return t&&(y=(0,i.tZ)(a.xu,{as:"span",children:(0,i.tZ)(l.cC,{i18nKey:"modal_pane_contact_us",components:[(0,i.tZ)(r.r,{href:`http://help.stockx.com/s/contactsupport?language=${g}`},"0")]})})),(0,i.BX)(o.k,{"data-component":"modal-pane",flexDirection:"column",alignItems:"center",mt:"8",children:[(0,i.tZ)(d.X,{size:"4xl",mb:[5],children:n}),c,(0,i.BX)(s.x,{my:"4",color:"text-secondary",children:[m," ",y]}),(0,i.tZ)(u.z,{w:"70%",variant:"primary",bg:"btn-success"===v?"brand-primary":"error",size:"lg",onClick:()=>{h()},children:p})]})}},76500:function(e,t,n){"use strict";var i=n(52903);n(2784);var l=n(38035);t.Z=e=>{let{children:t,test:n,...a}=e;return(0,i.tZ)(l.k,{_empty:{display:"none"},bg:"background-primary",w:"100%",flexDirection:"column",p:[4,5],"data-testid":"CheckoutSection",...a,children:t})}},39783:function(e,t,n){"use strict";var i=n(52903);n(2784);var l=n(55885),a=n(28535);let r=(0,l.m)(e=>{let{contained:t,children:n,...l}=e;return(0,i.tZ)(a.xu,{borderRadius:t&&"base",...l,children:n})},{baseStyle:{bgColor:"background-primary",px:{base:3,md:7},py:{base:3,md:4},my:{base:2,md:4}}});t.Z=r},68824:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var i=n(52903),l=n(2784),a=n(45430),r=n(72242),o=n(28535),d=n(77533),s=n(62614),u=n(76348),c=n(82236),m=n(13112),v=n(53361),p=n(98342),h=n(53592),g=n(52784),y=n(76536),k=n(29084),Z=n(93442),f=n(95088),b=n(80791),C=n(26872),S=e=>{var t,n,i;let{success:a,isCheckout:r=!1}=e,{trackSegmentEvent:o}=(0,c.Z)(),{action:d}=(0,C.Z)(),{submitDynamicAddress:s,data:u}=(0,f.Z)({action:d}),p=null==u?void 0:null===(i=u.saveAddress)||void 0===i?void 0:null===(n=i.meta)||void 0===n?void 0:null===(t=n.input)||void 0===t?void 0:t.forceOverrideToken,[h,g]=(0,l.useState)(!1),[y,k]=(0,l.useState)(""),[S,_]=(0,l.useState)({}),[x,N]=(0,l.useState)([]),[w,E]=(0,l.useState)(!1),[T,I]=(0,l.useState)({}),[A,B]=(0,l.useState)(""),D=(0,l.useCallback)(function(e,t){var n,i;let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(g(!1),Z.Z.scrollToTop(),B(t),l&&(null==l?void 0:l.length)>0?N(l):N([]),(null==e?void 0:e.fieldErrors)&&e.fieldErrors.length>0){let t={};e.fieldErrors.forEach(e=>{var n;if(null==e?void 0:null===(n=e.key)||void 0===n?void 0:n.includes("latin")){let n=e.key.replace("latin","");t[n.charAt(0).toLowerCase()+n.slice(1)]=e.message}else(null==e?void 0:e.key)&&(t[e.key]=null==e?void 0:e.message)}),_(t),o({type:b.Z.INLINE,eventName:v.Z.CLIENT_SIDE_ERROR,screenName:m.Z.SHIPPING,errorMessage:JSON.stringify(e.fieldErrors)})}(null==e?void 0:null===(n=e.genericError)||void 0===n?void 0:n.description)&&(k(e.genericError.description),o({type:b.Z.GENERIC,eventName:v.Z.CLIENT_SIDE_ERROR,screenName:m.Z.SHIPPING,errorMessage:null==e?void 0:null===(i=e.genericError)||void 0===i?void 0:i.description})),E(a)},[g,B,N,_,r,k]),P=(0,l.useCallback)(()=>{g(!1),a(),E(!1),N([])},[a,g]),F=(0,l.useCallback)(()=>{k(""),_({});let e={address:{fields:Object.keys(T).map(e=>({key:e,value:T[e]}))}};g(!0),s(e,P,D)},[k,_,T,s,P,D,r]),L=(0,l.useCallback)((e,t)=>{k(""),_({});let n={address:{fields:e.fields.map(e=>({key:e.key,value:e.value}))},addressToken:t};g(!0),s(n,P,D)},[k,_,s,P,D]),M=(0,l.useCallback)(()=>{let e={address:{fields:Object.keys(T).map(e=>({key:e,value:T[e]}))},forceOverrideToken:p};g(!0),s(e,P,D)},[T,p]);return{setDynamicAddress:I,submitHandler:(0,l.useCallback)(()=>{o({eventName:v.Z.SAVE_CLICKED,screenName:m.Z.SHIPPING}),F()},[o,F]),loading:h,dynamicAddressSuggestions:x,submitSuggestedDynamicAddress:L,setDynamicAddressSuggestions:N,setAddressIsOverrideable:E,clearErrors:(0,l.useCallback)(()=>{k(""),_({})},[k,_]),dynamicAddressError:y,dynamicAddressFieldErrors:S,enteredAddress:A,addressIsOverrideable:w,submitOverrideAddress:M}},_=n(13839),x=e=>{var t;let{title:n,subtitle:Z,success:f,isCheckout:b,cancel:C,location:x,history:N,isRedeem:w,redeemProduct:E}=e,{t:T}=(0,r.$G)("feature.hubbox"),{trackSegmentEvent:I,trackSegmentScreen:A}=(0,c.Z)(),B=(0,l.useMemo)(()=>{var e;return(null==x?void 0:null===(e=x.query)||void 0===e?void 0:e.returnTo)==="/portfolio"},[null==x?void 0:null===(t=x.query)||void 0===t?void 0:t.returnTo]),D=(0,l.useCallback)(()=>B&&(null==N?void 0:N.goBack)?N.goBack:f,[B,null==N?void 0:N.goBack,f]),P=(0,l.useCallback)(()=>B&&(null==N?void 0:N.goBack)?N.goBack():C(),[C,B,N]),{dynamicAddress:F}=(0,p.Z)(),{setDynamicAddress:L,submitHandler:M,loading:z,dynamicAddressSuggestions:R,submitSuggestedDynamicAddress:O,setDynamicAddressSuggestions:$,clearErrors:G,dynamicAddressError:X,dynamicAddressFieldErrors:U,enteredAddress:V,addressIsOverrideable:j,submitOverrideAddress:H,setAddressIsOverrideable:W}=S({success:D(),isCheckout:b,isRedeem:w,redeemProduct:E}),{t:Y}=(0,r.$G)();(0,a.Z)(()=>{A({pageType:m.Z.SHIPPING})});let K=(0,l.useCallback)((e,t)=>{"shipping"===t&&L(e)},[L]),{deliveryOption:q}=(0,k.Z)(),Q=(null==q?void 0:q.topic)==="COLLECT_POINT_CONFIRMED";return(0,i.BX)(i.HY,{children:[(0,i.tZ)(h.Z,{suggestions:R,submitSuggestedAddress:O,dismissSuggestions:()=>{$([]),W(!1),I({eventName:v.Z.CLOSE_CLICKED,screenName:m.Z.SUGGESTED_ADDRESS})},enteredAddress:V,isAddressOverrideable:j,submitOverrideAddress:H}),(0,i.BX)(o.xu,{py:8,"data-testid":"shipping-payment-form",sx:{"&&&":{"input.field.phonetics-error":{border:"1px solid red !important"}}},children:[(0,i.tZ)(u.Z,{title:n,subtitle:Z,isForm:!0}),(0,i.tZ)(g.Z,{error:X}),Q&&!F&&(0,i.tZ)(d.x,{children:T("pickup_shipping_disclaimer")}),(0,i.tZ)(y.Z,{clearErrors:G,reportChange:K,dynamicAddressFieldErrors:U,title:Y("Shipping Info"),type:"shipping",address:F})]}),(0,i.BX)(_.Z,{children:[(0,i.tZ)(s.z,{variant:"secondary",size:"lg",onClick:P,children:Y("Cancel")}),(0,i.tZ)(s.z,{variant:"primary",size:"lg",onClick:()=>M(),isLoading:z,children:Y("Submit Shipping Info")})]})]})}},69775:function(e,t,n){"use strict";var i=n(2784),l=n(23903),a=n(86931),r=n.n(a),o=n(21772),d=n.n(o),s=n(37757),u=n(21037);t.Z=e=>{let{context:t=s.t.Buy,shouldFetchBTtoken:n=!0,enteredCountry:a=null,shouldCollectDeviceData:o=!1,productSKU:c}=e??{},[m,v]=(0,i.useState)(),[p,h]=(0,i.useState)(),[g,y]=(0,i.useState)(null),[k,Z]=(0,i.useState)(!1),{clientPaymentToken:f,clientPaymentTokenLoading:b}=(0,u.Z)(n,a,c);return(0,i.useEffect)(()=>{Z(b)},[b]),(0,i.useEffect)(()=>{(async function(){if(f){try{let e=await r().create({authorization:f});if(o){let t=await d().create({client:e,paypal:!0});y(t),h(t.deviceData)}v(e)}catch(e){console.log(JSON.stringify(e))}Z(!1)}})()},[f,t,o]),(0,l.Z)(()=>{null==g||g.teardown()}),{braintreeClient:m,deviceData:p,loading:k||n&&!m}}},42110:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var i=n(28455),l=n(53946),a=n(29650),r=n(2784),o=n(2756),d=n(33379),s=n(72242),u=n(24301),c=n(1925),m=n(17724),v=n(23906),p=n(46718),h=n(43655),g=n(12329),y=n(3652),k=n(11204),Z=n(98342),f=n(53753);let b=e=>!!e&&13===e.length&&("P"===e[0]||"p"===e[0])&&Number.isInteger(Number(e.substring(1))),C=e=>!!e&&11===e.length&&Number.isInteger(Number(e)),S=e=>e&&e.replace(/.(?=.{4,}$)/g,"*");var _={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FetchRegulatoryIds"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"countryCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"compliance"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"regulatoryIds"},arguments:[{kind:"Argument",name:{kind:"Name",value:"countryCode"},value:{kind:"Variable",name:{kind:"Name",value:"countryCode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"regIdUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idValue"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idStatus"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:279,source:{body:"\n  query FetchRegulatoryIds($countryCode: String!) {\n    viewer {\n      compliance {\n        regulatoryIds(countryCode: $countryCode) {\n          regIdUuid\n          userUuid\n          countryCode\n          idType\n          idValue\n          idStatus\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},x={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateChkRegulatoryId"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"countryCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idValue"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createIdentificationNumber"},arguments:[{kind:"Argument",name:{kind:"Name",value:"idInput"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"countryCode"},value:{kind:"Variable",name:{kind:"Name",value:"countryCode"}}},{kind:"ObjectField",name:{kind:"Name",value:"idType"},value:{kind:"Variable",name:{kind:"Name",value:"idType"}}},{kind:"ObjectField",name:{kind:"Name",value:"idValue"},value:{kind:"Variable",name:{kind:"Name",value:"idValue"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"regIdUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idValue"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:317,source:{body:"\n  mutation CreateChkRegulatoryId(\n    $countryCode: String!\n    $idType: String!\n    $idValue: String!\n  ) {\n    createIdentificationNumber(\n      idInput: { countryCode: $countryCode, idType: $idType, idValue: $idValue }\n    ) {\n      regIdUuid\n      userUuid\n      countryCode\n      idType\n      idValue\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},N={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateRegulatoryId"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"regIdUuid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idInput"}},type:{kind:"NamedType",name:{kind:"Name",value:"IdParameterInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIdentificationNumber"},arguments:[{kind:"Argument",name:{kind:"Name",value:"regIdUuid"},value:{kind:"Variable",name:{kind:"Name",value:"regIdUuid"}}},{kind:"Argument",name:{kind:"Name",value:"idInput"},value:{kind:"Variable",name:{kind:"Name",value:"idInput"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"regIdUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idValue"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:243,source:{body:"\n  mutation UpdateRegulatoryId($regIdUuid: String!, $idInput: IdParameterInput) {\n    updateIdentificationNumber(regIdUuid: $regIdUuid, idInput: $idInput) {\n      regIdUuid\n      userUuid\n      countryCode\n      idType\n      idValue\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},w={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateEUVATID"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateEUVATID"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isExpired"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:106,source:{body:"\n  mutation UpdateEUVATID($id: String!) {\n    updateEUVATID(id: $id) {\n      id\n      isExpired\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},E=()=>{var e,t,n,E,T,I,A,B,D,P,F,L,M,z,R,O,$,G,X,U;let V;let j=(0,i.Z)(),H=(0,l.Z)(),{shippingAddress:W}=(0,Z.Z)(),Y=(0,h.Z)(),K=(0,c.Z)(),{setStep:q}=(0,g.Z)(),Q=(0,m.Z)(),J=(0,v.Z)(),[ee,et]=(0,r.useState)(""),[en,ei]=(0,r.useState)(!1),[el,ea]=(0,r.useState)(!1),{updateCustomer:er}=(0,u.Z)({setError:et,setLoading:ei}),eo="true"===(0,f.Z)("feature_mexico_rfc_id_web"),[ed,es]=(0,r.useState)(""),{t:eu}=(0,s.$G)(),{userInEU:ec}=(0,a.Z)(),em=(null==W?void 0:W.countryCodeAlpha2)==="MX",ev=(null==W?void 0:W.countryCodeAlpha2)==="QA",ep=(null==W?void 0:W.countryCodeAlpha2)==="KR",{data:eh,loading:eg}=(0,o.a)(y.Z,{variables:{},skip:j&&!ec||!j,fetchPolicy:"no-cache"}),{data:ey,loading:ek,error:eZ}=(0,o.a)(_,{variables:{countryCode:null==W?void 0:W.countryCodeAlpha2},skip:!(null==W?void 0:W.countryCodeAlpha2)||!em&&j,fetchPolicy:"no-cache"}),[ef,{data:eb,loading:eC,error:eS}]=(0,d.D)(w),[e_,{data:ex,loading:eN,error:ew}]=(0,d.D)(N),[eE,{data:eT,loading:eI,error:eA}]=(0,d.D)(x);(0,r.useEffect)(()=>{eC||eN||eI?ea(!0):ea(!1)},[eC,eN,eI]),(0,r.useEffect)(()=>{ek||eg?ei(!0):ei(!1)},[eg,ek]),(0,r.useEffect)(()=>{if(eS&&et("eu_vat_generic_error"),ew||eA){var e,t;et(null==ew?void 0:null===(t=ew.graphQLErrors[0])||void 0===t?void 0:null===(e=t.extensions)||void 0===e?void 0:e.payload)}eZ&&et("regulatory_id_error")},[eZ,eS,ew,eA]),ec&&(V={country:null==W?void 0:W.countryCodeAlpha2,countryCode:null==W?void 0:W.countryCodeAlpha2,idValue:(null==eb?void 0:null===(e=eb.updateEUVATID)||void 0===e?void 0:e.id)||(null==eh?void 0:null===(E=eh.viewer)||void 0===E?void 0:null===(n=E.taxes)||void 0===n?void 0:null===(t=n.euVAT)||void 0===t?void 0:t.id)||eu("eu_vat_empty"),idType:"VAT ID",canSkip:!0,isExpired:(null==eb?void 0:null===(T=eb.updateEUVATID)||void 0===T?void 0:T.isExpired)||(null==eh?void 0:null===(B=eh.viewer)||void 0===B?void 0:null===(A=B.taxes)||void 0===A?void 0:null===(I=A.euVAT)||void 0===I?void 0:I.isExpired),name:"VAT ID",reason:"eu_vat_subheader",required:!1}),em&&Y===k.T.Sell&&(V={country:"Mexico",countryCode:"MX",idType:"RFC ID",canSkip:!0,idValue:(null==eT?void 0:null===(D=eT.createIdentificationNumber)||void 0===D?void 0:D.idValue)||(null==ex?void 0:null===(P=ex.updateIdentificationNumber)||void 0===P?void 0:P.idValue)||(null==ey?void 0:null===(z=ey.viewer)||void 0===z?void 0:null===(M=z.compliance)||void 0===M?void 0:null===(L=M.regulatoryIds)||void 0===L?void 0:null===(F=L[0])||void 0===F?void 0:F.idValue),name:"Mexico ID",reason:"regulatory_rfc_reason",regIdUuid:null==ey?void 0:null===(G=ey.viewer)||void 0===G?void 0:null===($=G.compliance)||void 0===$?void 0:null===(O=$.regulatoryIds)||void 0===O?void 0:null===(R=O[0])||void 0===R?void 0:R.regIdUuid,required:!1}),ep&&(V={code:"ccicId",country:"South Korea",countryCode:"KR",idType:"CCIC",idValue:S(null==H?void 0:null===(X=H.Meta)||void 0===X?void 0:X.ccicId),name:"CCIC",reason:"regulatory_ccic_reason",required:!0,canSkip:!1}),ev&&(V={code:"qatarId",country:"Qatar",countryCode:"QA",idType:"Qatar ID",idValue:S(null==H?void 0:null===(U=H.Meta)||void 0===U?void 0:U.qatarId),name:"Qatar ID",reason:"regulatory_qatarid_reason",required:!0,canSkip:!1});let eB=(0,r.useMemo)(()=>{var e;return{pathname:(null==Q?void 0:null===(e=Q.state)||void 0===e?void 0:e.prevPath)??K("/settings"),state:{prevPath:K("/settings/regulatory")}}},[K]),eD=(0,r.useCallback)(()=>{if(Y===k.T.Buy){q(null===p.j||void 0===p.j?void 0:p.j.BidEntry);return}J.push(eB)},[Y,J,eB,q]),eP=(0,r.useCallback)(async e=>{if(H&&(ed||ec||et("field_required"),em&&(null==V?void 0:V.idValue)&&e_({variables:{regIdUuid:null==V?void 0:V.regIdUuid,idInput:{countryCode:null==W?void 0:W.countryCodeAlpha2,idType:"RFC",idValue:ed}},onCompleted:eD}),!em||(null==V?void 0:V.idValue)||eE({variables:{countryCode:null==W?void 0:W.countryCodeAlpha2,idType:"RFC",idValue:ed},onCompleted:eD}),ec&&ed&&ef({variables:{id:ed},onCompleted:eD}),ec&&!ed&&eD(),ep||ev)){if(ep&&!b(ed)){et("invalid_ccic_error");return}if(ev&&!C(ed)){et("qatar_id_invalid_error");return}ea(!0);let{id:t,firstName:n,lastName:i,username:l,defaultSize:a,defaultCurrency:r,email:o,Meta:d}=H;await er(t,{Customer:{firstname:n,lastname:i,username:l,defaultSize:a,defaultCurrency:r,email:o,Meta:{...d,[null==V?void 0:V.code]:ed}}}),ea(!1),e?e():eD()}},[eE,H,ed,eD,null==V?void 0:V.code,null==V?void 0:V.idValue,null==V?void 0:V.regIdUuid,er,ef,e_,ec,ep,em,ev,W]);return(0,r.useMemo)(()=>({handleCancel:eD,...(eo||!em)&&{handleUpdateId:eP},loading:en,idError:ee,regulatoryIdConfig:V,setTempId:es,tempId:ed,updatingId:el}),[eD,eP,en,ee,V,es,ed,el])}},37240:function(e,t,n){"use strict";var i=n(2784),l=n(45430),a=n(25658),r=n(93442),o=n(88863),d=n(19307),s=n(28359),u=n(72242),c=n(67176),m=n(53361),v=n(80791),p=n(13112),h=n(82236),g=n(3255),y=n(47965),k=n(69143),Z=n(52494),f=n(58967),b=n(33788),C=n(26872),S=n(91456);let _=(e,t)=>({context:{headers:{[e===k.fk.Checkout?"x-checkout-trace-id":"x-vault-trace-id"]:t}}});t.Z=e=>{let{setThreeDSError:t,setThreeDSLoading:n,submit:x,adyen3DSModal:N,setAdyen3DSModalOpen:w,flow:E}=e,T=(0,S.Z)(),I=(0,d.Z)(),A="base"===(0,y.EN)(),{trackSegmentEvent:B}=(0,h.Z)(),{isSettingsFlow:D,flowName:P}=(0,Z.Z)(),F=r.Z.getCookie("language_code")||"en",{url:L}=o.a2[F],[M,z]=L.split("-"),R=`${M}-${z.toUpperCase()}`,O=["es-US","es-MX","en-GB"].includes(R)?"en-US":R,$={challengeWindowSize:A?"01":"02"},{t:G}=(0,u.$G)(),[X,U]=(0,i.useState)(!1),{mutatefn:V}=(0,f.Z)(),{mutatefn:j}=(0,b.Z)(),{action:H}=(0,C.Z)(),W=(0,i.useCallback)(e=>{let{label:t,traceId:n,id:i}=e;D?(0,c.Z)(m.Z.CLIENT_SIDE_ERROR,{screenName:P,attemptId:n,paymentsSessionId:i,psp:k.h7.Adyen,label:t,type:v.Z.INLINE}):B({eventName:m.Z.CLIENT_SIDE_ERROR,screenName:E===k.fk.Checkout?p.Z.REVIEW:p.Z.PAYMENT,label:t,type:v.Z.INLINE,addtlProps:{attemptId:n,paymentsSessionId:i,psp:k.h7.Adyen}})},[B,D,c.Z,P]),Y=(0,g.Z)(),K=(0,i.useCallback)(e=>{let{type:t,label:n,traceId:i,id:l}=e,a=D?P:p.Z.PAYMENT,r=E===k.fk.Checkout?p.Z.REVIEW:a,o={...E===k.fk.Checkout?{flow:H}:{},type:t,label:n,attemptId:i,paymentsSessionId:l,psp:k.h7.Adyen,screenName:r};D?(0,c.Z)(m.Z.THREEDS_CHALLENGE_RESPONSE,o):(0,c.Z)(m.Z.THREEDS_CHALLENGE_RESPONSE,{...o,...Y})},[c.Z,H,D,P]),q=(e,i)=>async l=>{w(!1);let a=!1;try{var r,o,d;let n=await V({CreateThreeDSAuthenticationInput:{moneySessionId:e,threeDSToken:null==l?void 0:null===(o=l.data)||void 0===o?void 0:null===(r=o.details)||void 0===r?void 0:r.threeDSResult}},{..._(E,i)}),s=null==n?void 0:null===(d=n.createThreeDSAuthentication)||void 0===d?void 0:d.threeDSAuthStatus;s===k.OH.AUTHENTICATED||s===k.OH.INPROGRESS?(K({type:k.zV.success,traceId:i,id:e}),a=!0):t(G("three_ds_auth_failed_error"))}catch{t(G("three_ds_auth_failed_error"))}finally{n(!1),a||t(G("three_ds_auth_failed_error")),(a||E===k.fk.Vault)&&x({moneySessionId:e,error:a?null:G("three_ds_auth_failed_error"),checkoutTraceId:i,threeDSAuthenticationShown:!0})}},Q=(e,i)=>()=>{n(!1),t(G("three_ds_auth_failed_error")),w(!1),E===k.fk.Vault&&x({moneySessionId:e,error:G("three_ds_auth_failed_error")}),W({label:"Adyen SDK or action error",traceId:i,id:e})};return(0,l.Z)(()=>{document.getElementById("AdyenCSS")?U(!0):function(){var e,t;let n=document.createElement("link");n.setAttribute("href",`https://checkoutshopper-live.adyen.com/checkoutshopper/sdk/${s.default.SERVICES.ADYEN.ADYEN_CSS_URL_VERSION}/adyen.css`),n.setAttribute("rel","stylesheet"),n.type="text/css",n.setAttribute("integrity",`${s.default.SERVICES.ADYEN.ADYEN_CSS_SHA_VALUE}`),n.setAttribute("crossorigin","anonymous"),n.setAttribute("ID","AdyenCSS"),n.onload=()=>{U(!0)},null===(t=document)||void 0===t||null===(e=t.querySelector("head"))||void 0===e||e.appendChild(n)}()}),{handle3DS:async e=>{let{id:i,action:l,traceId:r=null}=e;if(!X){t(G("three_ds_auth_failed_error")),W({label:"Adyen CSS failed to load",traceId:r,id:i});return}t(null),w(!0),n(!0);try{let{createPaymentClientProviderToken:{paymentClientProviderToken:e,providerEnv:t}={paymentClientProviderToken:null,providerEnv:"test"}}=await j({PaymentProviderTokenInput:{currencyCode:I,providerName:k.h7.Adyen.toUpperCase(),countryCode:T}},{..._(E,r)});(await (0,a.Z)({environment:t,locale:O,clientKey:e,onAdditionalDetails:q(i,r),onError:Q(i,r)})).createFromAction(JSON.parse(l),$).mount(null==N?void 0:N.current)}catch{Q(i,r)()}}}}},67693:function(e,t,n){"use strict";var i=n(52903);n(2784);var l=n(93672),a=n(38035),r=n(340),o=n(74409),d=n(77533),s=n(11082),u=n(62614);t.Z=e=>{let{imageUrl:t,heading:n,message:c,buttonConfig:m,linkConfig:v}=e;return(0,i.BX)(a.k,{marginTop:"24",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:"5",children:[(0,i.tZ)(r.Ee,{src:l.Z.getUrl(t),height:{base:"188px",tablet:"initial"},width:{base:"188px",tablet:"initial"}}),(0,i.tZ)(o.X,{fontSize:["2xl","4xl"],marginTop:"12",marginBottom:"6",variant:"bold",textAlign:"center",width:"80%",children:n}),(0,i.BX)(d.x,{textAlign:"center",fontSize:["lg","lg","xl"],marginBottom:"1.5rem",color:"text-secondary",width:"80%",children:[c,!!(null==v?void 0:v.href)&&(0,i.tZ)(s.r,{colorScheme:"brand-primary",href:v.href,fontSize:"lg",isExternal:!0,children:v.text})]}),!!(null==m?void 0:m.onClick)&&(0,i.tZ)(u.z,{variant:"primary",size:"lg",onClick:m.onClick,children:null==m?void 0:m.text})]})}},1653:function(e,t,n){"use strict";var i=n(52903);n(2784);let l=(0,n(21112).I)({displayName:"XpressShippingIcon",viewBox:"0 0 19 18",path:(0,i.BX)("svg",{width:"19",height:"18",viewBox:"0 0 19 18",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.tZ)("path",{d:"M7.37579 13.0334C6.69179 13.7174 5.71979 13.8254 5.21579 13.2854C4.67579 12.7454 4.78379 11.7734 5.46779 11.1254C5.53979 11.0534 5.64779 10.9814 5.71979 10.9094C5.03579 10.6934 4.35179 10.8014 3.88379 11.2694C3.88379 11.2694 2.91179 12.2774 3.16379 15.3374C3.16379 15.3374 5.93579 15.8414 7.23179 14.6174C7.69979 14.1854 7.80779 13.4654 7.59179 12.7814C7.51979 12.8534 7.44779 12.9254 7.37579 13.0334Z",fill:"brand-secondary"}),(0,i.tZ)("path",{d:"M15.8714 2.98947L15.8354 2.66547L15.5114 2.62947C15.4754 2.62947 11.2994 2.12547 8.02344 5.40147L6.04344 5.11347L3.52344 7.77747L5.93544 8.35347C5.71944 8.74947 5.53944 9.18147 5.35944 9.64947L5.25144 9.90147L8.59944 13.2495L8.85144 13.1415C9.31944 12.9615 9.75144 12.7815 10.1474 12.5655L10.7234 15.0135L13.3874 12.4935L13.0994 10.4415C16.3754 7.16547 15.8714 3.02547 15.8714 2.98947ZM8.81544 12.1695L6.29544 9.64947C8.67144 3.60147 13.6394 3.38547 15.0074 3.45747C15.0794 4.82547 14.8634 9.79347 8.81544 12.1695Z",fill:"brand-secondary"}),(0,i.tZ)("path",{d:"M10.1837 6.48186C9.67966 6.98586 9.67966 7.77786 10.1837 8.24586C10.6877 8.74986 11.4797 8.74986 11.9477 8.24586C12.4517 7.74186 12.4517 6.94986 11.9477 6.48186C11.4797 6.01386 10.6877 6.01386 10.1837 6.48186Z",fill:"brand-secondary"})]})});t.Z=l},47877:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var i=n(52903),l=n(98342),a=n(1925),r=n(23906),o=n(12329),d=n(94980),s=n(13839),u=n(76348),c=n(46718),m=n(28535),v=n(38035),p=n(77533),h=n(62614),g=n(74008),y=n(85573);n(2784);var k=n(72242),Z=e=>{let{setTempId:t,tempId:n,regulatoryIdConfig:Z,idError:f,handleUpdateId:b,handleCancel:C}=e,{t:S}=(0,k.$G)(),_=(0,a.Z)(),x=(0,r.Z)(),{setStep:N}=(0,o.Z)(),w=(0,d.Z)(),{shippingAddress:E}=(0,l.Z)();return(0,i.BX)(m.xu,{py:8,"data-testid":"regulatoryid-form",sx:{"&&&":{"input.field.phonetics-error":{border:"1px solid red !important"}}},children:[(0,i.tZ)(u.Z,{title:S("regulatory_add_id"),subtitle:S("regulatory_add_id_shipping"),isForm:!0}),(0,i.BX)(v.k,{justifyContent:"space-between",mb:"12",children:[(0,i.BX)(m.xu,{children:[(0,i.tZ)(p.x,{children:null==E?void 0:E.streetAddress}),(0,i.tZ)(p.x,{children:null==E?void 0:E.extendedAddress}),(0,i.tZ)(p.x,{children:`${null==E?void 0:E.locality}, ${null==E?void 0:E.region} ${null==E?void 0:E.postalCode}`})]}),b&&(0,i.tZ)(h.z,{color:"brand-primary",fontWeight:"medium",textUnderlineOffset:"4px",textDecoration:"underline",_hover:{backgroundColor:"background-accent-1"},backgroundColor:"background-accent-1",onClick:()=>w?N(c.j.Shipping):x.push(_("/settings/shipping")),children:S("EDIT")})]}),(0,i.BX)(m.xu,{p:4,pl:"6",backgroundColor:"background-primary",children:[(0,i.BX)(v.k,{alignItems:"center",children:[(0,i.tZ)(p.x,{color:"text-secondary",fontSize:"sm",fontWeight:"medium",children:null==Z?void 0:Z.country}),(0,i.tZ)(g.i,{orientation:"vertical",mx:"2",height:"4",borderColor:"text-secondary"}),(0,i.tZ)(p.x,{color:"text-secondary",fontSize:"sm",fontWeight:"medium",children:null==Z?void 0:Z.name})]}),(0,i.tZ)(p.x,{my:"2",children:S(null==Z?void 0:Z.reason)}),(0,i.tZ)(y.I,{value:n,borderColor:f&&"error",onChange:e=>{var n;return t(null==e?void 0:null===(n=e.target)||void 0===n?void 0:n.value)},placeholder:null==Z?void 0:Z.name}),f&&(0,i.tZ)(p.x,{color:"error",fontWeight:"medium",pt:"2",children:S(f)})]}),(0,i.tZ)(s.Z,{children:(0,i.BX)(i.HY,{children:[(0,i.tZ)(h.z,{variant:"secondary",size:"lg",onClick:()=>C(),children:S("Back")}),b&&(0,i.tZ)(h.z,{variant:"primary",size:"lg",onClick:()=>b(),children:S((null==Z?void 0:Z.canSkip)&&!n?"eu_vat_skip_button":"Save")})]})})]})},f=n(49259),b=n(87436),C=n(95897),S=n(11121),_=e=>{let{handleCancel:t,handleUpdateId:n,idError:l,regulatoryIdConfig:a,tempId:r,setTempId:o}=e,{t:d}=(0,k.$G)();return(0,i.BX)(m.xu,{py:8,"data-testid":"taxid-form",sx:{"&&&":{"input.field.phonetics-error":{border:"1px solid red !important"}}},children:[(0,i.tZ)(u.Z,{title:d("regulatory_saved_ids"),subtitle:d("regulatory_stored_ids"),isForm:!0}),(0,i.tZ)(f.U,{allowMultiple:!1,border:"none",children:(0,i.tZ)(b.Q,{border:"none",marginBottom:"4",p:4,pl:"6",backgroundColor:"background-primary",children:e=>{let{isExpanded:t}=e;return(0,i.BX)(i.HY,{children:[(0,i.BX)(v.k,{justifyContent:"space-between",alignItems:"center",children:[(0,i.BX)(m.xu,{children:[(0,i.BX)(v.k,{alignItems:"center",children:[(0,i.tZ)(p.x,{color:"text-secondary",fontSize:"sm",fontWeight:"medium",children:null==a?void 0:a.countryCode}),(0,i.tZ)(g.i,{orientation:"vertical",mx:"2",height:"4",borderColor:"text-secondary"}),(0,i.tZ)(p.x,{color:"text-secondary",fontSize:"sm",fontWeight:"medium",children:null==a?void 0:a.idType})]}),!t&&(0,i.tZ)(p.x,{mt:"2",color:(null==a?void 0:a.isExpired)?"error":"netral.700",fontWeight:"medium",children:`${null==a?void 0:a.idValue}${(null==a?void 0:a.isExpired)?` - ${d("eu_vat_expired")}`:""}`})]}),n&&(0,i.tZ)(C.K,{display:n?"initial":"none",_hover:{backgroundColor:"background-primary"},width:"auto",children:(0,i.tZ)(p.x,{fontSize:"sm",fontWeight:"medium",color:"brand-primary",textUnderlineOffset:"4px",textDecoration:"underline",children:d("EDIT")})})]}),(0,i.tZ)(S.H,{py:"4",px:"0",children:(0,i.BX)(m.xu,{children:[(0,i.tZ)(y.I,{value:r,borderColor:l&&"error",onChange:e=>{var t;return o(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)},placeholder:d(null==a?void 0:a.name)}),l&&(0,i.tZ)(p.x,{color:"error",fontWeight:"medium",pt:"2",children:d(l)})]})})]})}})}),(0,i.tZ)(p.x,{fontSize:"sm",mt:"2",children:d(null==a?void 0:a.reason)}),(0,i.tZ)(s.Z,{children:(0,i.BX)(i.HY,{children:[(0,i.tZ)(h.z,{variant:"secondary",size:"lg",onClick:()=>t(),children:d("Back")}),n&&(0,i.tZ)(h.z,{variant:"primary",size:"lg",onClick:()=>n(),children:(null==a?void 0:a.canSkip)&&!r?d("eu_vat_skip_button"):"Save"})]})})]})},x=n(90596),N=e=>{let{regulatoryIdConfig:t,idError:n,handleUpdateId:l,handleCancel:a,loading:r=!1,tempId:o,setTempId:d}=e;return r?(0,i.tZ)(x.Q,{}):(null==t?void 0:t.idValue)?(0,i.tZ)(_,{idError:n,regulatoryIdConfig:t,handleUpdateId:l,tempId:o,handleCancel:a,setTempId:d}):(0,i.tZ)(Z,{tempId:o,idError:n,handleCancel:a,setTempId:d,regulatoryIdConfig:t,handleUpdateId:l})}},76108:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(52903);n(2784);var l=n(67693),a=n(72242),r=e=>{let{buttonConfig:t={}}=e,{t:n}=(0,a.$G)();return(0,i.tZ)(l.Z,{imageUrl:"/svg/hazmat/hazmat_battery.svg",heading:n("hazmat_noneligible_sellers_blocked_heading"),message:n("hazmat_noneligible_sellers_blocked_body"),buttonConfig:t})}},20694:function(e,t,n){"use strict";n.d(t,{SP:function(){return u},Y9:function(){return c},_Z:function(){return s},vS:function(){return m}});var i=n(52903);n(2784);var l=n(55885),a=n(38035),r=n(74105),o=n(77533),d=n(28535);let s=(0,l.m)(a.k,{baseStyle:{alignItems:"center",justifyContent:"space-between",".warning":{boxSizing:"border-box"}}}),u=(0,l.m)(e=>{let{emphasizedWarning:t,children:n,...l}=e;return(0,i.tZ)(r.B,{boxSizing:t&&"border-box",...l,children:n})},{baseStyle:{w:"100%",height:12,alignItems:"center",boxSizing:"border-box",bg:"background-primary",fontSize:"2xl"}}),c=(0,l.m)(o.x,{baseStyle:{fontSize:"xl",fontFamily:"SuisseIntl-Bold",fontWeight:"bold",color:"text-primary"}}),m=(0,l.m)(d.xu,{baseStyle:{w:"100%",h:"100%",px:"5",fontSize:{base:"lg",lg:"2xl"},lineHeight:"3.75rem",border:"1px",borderStyle:"solid",borderColor:"outline-secondary",borderRadius:"base"}})},95837:function(e,t,n){"use strict";n.d(t,{w:function(){return a}});var i=n(55885),l=n(11082);let a=(0,i.m)(l.r,{baseStyle:{color:"brand-primary",ml:"1",textDecoration:"underline",_hover:{color:"brand-primary"}}})},12418:function(e,t,n){"use strict";var i=n(52903),l=n(93672),a=n(38035),r=n(340),o=n(74409),d=n(77533);n(2784);var s=n(72242),u=n(1925),c=n(66463),m=n(1426);t.Z=e=>{let{inline:t=!1}=e,{t:n}=(0,s.$G)(),v=(0,u.Z)(),p=`https://stockx.com/help${v("home")}`;return(0,i.BX)(a.k,{justifyContent:"center",alignItems:"center",flexDirection:"column",children:[!t&&(0,i.tZ)(r.Ee,{alt:"account on hold",width:["50%","50%","100%"],"data-testid":"account-on-hold-img",src:l.Z.getUrl("/svg/security/account-on-hold.svg")}),(0,i.tZ)(o.X,{marginTop:"14",fontWeight:"bold",fontSize:["2xl-static","2xl-static","3xl-static"],children:n("account_on_hold_header")}),(0,i.tZ)(d.x,{marginTop:"2",children:n("account_on_hold_body")}),(0,i.tZ)(c.Z,{mt:"6",variant:"primary",size:"lg",as:m.Z,to:p,children:n("account_on_hold_button")})]})}},76809:function(e,t,n){"use strict";var i=n(52903);n(2784);var l=n(93672),a=n(72242),r=n(77476),o=n(38035),d=n(340),s=n(77533),u=n(11082),c=n(11204),m=n(11584);t.Z=e=>{let{clickHandler:t,context:n}=e,{t:v}=(0,a.$G)(),p=(0,m.Z)();return(0,i.tZ)(r.Z,{title:"Slow down speed racer",buttonText:"Got It",btnClass:n===c.T.Buy?"btn-success":"btn-danger",clickHandler:t,children:(0,i.BX)(o.k,{"data-component":"ipo-body",children:[(0,i.tZ)(d.Ee,{w:"33%",mr:"3",display:["none","block"],src:l.Z.getUrl(n===c.T.Buy?"svg/icons/graph-clock-green.svg":"svg/icons/graph-clock-red.svg"),alt:"","data-testid":"locked-action-pane-image"}),(0,i.tZ)(s.x,{fontSize:"lg",children:(0,i.tZ)(a.cC,{i18nKey:n===c.T.Buy?"bid_flow_product_not_available_message":"ask_flow_product_not_available_message",values:{faq_page_link:v("faq_page_link"),contact_support_link:v("contact_support_link")},components:[(0,i.tZ)(u.r,{href:`http://help.stockx.com/s/language=${p}`},"0"),(0,i.tZ)(u.r,{href:`http://help.stockx.com/s/contactsupport?language=${p}`},"1")]})})]})})}},12563:function(e,t,n){"use strict";var i=n(52903),l=n(93672),a=n(38035),r=n(340),o=n(74409),d=n(77533),s=n(62614),u=n(11082);n(2784);var c=n(72242),m=n(11204),v=n(1925),p=n(23906),h=n(78291),g=n(13839),y=n(24255),k=n(67432);t.Z=e=>{let{context:t}=e,{t:n}=(0,c.$G)(),Z=(0,v.Z)(),{product:f}=(0,k.Z)(),b=(0,p.Z)(),C=t===m.T.Buy?g.Z:y.Z;return(0,i.BX)(a.k,{justifyContent:"center",alignItems:"center",flexDirection:"column",children:[(0,i.tZ)(r.Ee,{alt:"security badge","data-testid":"mfa-required-img",src:l.Z.getUrl("/svg/security/security.svg")}),(0,i.tZ)(o.X,{marginTop:"14",fontSize:"2xl-static",children:n("mfa_required_header")}),(0,i.tZ)(d.x,{marginTop:"4",children:n("mfa_required_body")}),(0,i.BX)(C,{variant:"full-width",children:[(0,i.tZ)(s.z,{variant:"secondary",size:"lg",onClick:()=>b.push(Z(`/${null==f?void 0:f.urlKey}`)),children:n("Close")}),(0,i.tZ)(u.r,{"data-testid":"bidask-bottom-right-btn-anchor",height:"42px",display:"flex",justifyContent:"center",alignItems:"center",textDecoration:"none",py:4,px:3,backgroundColor:"background-inverse-secondary",color:"white",fontWeight:"semibold",as:h.Z,isExternal:!0,to:Z("/settings"),variant:"primary",size:"lg",_hover:{color:"white"},_focus:{color:"white"},children:n("mfa_required_button_text")})]})]})}},22380:function(e,t,n){"use strict";var i=n(21640);t.Z=()=>{var e,t,n,l;let a=window&&window.screen?window.screen.width.toString():"",r=window&&window.screen?window.screen.height.toString():"",o=window&&window.screen?window.screen.colorDepth.toString():"",d=window&&window.navigator?window.navigator.userAgent:"",s=!!window&&!!window.navigator&&navigator.javaEnabled(),u=window.navigator?window.navigator.language:"";return{browserInfo:{acceptHeader:"*/*",screenWidth:a,screenHeight:r,colorDepth:o,userAgent:d,timeZoneOffset:new Date().getTimezoneOffset().toString(),language:u,javaEnabled:s},originUrl:i.j&&(null===(t=window)||void 0===t?void 0:null===(e=t.location)||void 0===e?void 0:e.origin),returnUrl:i.j&&(null===(l=window)||void 0===l?void 0:null===(n=l.location)||void 0===n?void 0:n.href)}}},59107:function(e,t,n){"use strict";var i=n(17724),l=n(5740),a=n(22118);t.Z=()=>{let{query:{country:e}}=(0,i.Z)(),t=(0,a.Z)(e)&&e,n=(0,l.Z)();return t||n||"US"}},24255:function(e,t,n){"use strict";var i=n(52903),l=n(2784),a=n(91982),r=n(32981),o=n(73751),d=n(50250),s=n(17190),u=n(43297),c=n(75768),m=n(28165);let v=e=>(0,m.iv)("main{padding-bottom:",e,"px !important;}.chakra-modal__content-container{height:100% !important;}#chakra-toast-manager-bottom{margin-bottom:75px !important;}"),p={legacy:{display:"flex",maxWidth:{base:"100%",md:"40%"},minWidth:{base:"0",md:"450px",lg:"500px"},px:{base:"3",sm:"5",lg:"7","2xl":"5%"},py:2,marginRight:"0 !important"},"right-aligned":{maxWidth:{base:"100%",lg:"45%"},px:{base:"2em",lg:"4em"},display:"flex",alignItems:"center",marginRight:"0 !important","div *:only-child":{marginLeft:"auto"}},"full-width":{maxWidth:"100%",px:{base:"2em",lg:"4em"},display:"flex",alignItems:"center","& > div":{justifyContent:"center"}}};t.Z=e=>{let{children:t,variant:n="legacy",size:h="md"}=e,g=(0,a.jC)("Drawer",{}),y=(0,l.useRef)(null),[k,Z]=(0,l.useState)(0);return(0,l.useLayoutEffect)(()=>{var e;Z((null===(e=y.current)||void 0===e?void 0:e.offsetHeight)||0)}),(0,i.BX)(i.HY,{children:[(0,i.tZ)(m.xB,{styles:[v(k)]}),(0,i.tZ)(r.d,{isOpen:!0,placement:"bottom",blockScrollOnMount:!1,closeOnOverlayClick:!1,trapFocus:!1,onClose:()=>null,isFullHeight:!1,children:(0,i.tZ)(o.s,{borderTopWidth:"2px",borderTopColor:"outline-secondary",borderTopStyle:"solid",sx:{...g.drawerContent,"&":{zIndex:"10 !important"}},children:(0,i.tZ)(d.m,{sx:{...g.DrawerFooter,width:"100%",paddingInline:0},ref:y,children:(0,i.tZ)(s.W,{sx:p[n],children:(0,i.tZ)(u.K,{direction:"row",width:"100%",align:"center",justifyContent:"space-between",as:c.h,size:h,children:t})})})})})]})}},10993:function(e,t,n){"use strict";var i=n(52903);n(2784);var l=n(91982),a=n(32981),r=n(73751),o=n(50250),d=n(38035),s=n(28165);let u=(0,s.iv)(".chakra-modal__content-container{height:inherit !important;}");t.Z=e=>{let{children:t}=e,n=(0,l.jC)("Drawer",{});return(0,i.BX)(i.HY,{children:[(0,i.tZ)(s.xB,{styles:[u]}),(0,i.tZ)(a.d,{isOpen:!0,placement:"bottom",blockScrollOnMount:!1,closeOnOverlayClick:!1,trapFocus:!1,onClose:()=>null,isFullHeight:!1,children:(0,i.tZ)(r.s,{borderTopWidth:"2px",borderTopColor:"outline-secondary",borderTopStyle:"solid",sx:n.drawerContent,children:(0,i.tZ)(o.m,{sx:n.DrawerFooter,py:2,children:(0,i.tZ)(d.k,{align:"center",justifyContent:"space-between",width:"100%",pt:3,pb:3,children:t})})})})]})}},47798:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/buy/[product]/[[...rest]]",function(){return n(51174)}])}},function(e){e.O(0,[8727,4124,1736,2048,9037,5527,8834,1246,340,8448,1417,2876,2756,7010,3428,7861,6931,4934,1822,1989,1772,401,50,3880,9770,4761,7125,584,7739,2888,9774,179],function(){return e(e.s=47798)}),_N_E=e.O()}]);